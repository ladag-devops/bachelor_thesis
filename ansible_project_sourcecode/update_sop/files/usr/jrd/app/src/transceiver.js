!function(e){var t={};function r(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(i,o,function(t){return e[t]}.bind(null,o));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=171)}([function(e,t,r){(function(e){e.exports=function(){"use strict";var t,i;function o(){return t.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var r,i=[];for(r=0;r<e.length;++r)i.push(t(e[r],r));return i}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function g(e,t){for(var r in t)d(t,r)&&(e[r]=t[r]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,r,i){return Ot(e,t,r,i,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=h(e),r=i.call(t.parsedDateParts,(function(e){return null!=e})),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function f(e){var t=p(NaN);return null!=e?g(h(t),e):h(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),r=t.length>>>0,i=0;i<r;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var y=o.momentProperties=[];function _(e,t){var r,i,o;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=h(t)),a(t._locale)||(e._locale=t._locale),y.length>0)for(r=0;r<y.length;r++)a(o=t[i=y[r]])||(e[i]=o);return e}var S=!1;function v(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===S&&(S=!0,o.updateOffset(this),S=!1)}function w(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function M(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=b(t)),r}function T(e,t,r){var i,o=Math.min(e.length,t.length),n=Math.abs(e.length-t.length),s=0;for(i=0;i<o;i++)(r&&e[i]!==t[i]||!r&&M(e[i])!==M(t[i]))&&s++;return s+n}function A(e){!1===o.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function D(e,t){var r=!0;return g((function(){if(null!=o.deprecationHandler&&o.deprecationHandler(null,e),r){for(var i,n=[],s=0;s<arguments.length;s++){if(i="","object"==typeof arguments[s]){for(var a in i+="\n["+s+"] ",arguments[0])i+=a+": "+arguments[0][a]+", ";i=i.slice(0,-2)}else i=arguments[s];n.push(i)}A(e+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var L,E={};function F(e,t){null!=o.deprecationHandler&&o.deprecationHandler(e,t),E[e]||(A(t),E[e]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function k(e,t){var r,i=g({},e);for(r in t)d(t,r)&&(s(e[r])&&s(t[r])?(i[r]={},g(i[r],e[r]),g(i[r],t[r])):null!=t[r]?i[r]=t[r]:delete i[r]);for(r in e)d(e,r)&&!d(t,r)&&s(e[r])&&(i[r]=g({},i[r]));return i}function R(e){null!=e&&this.set(e)}o.suppressDeprecationWarnings=!1,o.deprecationHandler=null,L=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)d(e,t)&&r.push(t);return r};var O={};function N(e,t){var r=e.toLowerCase();O[r]=O[r+"s"]=O[t]=e}function W(e){return"string"==typeof e?O[e]||O[e.toLowerCase()]:void 0}function I(e){var t,r,i={};for(r in e)d(e,r)&&(t=W(r))&&(i[t]=e[r]);return i}var B={};function j(e,t){B[e]=t}function Y(e,t,r){var i=""+Math.abs(e),o=t-i.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}var P=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,x={},H={};function z(e,t,r,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),e&&(H[e]=o),t&&(H[t[0]]=function(){return Y(o.apply(this,arguments),t[1],t[2])}),r&&(H[r]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function V(e,t){return e.isValid()?(t=G(t,e.localeData()),x[t]=x[t]||function(e){var t,r,i,o=e.match(P);for(t=0,r=o.length;t<r;t++)H[o[t]]?o[t]=H[o[t]]:o[t]=(i=o[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,n="";for(i=0;i<r;i++)n+=C(o[i])?o[i].call(t,e):o[i];return n}}(t),x[t](e)):e.localeData().invalidDate()}function G(e,t){var r=5;function i(e){return t.longDateFormat(e)||e}for(U.lastIndex=0;r>=0&&U.test(e);)e=e.replace(U,i),U.lastIndex=0,r-=1;return e}var q=/\d/,J=/\d\d/,$=/\d{3}/,K=/\d{4}/,X=/[+-]?\d{6}/,Z=/\d\d?/,Q=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,re=/\d{1,4}/,ie=/[+-]?\d{1,6}/,oe=/\d+/,ne=/[+-]?\d+/,se=/Z|[+-]\d\d:?\d\d/gi,ae=/Z|[+-]\d\d(?::?\d\d)?/gi,le=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ce={};function ue(e,t,r){ce[e]=C(t)?t:function(e,i){return e&&r?r:t}}function de(e,t){return d(ce,e)?ce[e](t._strict,t._locale):new RegExp(ge(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,i,o){return t||r||i||o}))))}function ge(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pe={};function he(e,t){var r,i=t;for("string"==typeof e&&(e=[e]),l(t)&&(i=function(e,r){r[t]=M(e)}),r=0;r<e.length;r++)pe[e[r]]=i}function me(e,t){he(e,(function(e,r,i,o){i._w=i._w||{},t(e,i._w,i,o)}))}function fe(e,t,r){null!=t&&d(pe,e)&&pe[e](t,r._a,r,e)}var ye=0,_e=1,Se=2,ve=3,we=4,be=5,Me=6,Te=7,Ae=8;function De(e){return Le(e)?366:365}function Le(e){return e%4==0&&e%100!=0||e%400==0}z("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),N("year","y"),j("year",1),ue("Y",ne),ue("YY",Z,J),ue("YYYY",re,K),ue("YYYYY",ie,X),ue("YYYYYY",ie,X),he(["YYYYY","YYYYYY"],ye),he("YYYY",(function(e,t){t[ye]=2===e.length?o.parseTwoDigitYear(e):M(e)})),he("YY",(function(e,t){t[ye]=o.parseTwoDigitYear(e)})),he("Y",(function(e,t){t[ye]=parseInt(e,10)})),o.parseTwoDigitYear=function(e){return M(e)+(M(e)>68?1900:2e3)};var Ee,Fe=Ce("FullYear",!0);function Ce(e,t){return function(r){return null!=r?(Re(this,e,r),o.updateOffset(this,t),this):ke(this,e)}}function ke(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Re(e,t,r){e.isValid()&&!isNaN(r)&&("FullYear"===t&&Le(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),Oe(r,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function Oe(e,t){if(isNaN(e)||isNaN(t))return NaN;var r,i=(t%(r=12)+r)%r;return e+=(t-i)/12,1===i?Le(e)?29:28:31-i%7%2}Ee=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),N("month","M"),j("month",8),ue("M",Z),ue("MM",Z,J),ue("MMM",(function(e,t){return t.monthsShortRegex(e)})),ue("MMMM",(function(e,t){return t.monthsRegex(e)})),he(["M","MM"],(function(e,t){t[_e]=M(e)-1})),he(["MMM","MMMM"],(function(e,t,r,i){var o=r._locale.monthsParse(e,i,r._strict);null!=o?t[_e]=o:h(r).invalidMonth=e}));var Ne=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,We="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ie="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Be(e,t,r){var i,o,n,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)n=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(n,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(n,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(o=Ee.call(this._shortMonthsParse,s))?o:null:-1!==(o=Ee.call(this._longMonthsParse,s))?o:null:"MMM"===t?-1!==(o=Ee.call(this._shortMonthsParse,s))?o:-1!==(o=Ee.call(this._longMonthsParse,s))?o:null:-1!==(o=Ee.call(this._longMonthsParse,s))?o:-1!==(o=Ee.call(this._shortMonthsParse,s))?o:null}function je(e,t){var r;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=M(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return r=Math.min(e.date(),Oe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function Ye(e){return null!=e?(je(this,e),o.updateOffset(this,!0),this):ke(this,"Month")}var Pe=le,Ue=le;function xe(){function e(e,t){return t.length-e.length}var t,r,i=[],o=[],n=[];for(t=0;t<12;t++)r=p([2e3,t]),i.push(this.monthsShort(r,"")),o.push(this.months(r,"")),n.push(this.months(r,"")),n.push(this.monthsShort(r,""));for(i.sort(e),o.sort(e),n.sort(e),t=0;t<12;t++)i[t]=ge(i[t]),o[t]=ge(o[t]);for(t=0;t<24;t++)n[t]=ge(n[t]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function He(e,t,r,i,o,n,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,r,i,o,n,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,r,i,o,n,s),a}function ze(e){var t;if(e<100&&e>=0){var r=Array.prototype.slice.call(arguments);r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Ve(e,t,r){var i=7+t-r;return-(7+ze(e,0,i).getUTCDay()-t)%7+i-1}function Ge(e,t,r,i,o){var n,s,a=1+7*(t-1)+(7+r-i)%7+Ve(e,i,o);return a<=0?s=De(n=e-1)+a:a>De(e)?(n=e+1,s=a-De(e)):(n=e,s=a),{year:n,dayOfYear:s}}function qe(e,t,r){var i,o,n=Ve(e.year(),t,r),s=Math.floor((e.dayOfYear()-n-1)/7)+1;return s<1?i=s+Je(o=e.year()-1,t,r):s>Je(e.year(),t,r)?(i=s-Je(e.year(),t,r),o=e.year()+1):(o=e.year(),i=s),{week:i,year:o}}function Je(e,t,r){var i=Ve(e,t,r),o=Ve(e+1,t,r);return(De(e)-i+o)/7}function $e(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),j("week",5),j("isoWeek",5),ue("w",Z),ue("ww",Z,J),ue("W",Z),ue("WW",Z,J),me(["w","ww","W","WW"],(function(e,t,r,i){t[i.substr(0,1)]=M(e)})),z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),ue("d",Z),ue("e",Z),ue("E",Z),ue("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ue("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ue("dddd",(function(e,t){return t.weekdaysRegex(e)})),me(["dd","ddd","dddd"],(function(e,t,r,i){var o=r._locale.weekdaysParse(e,i,r._strict);null!=o?t.d=o:h(r).invalidWeekday=e})),me(["d","e","E"],(function(e,t,r,i){t[i]=M(e)}));var Ke="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Qe(e,t,r){var i,o,n,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)n=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(n,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(n,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(n,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(o=Ee.call(this._weekdaysParse,s))?o:null:"ddd"===t?-1!==(o=Ee.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=Ee.call(this._minWeekdaysParse,s))?o:null:"dddd"===t?-1!==(o=Ee.call(this._weekdaysParse,s))?o:-1!==(o=Ee.call(this._shortWeekdaysParse,s))?o:-1!==(o=Ee.call(this._minWeekdaysParse,s))?o:null:"ddd"===t?-1!==(o=Ee.call(this._shortWeekdaysParse,s))?o:-1!==(o=Ee.call(this._weekdaysParse,s))?o:-1!==(o=Ee.call(this._minWeekdaysParse,s))?o:null:-1!==(o=Ee.call(this._minWeekdaysParse,s))?o:-1!==(o=Ee.call(this._weekdaysParse,s))?o:-1!==(o=Ee.call(this._shortWeekdaysParse,s))?o:null}var et=le,tt=le,rt=le;function it(){function e(e,t){return t.length-e.length}var t,r,i,o,n,s=[],a=[],l=[],c=[];for(t=0;t<7;t++)r=p([2e3,1]).day(t),i=this.weekdaysMin(r,""),o=this.weekdaysShort(r,""),n=this.weekdays(r,""),s.push(i),a.push(o),l.push(n),c.push(i),c.push(o),c.push(n);for(s.sort(e),a.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)a[t]=ge(a[t]),l[t]=ge(l[t]),c[t]=ge(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ot(){return this.hours()%12||12}function nt(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function st(e,t){return t._meridiemParse}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,ot),z("k",["kk",2],0,(function(){return this.hours()||24})),z("hmm",0,0,(function(){return""+ot.apply(this)+Y(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+ot.apply(this)+Y(this.minutes(),2)+Y(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+Y(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+Y(this.minutes(),2)+Y(this.seconds(),2)})),nt("a",!0),nt("A",!1),N("hour","h"),j("hour",13),ue("a",st),ue("A",st),ue("H",Z),ue("h",Z),ue("k",Z),ue("HH",Z,J),ue("hh",Z,J),ue("kk",Z,J),ue("hmm",Q),ue("hmmss",ee),ue("Hmm",Q),ue("Hmmss",ee),he(["H","HH"],ve),he(["k","kk"],(function(e,t,r){var i=M(e);t[ve]=24===i?0:i})),he(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e})),he(["h","hh"],(function(e,t,r){t[ve]=M(e),h(r).bigHour=!0})),he("hmm",(function(e,t,r){var i=e.length-2;t[ve]=M(e.substr(0,i)),t[we]=M(e.substr(i)),h(r).bigHour=!0})),he("hmmss",(function(e,t,r){var i=e.length-4,o=e.length-2;t[ve]=M(e.substr(0,i)),t[we]=M(e.substr(i,2)),t[be]=M(e.substr(o)),h(r).bigHour=!0})),he("Hmm",(function(e,t,r){var i=e.length-2;t[ve]=M(e.substr(0,i)),t[we]=M(e.substr(i))})),he("Hmmss",(function(e,t,r){var i=e.length-4,o=e.length-2;t[ve]=M(e.substr(0,i)),t[we]=M(e.substr(i,2)),t[be]=M(e.substr(o))}));var at,lt=Ce("Hours",!0),ct={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:We,monthsShort:Ie,week:{dow:0,doy:6},weekdays:Ke,weekdaysMin:Ze,weekdaysShort:Xe,meridiemParse:/[ap]\.?m?\.?/i},ut={},dt={};function gt(e){return e?e.toLowerCase().replace("_","-"):e}function pt(t){var i=null;if(!ut[t]&&void 0!==e&&e&&e.exports)try{i=at._abbr,r(257)("./"+t),ht(i)}catch(e){}return ut[t]}function ht(e,t){var r;return e&&((r=a(t)?ft(e):mt(e,t))?at=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),at._abbr}function mt(e,t){if(null!==t){var r,i=ct;if(t.abbr=e,null!=ut[e])F("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ut[e]._config;else if(null!=t.parentLocale)if(null!=ut[t.parentLocale])i=ut[t.parentLocale]._config;else{if(null==(r=pt(t.parentLocale)))return dt[t.parentLocale]||(dt[t.parentLocale]=[]),dt[t.parentLocale].push({name:e,config:t}),null;i=r._config}return ut[e]=new R(k(i,t)),dt[e]&&dt[e].forEach((function(e){mt(e.name,e.config)})),ht(e),ut[e]}return delete ut[e],null}function ft(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return at;if(!n(e)){if(t=pt(e))return t;e=[e]}return function(e){for(var t,r,i,o,n=0;n<e.length;){for(t=(o=gt(e[n]).split("-")).length,r=(r=gt(e[n+1]))?r.split("-"):null;t>0;){if(i=pt(o.slice(0,t).join("-")))return i;if(r&&r.length>=t&&T(o,r,!0)>=t-1)break;t--}n++}return at}(e)}function yt(e){var t,r=e._a;return r&&-2===h(e).overflow&&(t=r[_e]<0||r[_e]>11?_e:r[Se]<1||r[Se]>Oe(r[ye],r[_e])?Se:r[ve]<0||r[ve]>24||24===r[ve]&&(0!==r[we]||0!==r[be]||0!==r[Me])?ve:r[we]<0||r[we]>59?we:r[be]<0||r[be]>59?be:r[Me]<0||r[Me]>999?Me:-1,h(e)._overflowDayOfYear&&(t<ye||t>Se)&&(t=Se),h(e)._overflowWeeks&&-1===t&&(t=Te),h(e)._overflowWeekday&&-1===t&&(t=Ae),h(e).overflow=t),e}function _t(e,t,r){return null!=e?e:null!=t?t:r}function St(e){var t,r,i,n,s,a=[];if(!e._d){for(i=function(e){var t=new Date(o.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[Se]&&null==e._a[_e]&&function(e){var t,r,i,o,n,s,a,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)n=1,s=4,r=_t(t.GG,e._a[ye],qe(Nt(),1,4).year),i=_t(t.W,1),((o=_t(t.E,1))<1||o>7)&&(l=!0);else{n=e._locale._week.dow,s=e._locale._week.doy;var c=qe(Nt(),n,s);r=_t(t.gg,e._a[ye],c.year),i=_t(t.w,c.week),null!=t.d?((o=t.d)<0||o>6)&&(l=!0):null!=t.e?(o=t.e+n,(t.e<0||t.e>6)&&(l=!0)):o=n}i<1||i>Je(r,n,s)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(a=Ge(r,i,o,n,s),e._a[ye]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(s=_t(e._a[ye],i[ye]),(e._dayOfYear>De(s)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),r=ze(s,0,e._dayOfYear),e._a[_e]=r.getUTCMonth(),e._a[Se]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ve]&&0===e._a[we]&&0===e._a[be]&&0===e._a[Me]&&(e._nextDay=!0,e._a[ve]=0),e._d=(e._useUTC?ze:He).apply(null,a),n=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ve]=24),e._w&&void 0!==e._w.d&&e._w.d!==n&&(h(e).weekdayMismatch=!0)}}var vt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bt=/Z|[+-]\d\d(?::?\d\d)?/,Mt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Tt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],At=/^\/?Date\((\-?\d+)/i;function Dt(e){var t,r,i,o,n,s,a=e._i,l=vt.exec(a)||wt.exec(a);if(l){for(h(e).iso=!0,t=0,r=Mt.length;t<r;t++)if(Mt[t][1].exec(l[1])){o=Mt[t][0],i=!1!==Mt[t][2];break}if(null==o)return void(e._isValid=!1);if(l[3]){for(t=0,r=Tt.length;t<r;t++)if(Tt[t][1].exec(l[3])){n=(l[2]||" ")+Tt[t][0];break}if(null==n)return void(e._isValid=!1)}if(!i&&null!=n)return void(e._isValid=!1);if(l[4]){if(!bt.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=o+(n||"")+(s||""),kt(e)}else e._isValid=!1}var Lt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Et(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var Ft={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ct(e){var t,r,i,o,n,s,a,l=Lt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){var c=(t=l[4],r=l[3],i=l[2],o=l[5],n=l[6],s=l[7],a=[Et(t),Ie.indexOf(r),parseInt(i,10),parseInt(o,10),parseInt(n,10)],s&&a.push(parseInt(s,10)),a);if(!function(e,t,r){return!e||Xe.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(h(r).weekdayMismatch=!0,r._isValid=!1,!1)}(l[1],c,e))return;e._a=c,e._tzm=function(e,t,r){if(e)return Ft[e];if(t)return 0;var i=parseInt(r,10),o=i%100;return(i-o)/100*60+o}(l[8],l[9],l[10]),e._d=ze.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function kt(e){if(e._f!==o.ISO_8601)if(e._f!==o.RFC_2822){e._a=[],h(e).empty=!0;var t,r,i,n,s,a=""+e._i,l=a.length,c=0;for(i=G(e._f,e._locale).match(P)||[],t=0;t<i.length;t++)n=i[t],(r=(a.match(de(n,e))||[])[0])&&((s=a.substr(0,a.indexOf(r))).length>0&&h(e).unusedInput.push(s),a=a.slice(a.indexOf(r)+r.length),c+=r.length),H[n]?(r?h(e).empty=!1:h(e).unusedTokens.push(n),fe(n,r,e)):e._strict&&!r&&h(e).unusedTokens.push(n);h(e).charsLeftOver=l-c,a.length>0&&h(e).unusedInput.push(a),e._a[ve]<=12&&!0===h(e).bigHour&&e._a[ve]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[ve]=function(e,t,r){var i;return null==r?t:null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?((i=e.isPM(r))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[ve],e._meridiem),St(e),yt(e)}else Ct(e);else Dt(e)}function Rt(e){var t=e._i,r=e._f;return e._locale=e._locale||ft(e._l),null===t||void 0===r&&""===t?f({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new v(yt(t)):(c(t)?e._d=t:n(r)?function(e){var t,r,i,o,n;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)n=0,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],kt(t),m(t)&&(n+=h(t).charsLeftOver,n+=10*h(t).unusedTokens.length,h(t).score=n,(null==i||n<i)&&(i=n,r=t));g(e,r||t)}(e):r?kt(e):function(e){var t=e._i;a(t)?e._d=new Date(o.now()):c(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=At.exec(e._i);null===t?(Dt(e),!1===e._isValid&&(delete e._isValid,Ct(e),!1===e._isValid&&(delete e._isValid,o.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):n(t)?(e._a=u(t.slice(0),(function(e){return parseInt(e,10)})),St(e)):s(t)?function(e){if(!e._d){var t=I(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),St(e)}}(e):l(t)?e._d=new Date(t):o.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function Ot(e,t,r,i,o){var a,l={};return!0!==r&&!1!==r||(i=r,r=void 0),(s(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||n(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=r,l._i=e,l._f=t,l._strict=i,(a=new v(yt(Rt(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Nt(e,t,r,i){return Ot(e,t,r,i,!1)}o.createFromInputFallback=D("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),o.ISO_8601=function(){},o.RFC_2822=function(){};var Wt=D("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Nt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:f()})),It=D("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Nt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()}));function Bt(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Nt();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](r)||(r=t[i]);return r}var jt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Yt(e){var t=I(e),r=t.year||0,i=t.quarter||0,o=t.month||0,n=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Ee.call(jt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var r=!1,i=0;i<jt.length;++i)if(e[jt[i]]){if(r)return!1;parseFloat(e[jt[i]])!==M(e[jt[i]])&&(r=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*n,this._months=+o+3*i+12*r,this._data={},this._locale=ft(),this._bubble()}function Pt(e){return e instanceof Yt}function Ut(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function xt(e,t){z(e,0,0,(function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+Y(~~(e/60),2)+t+Y(~~e%60,2)}))}xt("Z",":"),xt("ZZ",""),ue("Z",ae),ue("ZZ",ae),he(["Z","ZZ"],(function(e,t,r){r._useUTC=!0,r._tzm=zt(ae,e)}));var Ht=/([\+\-]|\d\d)/gi;function zt(e,t){var r=(t||"").match(e);if(null===r)return null;var i=((r[r.length-1]||[])+"").match(Ht)||["-",0,0],o=60*i[1]+M(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Vt(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(w(e)||c(e)?e.valueOf():Nt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),o.updateOffset(r,!1),r):Nt(e).local()}function Gt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function qt(){return!!this.isValid()&&this._isUTC&&0===this._offset}o.updateOffset=function(){};var Jt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,$t=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Kt(e,t){var r,i,o,n,s,a,c=e,u=null;return Pt(e)?c={ms:e._milliseconds,d:e._days,M:e._months}:l(e)?(c={},t?c[t]=e:c.milliseconds=e):(u=Jt.exec(e))?(r="-"===u[1]?-1:1,c={y:0,d:M(u[Se])*r,h:M(u[ve])*r,m:M(u[we])*r,s:M(u[be])*r,ms:M(Ut(1e3*u[Me]))*r}):(u=$t.exec(e))?(r="-"===u[1]?-1:1,c={y:Xt(u[2],r),M:Xt(u[3],r),w:Xt(u[4],r),d:Xt(u[5],r),h:Xt(u[6],r),m:Xt(u[7],r),s:Xt(u[8],r)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(n=Nt(c.from),s=Nt(c.to),o=n.isValid()&&s.isValid()?(s=Vt(s,n),n.isBefore(s)?a=Zt(n,s):((a=Zt(s,n)).milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0},(c={}).ms=o.milliseconds,c.M=o.months),i=new Yt(c),Pt(e)&&d(e,"_locale")&&(i._locale=e._locale),i}function Xt(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Zt(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Qt(e,t){return function(r,i){var o;return null===i||isNaN(+i)||(F(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=r,r=i,i=o),er(this,Kt(r="string"==typeof r?+r:r,i),e),this}}function er(e,t,r,i){var n=t._milliseconds,s=Ut(t._days),a=Ut(t._months);e.isValid()&&(i=null==i||i,a&&je(e,ke(e,"Month")+a*r),s&&Re(e,"Date",ke(e,"Date")+s*r),n&&e._d.setTime(e._d.valueOf()+n*r),i&&o.updateOffset(e,s||a))}Kt.fn=Yt.prototype,Kt.invalid=function(){return Kt(NaN)};var tr=Qt(1,"add"),rr=Qt(-1,"subtract");function ir(e,t){var r=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(r,"months");return-(r+(t-i<0?(t-i)/(i-e.clone().add(r-1,"months")):(t-i)/(e.clone().add(r+1,"months")-i)))||0}function or(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ft(e))&&(this._locale=t),this)}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nr=D("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function sr(){return this._locale}var ar=1e3,lr=60*ar,cr=60*lr,ur=3506328*cr;function dr(e,t){return(e%t+t)%t}function gr(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-ur:new Date(e,t,r).valueOf()}function pr(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-ur:Date.UTC(e,t,r)}function hr(e,t){z(0,[e,e.length],0,t)}function mr(e,t,r,i,o){var n;return null==e?qe(this,i,o).year:(t>(n=Je(e,i,o))&&(t=n),fr.call(this,e,t,r,i,o))}function fr(e,t,r,i,o){var n=Ge(e,t,r,i,o),s=ze(n.year,0,n.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),hr("gggg","weekYear"),hr("ggggg","weekYear"),hr("GGGG","isoWeekYear"),hr("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),ue("G",ne),ue("g",ne),ue("GG",Z,J),ue("gg",Z,J),ue("GGGG",re,K),ue("gggg",re,K),ue("GGGGG",ie,X),ue("ggggg",ie,X),me(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,i){t[i.substr(0,2)]=M(e)})),me(["gg","GG"],(function(e,t,r,i){t[i]=o.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),N("quarter","Q"),j("quarter",7),ue("Q",q),he("Q",(function(e,t){t[_e]=3*(M(e)-1)})),z("D",["DD",2],"Do","date"),N("date","D"),j("date",9),ue("D",Z),ue("DD",Z,J),ue("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),he(["D","DD"],Se),he("Do",(function(e,t){t[Se]=M(e.match(Z)[0])}));var yr=Ce("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),j("dayOfYear",4),ue("DDD",te),ue("DDDD",$),he(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=M(e)})),z("m",["mm",2],0,"minute"),N("minute","m"),j("minute",14),ue("m",Z),ue("mm",Z,J),he(["m","mm"],we);var _r=Ce("Minutes",!1);z("s",["ss",2],0,"second"),N("second","s"),j("second",15),ue("s",Z),ue("ss",Z,J),he(["s","ss"],be);var Sr,vr=Ce("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),N("millisecond","ms"),j("millisecond",16),ue("S",te,q),ue("SS",te,J),ue("SSS",te,$),Sr="SSSS";Sr.length<=9;Sr+="S")ue(Sr,oe);function wr(e,t){t[Me]=M(1e3*("0."+e))}for(Sr="S";Sr.length<=9;Sr+="S")he(Sr,wr);var br=Ce("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var Mr=v.prototype;function Tr(e){return e}Mr.add=tr,Mr.calendar=function(e,t){var r=e||Nt(),i=Vt(r,this).startOf("day"),n=o.calendarFormat(this,i)||"sameElse",s=t&&(C(t[n])?t[n].call(this,r):t[n]);return this.format(s||this.localeData().calendar(n,this,Nt(r)))},Mr.clone=function(){return new v(this)},Mr.diff=function(e,t,r){var i,o,n;if(!this.isValid())return NaN;if(!(i=Vt(e,this)).isValid())return NaN;switch(o=6e4*(i.utcOffset()-this.utcOffset()),t=W(t)){case"year":n=ir(this,i)/12;break;case"month":n=ir(this,i);break;case"quarter":n=ir(this,i)/3;break;case"second":n=(this-i)/1e3;break;case"minute":n=(this-i)/6e4;break;case"hour":n=(this-i)/36e5;break;case"day":n=(this-i-o)/864e5;break;case"week":n=(this-i-o)/6048e5;break;default:n=this-i}return r?n:b(n)},Mr.endOf=function(e){var t;if(void 0===(e=W(e))||"millisecond"===e||!this.isValid())return this;var r=this._isUTC?pr:gr;switch(e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=cr-dr(t+(this._isUTC?0:this.utcOffset()*lr),cr)-1;break;case"minute":t=this._d.valueOf(),t+=lr-dr(t,lr)-1;break;case"second":t=this._d.valueOf(),t+=ar-dr(t,ar)-1}return this._d.setTime(t),o.updateOffset(this,!0),this},Mr.format=function(e){e||(e=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var t=V(this,e);return this.localeData().postformat(t)},Mr.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Nt(e).isValid())?Kt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Mr.fromNow=function(e){return this.from(Nt(),e)},Mr.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Nt(e).isValid())?Kt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Mr.toNow=function(e){return this.to(Nt(),e)},Mr.get=function(e){return C(this[e=W(e)])?this[e]():this},Mr.invalidAt=function(){return h(this).overflow},Mr.isAfter=function(e,t){var r=w(e)?e:Nt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=W(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},Mr.isBefore=function(e,t){var r=w(e)?e:Nt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=W(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},Mr.isBetween=function(e,t,r,i){var o=w(e)?e:Nt(e),n=w(t)?t:Nt(t);return!!(this.isValid()&&o.isValid()&&n.isValid())&&("("===(i=i||"()")[0]?this.isAfter(o,r):!this.isBefore(o,r))&&(")"===i[1]?this.isBefore(n,r):!this.isAfter(n,r))},Mr.isSame=function(e,t){var r,i=w(e)?e:Nt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=W(t)||"millisecond")?this.valueOf()===i.valueOf():(r=i.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},Mr.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Mr.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Mr.isValid=function(){return m(this)},Mr.lang=nr,Mr.locale=or,Mr.localeData=sr,Mr.max=It,Mr.min=Wt,Mr.parsingFlags=function(){return g({},h(this))},Mr.set=function(e,t){if("object"==typeof e)for(var r=function(e){var t=[];for(var r in e)t.push({unit:r,priority:B[r]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=I(e)),i=0;i<r.length;i++)this[r[i].unit](e[r[i].unit]);else if(C(this[e=W(e)]))return this[e](t);return this},Mr.startOf=function(e){var t;if(void 0===(e=W(e))||"millisecond"===e||!this.isValid())return this;var r=this._isUTC?pr:gr;switch(e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=dr(t+(this._isUTC?0:this.utcOffset()*lr),cr);break;case"minute":t=this._d.valueOf(),t-=dr(t,lr);break;case"second":t=this._d.valueOf(),t-=dr(t,ar)}return this._d.setTime(t),o.updateOffset(this,!0),this},Mr.subtract=rr,Mr.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Mr.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Mr.toDate=function(){return new Date(this.valueOf())},Mr.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?V(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(r,"Z")):V(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Mr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var r="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=t+'[")]';return this.format(r+i+"-MM-DD[T]HH:mm:ss.SSS"+o)},Mr.toJSON=function(){return this.isValid()?this.toISOString():null},Mr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Mr.unix=function(){return Math.floor(this.valueOf()/1e3)},Mr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Mr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Mr.year=Fe,Mr.isLeapYear=function(){return Le(this.year())},Mr.weekYear=function(e){return mr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Mr.isoWeekYear=function(e){return mr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Mr.quarter=Mr.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Mr.month=Ye,Mr.daysInMonth=function(){return Oe(this.year(),this.month())},Mr.week=Mr.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Mr.isoWeek=Mr.isoWeeks=function(e){var t=qe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Mr.weeksInYear=function(){var e=this.localeData()._week;return Je(this.year(),e.dow,e.doy)},Mr.isoWeeksInYear=function(){return Je(this.year(),1,4)},Mr.date=yr,Mr.day=Mr.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Mr.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Mr.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Mr.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Mr.hour=Mr.hours=lt,Mr.minute=Mr.minutes=_r,Mr.second=Mr.seconds=vr,Mr.millisecond=Mr.milliseconds=br,Mr.utcOffset=function(e,t,r){var i,n=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=zt(ae,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(i=Gt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),n!==e&&(!t||this._changeInProgress?er(this,Kt(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,o.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?n:Gt(this)},Mr.utc=function(e){return this.utcOffset(0,e)},Mr.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Gt(this),"m")),this},Mr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=zt(se,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Mr.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Nt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Mr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Mr.isLocal=function(){return!!this.isValid()&&!this._isUTC},Mr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Mr.isUtc=qt,Mr.isUTC=qt,Mr.zoneAbbr=function(){return this._isUTC?"UTC":""},Mr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Mr.dates=D("dates accessor is deprecated. Use date instead.",yr),Mr.months=D("months accessor is deprecated. Use month instead",Ye),Mr.years=D("years accessor is deprecated. Use year instead",Fe),Mr.zone=D("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),Mr.isDSTShifted=D("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(_(e,this),(e=Rt(e))._a){var t=e._isUTC?p(e._a):Nt(e._a);this._isDSTShifted=this.isValid()&&T(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var Ar=R.prototype;function Dr(e,t,r,i){var o=ft(),n=p().set(i,t);return o[r](n,e)}function Lr(e,t,r){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return Dr(e,t,r,"month");var i,o=[];for(i=0;i<12;i++)o[i]=Dr(e,i,r,"month");return o}function Er(e,t,r,i){"boolean"==typeof e?(l(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,l(t)&&(r=t,t=void 0),t=t||"");var o,n=ft(),s=e?n._week.dow:0;if(null!=r)return Dr(t,(r+s)%7,i,"day");var a=[];for(o=0;o<7;o++)a[o]=Dr(t,(o+s)%7,i,"day");return a}Ar.calendar=function(e,t,r){var i=this._calendar[e]||this._calendar.sameElse;return C(i)?i.call(t,r):i},Ar.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},Ar.invalidDate=function(){return this._invalidDate},Ar.ordinal=function(e){return this._ordinal.replace("%d",e)},Ar.preparse=Tr,Ar.postformat=Tr,Ar.relativeTime=function(e,t,r,i){var o=this._relativeTime[r];return C(o)?o(e,t,r,i):o.replace(/%d/i,e)},Ar.pastFuture=function(e,t){var r=this._relativeTime[e>0?"future":"past"];return C(r)?r(t):r.replace(/%s/i,t)},Ar.set=function(e){var t,r;for(r in e)C(t=e[r])?this[r]=t:this["_"+r]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Ar.months=function(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ne).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone},Ar.monthsShort=function(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ne.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Ar.monthsParse=function(e,t,r){var i,o,n;if(this._monthsParseExact)return Be.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=p([2e3,i]),r&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),r||this._monthsParse[i]||(n="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(n.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(r&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!r&&this._monthsParse[i].test(e))return i}},Ar.monthsRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||xe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Ue),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Ar.monthsShortRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||xe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Pe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Ar.week=function(e){return qe(e,this._week.dow,this._week.doy).week},Ar.firstDayOfYear=function(){return this._week.doy},Ar.firstDayOfWeek=function(){return this._week.dow},Ar.weekdays=function(e,t){var r=n(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?$e(r,this._week.dow):e?r[e.day()]:r},Ar.weekdaysMin=function(e){return!0===e?$e(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Ar.weekdaysShort=function(e){return!0===e?$e(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Ar.weekdaysParse=function(e,t,r){var i,o,n;if(this._weekdaysParseExact)return Qe.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=p([2e3,1]).day(i),r&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(n="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(n.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(r&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(r&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!r&&this._weekdaysParse[i].test(e))return i}},Ar.weekdaysRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||it.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=et),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Ar.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||it.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=tt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Ar.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||it.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=rt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Ar.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Ar.meridiem=function(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"},ht("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===M(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),o.lang=D("moment.lang is deprecated. Use moment.locale instead.",ht),o.langData=D("moment.langData is deprecated. Use moment.localeData instead.",ft);var Fr=Math.abs;function Cr(e,t,r,i){var o=Kt(t,r);return e._milliseconds+=i*o._milliseconds,e._days+=i*o._days,e._months+=i*o._months,e._bubble()}function kr(e){return e<0?Math.floor(e):Math.ceil(e)}function Rr(e){return 4800*e/146097}function Or(e){return 146097*e/4800}function Nr(e){return function(){return this.as(e)}}var Wr=Nr("ms"),Ir=Nr("s"),Br=Nr("m"),jr=Nr("h"),Yr=Nr("d"),Pr=Nr("w"),Ur=Nr("M"),xr=Nr("Q"),Hr=Nr("y");function zr(e){return function(){return this.isValid()?this._data[e]:NaN}}var Vr=zr("milliseconds"),Gr=zr("seconds"),qr=zr("minutes"),Jr=zr("hours"),$r=zr("days"),Kr=zr("months"),Xr=zr("years"),Zr=Math.round,Qr={ss:44,s:45,m:45,h:22,d:26,M:11};function ei(e,t,r,i,o){return o.relativeTime(t||1,!!r,e,i)}var ti=Math.abs;function ri(e){return(e>0)-(e<0)||+e}function ii(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r=ti(this._milliseconds)/1e3,i=ti(this._days),o=ti(this._months);e=b(r/60),t=b(e/60),r%=60,e%=60;var n=b(o/12),s=o%=12,a=i,l=t,c=e,u=r?r.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var g=d<0?"-":"",p=ri(this._months)!==ri(d)?"-":"",h=ri(this._days)!==ri(d)?"-":"",m=ri(this._milliseconds)!==ri(d)?"-":"";return g+"P"+(n?p+n+"Y":"")+(s?p+s+"M":"")+(a?h+a+"D":"")+(l||c||u?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(u?m+u+"S":"")}var oi=Yt.prototype;return oi.isValid=function(){return this._isValid},oi.abs=function(){var e=this._data;return this._milliseconds=Fr(this._milliseconds),this._days=Fr(this._days),this._months=Fr(this._months),e.milliseconds=Fr(e.milliseconds),e.seconds=Fr(e.seconds),e.minutes=Fr(e.minutes),e.hours=Fr(e.hours),e.months=Fr(e.months),e.years=Fr(e.years),this},oi.add=function(e,t){return Cr(this,e,t,1)},oi.subtract=function(e,t){return Cr(this,e,t,-1)},oi.as=function(e){if(!this.isValid())return NaN;var t,r,i=this._milliseconds;if("month"===(e=W(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,r=this._months+Rr(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Or(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},oi.asMilliseconds=Wr,oi.asSeconds=Ir,oi.asMinutes=Br,oi.asHours=jr,oi.asDays=Yr,oi.asWeeks=Pr,oi.asMonths=Ur,oi.asQuarters=xr,oi.asYears=Hr,oi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*M(this._months/12):NaN},oi._bubble=function(){var e,t,r,i,o,n=this._milliseconds,s=this._days,a=this._months,l=this._data;return n>=0&&s>=0&&a>=0||n<=0&&s<=0&&a<=0||(n+=864e5*kr(Or(a)+s),s=0,a=0),l.milliseconds=n%1e3,e=b(n/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,r=b(t/60),l.hours=r%24,s+=b(r/24),o=b(Rr(s)),a+=o,s-=kr(Or(o)),i=b(a/12),a%=12,l.days=s,l.months=a,l.years=i,this},oi.clone=function(){return Kt(this)},oi.get=function(e){return e=W(e),this.isValid()?this[e+"s"]():NaN},oi.milliseconds=Vr,oi.seconds=Gr,oi.minutes=qr,oi.hours=Jr,oi.days=$r,oi.weeks=function(){return b(this.days()/7)},oi.months=Kr,oi.years=Xr,oi.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),r=function(e,t,r){var i=Kt(e).abs(),o=Zr(i.as("s")),n=Zr(i.as("m")),s=Zr(i.as("h")),a=Zr(i.as("d")),l=Zr(i.as("M")),c=Zr(i.as("y")),u=o<=Qr.ss&&["s",o]||o<Qr.s&&["ss",o]||n<=1&&["m"]||n<Qr.m&&["mm",n]||s<=1&&["h"]||s<Qr.h&&["hh",s]||a<=1&&["d"]||a<Qr.d&&["dd",a]||l<=1&&["M"]||l<Qr.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=r,ei.apply(null,u)}(this,!e,t);return e&&(r=t.pastFuture(+this,r)),t.postformat(r)},oi.toISOString=ii,oi.toString=ii,oi.toJSON=ii,oi.locale=or,oi.localeData=sr,oi.toIsoString=D("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ii),oi.lang=nr,z("X",0,0,"unix"),z("x",0,0,"valueOf"),ue("x",ne),ue("X",/[+-]?\d+(\.\d{1,3})?/),he("X",(function(e,t,r){r._d=new Date(1e3*parseFloat(e,10))})),he("x",(function(e,t,r){r._d=new Date(M(e))})),o.version="2.24.0",t=Nt,o.fn=Mr,o.min=function(){return Bt("isBefore",[].slice.call(arguments,0))},o.max=function(){return Bt("isAfter",[].slice.call(arguments,0))},o.now=function(){return Date.now?Date.now():+new Date},o.utc=p,o.unix=function(e){return Nt(1e3*e)},o.months=function(e,t){return Lr(e,t,"months")},o.isDate=c,o.locale=ht,o.invalid=f,o.duration=Kt,o.isMoment=w,o.weekdays=function(e,t,r){return Er(e,t,r,"weekdays")},o.parseZone=function(){return Nt.apply(null,arguments).parseZone()},o.localeData=ft,o.isDuration=Pt,o.monthsShort=function(e,t){return Lr(e,t,"monthsShort")},o.weekdaysMin=function(e,t,r){return Er(e,t,r,"weekdaysMin")},o.defineLocale=mt,o.updateLocale=function(e,t){if(null!=t){var r,i,o=ct;null!=(i=pt(e))&&(o=i._config),t=k(o,t),(r=new R(t)).parentLocale=ut[e],ut[e]=r,ht(e)}else null!=ut[e]&&(null!=ut[e].parentLocale?ut[e]=ut[e].parentLocale:null!=ut[e]&&delete ut[e]);return ut[e]},o.locales=function(){return L(ut)},o.weekdaysShort=function(e,t,r){return Er(e,t,r,"weekdaysShort")},o.normalizeUnits=W,o.relativeTimeRounding=function(e){return void 0===e?Zr:"function"==typeof e&&(Zr=e,!0)},o.relativeTimeThreshold=function(e,t){return void 0!==Qr[e]&&(void 0===t?Qr[e]:(Qr[e]=t,"s"===e&&(Qr.ss=t-1),!0))},o.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},o.prototype=Mr,o.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},o}()}).call(this,r(33)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(174),o=r(4);class n{constructor(e){this.label=e}static init(e,t){const r=o.clone(e),s=o.clone(t);r.label="",s.label="",n.logger=new i.Logger({level:"verbose",transports:[new i.transports.Console(r),new i.transports.File(s)]})}static getLogger(e){return new n(e)}log(e,t,...r){n.logger?n.logger.log(e,"["+this.label+"] "+t,...r):this.consoleLog(e,"["+this.label+"] "+t,...r)}debug(e,...t){n.logger?n.logger.debug("["+this.label+"] "+e,...t):this.consoleLog("debug","["+this.label+"] "+e,...t)}info(e,...t){n.logger?n.logger.info("["+this.label+"] "+e,...t):this.consoleLog("info","["+this.label+"] "+e,...t)}warn(e,...t){n.logger?n.logger.warn("["+this.label+"] "+e,...t):this.consoleLog("warn","["+this.label+"] "+e,...t)}error(e,...t){n.logger?n.logger.error(this.label+" "+e,...t):this.consoleLog("error","["+this.label+"] "+e,...t)}consoleLog(e,t,...r){console.log(e+": "+t,...r)}}t.Logger=n,n.logger=null},function(e,t){e.exports=require("buffer")},function(e,t){e.exports=require("mongoose")},function(e,t,r){(function(e){var r;!function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},o=i._,n=Array.prototype,s=Object.prototype,a="undefined"!=typeof Symbol?Symbol.prototype:null,l=n.push,c=n.slice,u=s.toString,d=s.hasOwnProperty,g=Array.isArray,p=Object.keys,h=Object.create,m=function(){},f=function(e){return e instanceof f?e:this instanceof f?void(this._wrapped=e):new f(e)};t.nodeType?i._=f:(!e.nodeType&&e.exports&&(t=e.exports=f),t._=f),f.VERSION="1.9.1";var y,_=function(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,i,o){return e.call(t,r,i,o)};case 4:return function(r,i,o,n){return e.call(t,r,i,o,n)}}return function(){return e.apply(t,arguments)}},S=function(e,t,r){return f.iteratee!==y?f.iteratee(e,t):null==e?f.identity:f.isFunction(e)?_(e,t,r):f.isObject(e)&&!f.isArray(e)?f.matcher(e):f.property(e)};f.iteratee=y=function(e,t){return S(e,t,1/0)};var v=function(e,t){return t=null==t?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),i=Array(r),o=0;o<r;o++)i[o]=arguments[o+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var n=Array(t+1);for(o=0;o<t;o++)n[o]=arguments[o];return n[t]=i,e.apply(this,n)}},w=function(e){if(!f.isObject(e))return{};if(h)return h(e);m.prototype=e;var t=new m;return m.prototype=null,t},b=function(e){return function(t){return null==t?void 0:t[e]}},M=function(e,t){return null!=e&&d.call(e,t)},T=function(e,t){for(var r=t.length,i=0;i<r;i++){if(null==e)return;e=e[t[i]]}return r?e:void 0},A=Math.pow(2,53)-1,D=b("length"),L=function(e){var t=D(e);return"number"==typeof t&&t>=0&&t<=A};f.each=f.forEach=function(e,t,r){var i,o;if(t=_(t,r),L(e))for(i=0,o=e.length;i<o;i++)t(e[i],i,e);else{var n=f.keys(e);for(i=0,o=n.length;i<o;i++)t(e[n[i]],n[i],e)}return e},f.map=f.collect=function(e,t,r){t=S(t,r);for(var i=!L(e)&&f.keys(e),o=(i||e).length,n=Array(o),s=0;s<o;s++){var a=i?i[s]:s;n[s]=t(e[a],a,e)}return n};var E=function(e){var t=function(t,r,i,o){var n=!L(t)&&f.keys(t),s=(n||t).length,a=e>0?0:s-1;for(o||(i=t[n?n[a]:a],a+=e);a>=0&&a<s;a+=e){var l=n?n[a]:a;i=r(i,t[l],l,t)}return i};return function(e,r,i,o){var n=arguments.length>=3;return t(e,_(r,o,4),i,n)}};f.reduce=f.foldl=f.inject=E(1),f.reduceRight=f.foldr=E(-1),f.find=f.detect=function(e,t,r){var i=(L(e)?f.findIndex:f.findKey)(e,t,r);if(void 0!==i&&-1!==i)return e[i]},f.filter=f.select=function(e,t,r){var i=[];return t=S(t,r),f.each(e,(function(e,r,o){t(e,r,o)&&i.push(e)})),i},f.reject=function(e,t,r){return f.filter(e,f.negate(S(t)),r)},f.every=f.all=function(e,t,r){t=S(t,r);for(var i=!L(e)&&f.keys(e),o=(i||e).length,n=0;n<o;n++){var s=i?i[n]:n;if(!t(e[s],s,e))return!1}return!0},f.some=f.any=function(e,t,r){t=S(t,r);for(var i=!L(e)&&f.keys(e),o=(i||e).length,n=0;n<o;n++){var s=i?i[n]:n;if(t(e[s],s,e))return!0}return!1},f.contains=f.includes=f.include=function(e,t,r,i){return L(e)||(e=f.values(e)),("number"!=typeof r||i)&&(r=0),f.indexOf(e,t,r)>=0},f.invoke=v((function(e,t,r){var i,o;return f.isFunction(t)?o=t:f.isArray(t)&&(i=t.slice(0,-1),t=t[t.length-1]),f.map(e,(function(e){var n=o;if(!n){if(i&&i.length&&(e=T(e,i)),null==e)return;n=e[t]}return null==n?n:n.apply(e,r)}))})),f.pluck=function(e,t){return f.map(e,f.property(t))},f.where=function(e,t){return f.filter(e,f.matcher(t))},f.findWhere=function(e,t){return f.find(e,f.matcher(t))},f.max=function(e,t,r){var i,o,n=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=L(e)?e:f.values(e)).length;a<l;a++)null!=(i=e[a])&&i>n&&(n=i);else t=S(t,r),f.each(e,(function(e,r,i){((o=t(e,r,i))>s||o===-1/0&&n===-1/0)&&(n=e,s=o)}));return n},f.min=function(e,t,r){var i,o,n=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=L(e)?e:f.values(e)).length;a<l;a++)null!=(i=e[a])&&i<n&&(n=i);else t=S(t,r),f.each(e,(function(e,r,i){((o=t(e,r,i))<s||o===1/0&&n===1/0)&&(n=e,s=o)}));return n},f.shuffle=function(e){return f.sample(e,1/0)},f.sample=function(e,t,r){if(null==t||r)return L(e)||(e=f.values(e)),e[f.random(e.length-1)];var i=L(e)?f.clone(e):f.values(e),o=D(i);t=Math.max(Math.min(t,o),0);for(var n=o-1,s=0;s<t;s++){var a=f.random(s,n),l=i[s];i[s]=i[a],i[a]=l}return i.slice(0,t)},f.sortBy=function(e,t,r){var i=0;return t=S(t,r),f.pluck(f.map(e,(function(e,r,o){return{value:e,index:i++,criteria:t(e,r,o)}})).sort((function(e,t){var r=e.criteria,i=t.criteria;if(r!==i){if(r>i||void 0===r)return 1;if(r<i||void 0===i)return-1}return e.index-t.index})),"value")};var F=function(e,t){return function(r,i,o){var n=t?[[],[]]:{};return i=S(i,o),f.each(r,(function(t,o){var s=i(t,o,r);e(n,t,s)})),n}};f.groupBy=F((function(e,t,r){M(e,r)?e[r].push(t):e[r]=[t]})),f.indexBy=F((function(e,t,r){e[r]=t})),f.countBy=F((function(e,t,r){M(e,r)?e[r]++:e[r]=1}));var C=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;f.toArray=function(e){return e?f.isArray(e)?c.call(e):f.isString(e)?e.match(C):L(e)?f.map(e,f.identity):f.values(e):[]},f.size=function(e){return null==e?0:L(e)?e.length:f.keys(e).length},f.partition=F((function(e,t,r){e[r?0:1].push(t)}),!0),f.first=f.head=f.take=function(e,t,r){return null==e||e.length<1?null==t?void 0:[]:null==t||r?e[0]:f.initial(e,e.length-t)},f.initial=function(e,t,r){return c.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))},f.last=function(e,t,r){return null==e||e.length<1?null==t?void 0:[]:null==t||r?e[e.length-1]:f.rest(e,Math.max(0,e.length-t))},f.rest=f.tail=f.drop=function(e,t,r){return c.call(e,null==t||r?1:t)},f.compact=function(e){return f.filter(e,Boolean)};var k=function(e,t,r,i){for(var o=(i=i||[]).length,n=0,s=D(e);n<s;n++){var a=e[n];if(L(a)&&(f.isArray(a)||f.isArguments(a)))if(t)for(var l=0,c=a.length;l<c;)i[o++]=a[l++];else k(a,t,r,i),o=i.length;else r||(i[o++]=a)}return i};f.flatten=function(e,t){return k(e,t,!1)},f.without=v((function(e,t){return f.difference(e,t)})),f.uniq=f.unique=function(e,t,r,i){f.isBoolean(t)||(i=r,r=t,t=!1),null!=r&&(r=S(r,i));for(var o=[],n=[],s=0,a=D(e);s<a;s++){var l=e[s],c=r?r(l,s,e):l;t&&!r?(s&&n===c||o.push(l),n=c):r?f.contains(n,c)||(n.push(c),o.push(l)):f.contains(o,l)||o.push(l)}return o},f.union=v((function(e){return f.uniq(k(e,!0,!0))})),f.intersection=function(e){for(var t=[],r=arguments.length,i=0,o=D(e);i<o;i++){var n=e[i];if(!f.contains(t,n)){var s;for(s=1;s<r&&f.contains(arguments[s],n);s++);s===r&&t.push(n)}}return t},f.difference=v((function(e,t){return t=k(t,!0,!0),f.filter(e,(function(e){return!f.contains(t,e)}))})),f.unzip=function(e){for(var t=e&&f.max(e,D).length||0,r=Array(t),i=0;i<t;i++)r[i]=f.pluck(e,i);return r},f.zip=v(f.unzip),f.object=function(e,t){for(var r={},i=0,o=D(e);i<o;i++)t?r[e[i]]=t[i]:r[e[i][0]]=e[i][1];return r};var R=function(e){return function(t,r,i){r=S(r,i);for(var o=D(t),n=e>0?0:o-1;n>=0&&n<o;n+=e)if(r(t[n],n,t))return n;return-1}};f.findIndex=R(1),f.findLastIndex=R(-1),f.sortedIndex=function(e,t,r,i){for(var o=(r=S(r,i,1))(t),n=0,s=D(e);n<s;){var a=Math.floor((n+s)/2);r(e[a])<o?n=a+1:s=a}return n};var O=function(e,t,r){return function(i,o,n){var s=0,a=D(i);if("number"==typeof n)e>0?s=n>=0?n:Math.max(n+a,s):a=n>=0?Math.min(n+1,a):n+a+1;else if(r&&n&&a)return i[n=r(i,o)]===o?n:-1;if(o!=o)return(n=t(c.call(i,s,a),f.isNaN))>=0?n+s:-1;for(n=e>0?s:a-1;n>=0&&n<a;n+=e)if(i[n]===o)return n;return-1}};f.indexOf=O(1,f.findIndex,f.sortedIndex),f.lastIndexOf=O(-1,f.findLastIndex),f.range=function(e,t,r){null==t&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/r),0),o=Array(i),n=0;n<i;n++,e+=r)o[n]=e;return o},f.chunk=function(e,t){if(null==t||t<1)return[];for(var r=[],i=0,o=e.length;i<o;)r.push(c.call(e,i,i+=t));return r};var N=function(e,t,r,i,o){if(!(i instanceof t))return e.apply(r,o);var n=w(e.prototype),s=e.apply(n,o);return f.isObject(s)?s:n};f.bind=v((function(e,t,r){if(!f.isFunction(e))throw new TypeError("Bind must be called on a function");var i=v((function(o){return N(e,i,t,this,r.concat(o))}));return i})),f.partial=v((function(e,t){var r=f.partial.placeholder,i=function(){for(var o=0,n=t.length,s=Array(n),a=0;a<n;a++)s[a]=t[a]===r?arguments[o++]:t[a];for(;o<arguments.length;)s.push(arguments[o++]);return N(e,i,this,this,s)};return i})),f.partial.placeholder=f,f.bindAll=v((function(e,t){var r=(t=k(t,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var i=t[r];e[i]=f.bind(e[i],e)}})),f.memoize=function(e,t){var r=function(i){var o=r.cache,n=""+(t?t.apply(this,arguments):i);return M(o,n)||(o[n]=e.apply(this,arguments)),o[n]};return r.cache={},r},f.delay=v((function(e,t,r){return setTimeout((function(){return e.apply(null,r)}),t)})),f.defer=f.partial(f.delay,f,1),f.throttle=function(e,t,r){var i,o,n,s,a=0;r||(r={});var l=function(){a=!1===r.leading?0:f.now(),i=null,s=e.apply(o,n),i||(o=n=null)},c=function(){var c=f.now();a||!1!==r.leading||(a=c);var u=t-(c-a);return o=this,n=arguments,u<=0||u>t?(i&&(clearTimeout(i),i=null),a=c,s=e.apply(o,n),i||(o=n=null)):i||!1===r.trailing||(i=setTimeout(l,u)),s};return c.cancel=function(){clearTimeout(i),a=0,i=o=n=null},c},f.debounce=function(e,t,r){var i,o,n=function(t,r){i=null,r&&(o=e.apply(t,r))},s=v((function(s){if(i&&clearTimeout(i),r){var a=!i;i=setTimeout(n,t),a&&(o=e.apply(this,s))}else i=f.delay(n,t,this,s);return o}));return s.cancel=function(){clearTimeout(i),i=null},s},f.wrap=function(e,t){return f.partial(t,e)},f.negate=function(e){return function(){return!e.apply(this,arguments)}},f.compose=function(){var e=arguments,t=e.length-1;return function(){for(var r=t,i=e[t].apply(this,arguments);r--;)i=e[r].call(this,i);return i}},f.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},f.before=function(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}},f.once=f.partial(f.before,2),f.restArguments=v;var W=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],B=function(e,t){var r=I.length,i=e.constructor,o=f.isFunction(i)&&i.prototype||s,n="constructor";for(M(e,n)&&!f.contains(t,n)&&t.push(n);r--;)(n=I[r])in e&&e[n]!==o[n]&&!f.contains(t,n)&&t.push(n)};f.keys=function(e){if(!f.isObject(e))return[];if(p)return p(e);var t=[];for(var r in e)M(e,r)&&t.push(r);return W&&B(e,t),t},f.allKeys=function(e){if(!f.isObject(e))return[];var t=[];for(var r in e)t.push(r);return W&&B(e,t),t},f.values=function(e){for(var t=f.keys(e),r=t.length,i=Array(r),o=0;o<r;o++)i[o]=e[t[o]];return i},f.mapObject=function(e,t,r){t=S(t,r);for(var i=f.keys(e),o=i.length,n={},s=0;s<o;s++){var a=i[s];n[a]=t(e[a],a,e)}return n},f.pairs=function(e){for(var t=f.keys(e),r=t.length,i=Array(r),o=0;o<r;o++)i[o]=[t[o],e[t[o]]];return i},f.invert=function(e){for(var t={},r=f.keys(e),i=0,o=r.length;i<o;i++)t[e[r[i]]]=r[i];return t},f.functions=f.methods=function(e){var t=[];for(var r in e)f.isFunction(e[r])&&t.push(r);return t.sort()};var j=function(e,t){return function(r){var i=arguments.length;if(t&&(r=Object(r)),i<2||null==r)return r;for(var o=1;o<i;o++)for(var n=arguments[o],s=e(n),a=s.length,l=0;l<a;l++){var c=s[l];t&&void 0!==r[c]||(r[c]=n[c])}return r}};f.extend=j(f.allKeys),f.extendOwn=f.assign=j(f.keys),f.findKey=function(e,t,r){t=S(t,r);for(var i,o=f.keys(e),n=0,s=o.length;n<s;n++)if(t(e[i=o[n]],i,e))return i};var Y,P,U=function(e,t,r){return t in r};f.pick=v((function(e,t){var r={},i=t[0];if(null==e)return r;f.isFunction(i)?(t.length>1&&(i=_(i,t[1])),t=f.allKeys(e)):(i=U,t=k(t,!1,!1),e=Object(e));for(var o=0,n=t.length;o<n;o++){var s=t[o],a=e[s];i(a,s,e)&&(r[s]=a)}return r})),f.omit=v((function(e,t){var r,i=t[0];return f.isFunction(i)?(i=f.negate(i),t.length>1&&(r=t[1])):(t=f.map(k(t,!1,!1),String),i=function(e,r){return!f.contains(t,r)}),f.pick(e,i,r)})),f.defaults=j(f.allKeys,!0),f.create=function(e,t){var r=w(e);return t&&f.extendOwn(r,t),r},f.clone=function(e){return f.isObject(e)?f.isArray(e)?e.slice():f.extend({},e):e},f.tap=function(e,t){return t(e),e},f.isMatch=function(e,t){var r=f.keys(t),i=r.length;if(null==e)return!i;for(var o=Object(e),n=0;n<i;n++){var s=r[n];if(t[s]!==o[s]||!(s in o))return!1}return!0},Y=function(e,t,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&P(e,t,r,i)},P=function(e,t,r,i){e instanceof f&&(e=e._wrapped),t instanceof f&&(t=t._wrapped);var o=u.call(e);if(o!==u.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return a.valueOf.call(e)===a.valueOf.call(t)}var n="[object Array]"===o;if(!n){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,l=t.constructor;if(s!==l&&!(f.isFunction(s)&&s instanceof s&&f.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}i=i||[];for(var c=(r=r||[]).length;c--;)if(r[c]===e)return i[c]===t;if(r.push(e),i.push(t),n){if((c=e.length)!==t.length)return!1;for(;c--;)if(!Y(e[c],t[c],r,i))return!1}else{var d,g=f.keys(e);if(c=g.length,f.keys(t).length!==c)return!1;for(;c--;)if(d=g[c],!M(t,d)||!Y(e[d],t[d],r,i))return!1}return r.pop(),i.pop(),!0},f.isEqual=function(e,t){return Y(e,t)},f.isEmpty=function(e){return null==e||(L(e)&&(f.isArray(e)||f.isString(e)||f.isArguments(e))?0===e.length:0===f.keys(e).length)},f.isElement=function(e){return!(!e||1!==e.nodeType)},f.isArray=g||function(e){return"[object Array]"===u.call(e)},f.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},f.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(e){f["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}})),f.isArguments(arguments)||(f.isArguments=function(e){return M(e,"callee")});var x=i.document&&i.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof x&&(f.isFunction=function(e){return"function"==typeof e||!1}),f.isFinite=function(e){return!f.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},f.isNaN=function(e){return f.isNumber(e)&&isNaN(e)},f.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},f.isNull=function(e){return null===e},f.isUndefined=function(e){return void 0===e},f.has=function(e,t){if(!f.isArray(t))return M(e,t);for(var r=t.length,i=0;i<r;i++){var o=t[i];if(null==e||!d.call(e,o))return!1;e=e[o]}return!!r},f.noConflict=function(){return i._=o,this},f.identity=function(e){return e},f.constant=function(e){return function(){return e}},f.noop=function(){},f.property=function(e){return f.isArray(e)?function(t){return T(t,e)}:b(e)},f.propertyOf=function(e){return null==e?function(){}:function(t){return f.isArray(t)?T(e,t):e[t]}},f.matcher=f.matches=function(e){return e=f.extendOwn({},e),function(t){return f.isMatch(t,e)}},f.times=function(e,t,r){var i=Array(Math.max(0,e));t=_(t,r,1);for(var o=0;o<e;o++)i[o]=t(o);return i},f.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},f.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=f.invert(H),V=function(e){var t=function(t){return e[t]},r="(?:"+f.keys(e).join("|")+")",i=RegExp(r),o=RegExp(r,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(o,t):e}};f.escape=V(H),f.unescape=V(z),f.result=function(e,t,r){f.isArray(t)||(t=[t]);var i=t.length;if(!i)return f.isFunction(r)?r.call(e):r;for(var o=0;o<i;o++){var n=null==e?void 0:e[t[o]];void 0===n&&(n=r,o=i),e=f.isFunction(n)?n.call(e):n}return e};var G=0;f.uniqueId=function(e){var t=++G+"";return e?e+t:t},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,K=function(e){return"\\"+J[e]};f.template=function(e,t,r){!t&&r&&(t=r),t=f.defaults({},t,f.templateSettings);var i,o=RegExp([(t.escape||q).source,(t.interpolate||q).source,(t.evaluate||q).source].join("|")+"|$","g"),n=0,s="__p+='";e.replace(o,(function(t,r,i,o,a){return s+=e.slice(n,a).replace($,K),n=a+t.length,r?s+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),t})),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(t.variable||"obj","_",s)}catch(e){throw e.source=s,e}var a=function(e){return i.call(this,e,f)},l=t.variable||"obj";return a.source="function("+l+"){\n"+s+"}",a},f.chain=function(e){var t=f(e);return t._chain=!0,t};var X=function(e,t){return e._chain?f(t).chain():t};f.mixin=function(e){return f.each(f.functions(e),(function(t){var r=f[t]=e[t];f.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),X(this,r.apply(f,e))}})),f},f.mixin(f),f.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=n[e];f.prototype[e]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0],X(this,r)}})),f.each(["concat","join","slice"],(function(e){var t=n[e];f.prototype[e]=function(){return X(this,t.apply(this._wrapped,arguments))}})),f.prototype.value=function(){return this._wrapped},f.prototype.valueOf=f.prototype.toJSON=f.prototype.value,f.prototype.toString=function(){return String(this._wrapped)},void 0===(r=function(){return f}.apply(t,[]))||(e.exports=r)}()}).call(this,r(33)(e))},function(module,exports){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,r){e instanceof String&&(e=String(e));for(var i=e.length,o=0;o<i;o++){var n=e[o];if(t.call(r,n,o,e))return{i:o,v:n}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,r,i){if(t){for(r=$jscomp.global,e=e.split("."),i=0;i<e.length-1;i++){var o=e[i];o in r||(r[o]={}),r=r[o]}(t=t(i=r[e=e[e.length-1]]))!=i&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.findIndex",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}}),"es6","es3"),$jscomp.checkStringArgs=function(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.endsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=r.length),t=Math.max(0,Math.min(0|t,r.length));for(var i=e.length;0<i&&0<t;)if(r[--t]!=e[--i])return!1;return 0>=i}}),"es6","es3"),$jscomp.polyfill("Array.prototype.find",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}}),"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var i=r.length,o=e.length;t=Math.max(0,Math.min(0|t,r.length));for(var n=0;n<o&&t<i;)if(r[t++]!=e[n++])return!1;return n>=o}}),"es6","es3"),$jscomp.polyfill("String.prototype.repeat",(function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var r="";e;)1&e&&(r+=t),(e>>>=1)&&(t+=t);return r}}),"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(e){return void 0!==e},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.exportPath_=function(e,t,r){e=e.split("."),r=r||goog.global,e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(var i;e.length&&(i=e.shift());)!e.length&&goog.isDef(t)?r[i]=t:r=r[i]&&r[i]!==Object.prototype[i]?r[i]:r[i]={}},goog.define=function(e,t){if(!COMPILED){var r=goog.global.CLOSURE_UNCOMPILED_DEFINES,i=goog.global.CLOSURE_DEFINES;r&&void 0===r.nodeType&&Object.prototype.hasOwnProperty.call(r,e)?t=r[e]:i&&void 0===i.nodeType&&Object.prototype.hasOwnProperty.call(i,e)&&(t=i[e])}return t},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var r=e;(r=r.substring(0,r.lastIndexOf(".")))&&!goog.getObjectByName(r);)goog.implicitNamespaces_[r]=!0}goog.exportPath_(e,t)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e].exports;if(!goog.implicitNamespaces_[e])return null!=(e=goog.getObjectByName(e))?e:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&("function"==typeof e.getCurrentModulePath&&!!e.getCurrentModulePath())},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(e in goog.loadedModules_)throw Error('Module with namespace "'+e+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||"function"!=typeof t.getCurrentModulePath)throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){e=e.split("."),t=t||goog.global;for(var r=0;r<e.length;r++)if(t=t[e[r]],!goog.isDefAndNotNull(t))return null;return t},goog.globalize=function(e,t){for(var r in t=t||goog.global,e)t[r]=e[r]},goog.addDependency=function(e,t,r,i){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(e,t,r,i)},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(e)}finally{goog.moduleLoaderState_=t}}return null}},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var r=e.call(void 0,{});else{if(!goog.isString(e))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),r=goog.loadModuleFromSource_.call(void 0,e)}var i=goog.moduleLoaderState_.moduleName;if(!goog.isString(i)||!i)throw Error('Invalid module name "'+i+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(i,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof r&&null!=r&&Object.seal(r),goog.loadedModules_[i]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(e){return null}},goog.transpile_=function(e,t,r){var i=goog.global.$jscomp;i||(goog.global.$jscomp=i={});var o=i.transpile;if(!o){var n=goog.basePath+goog.TRANSPILER,s=goog.loadFileSync_(n);if(s){if(function(){(0,eval)(s+"\n//# sourceURL="+n)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,o=(i=goog.global.$jscomp).transpile}}return o||(o=i.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),o(e,t,r)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if("function"==typeof e.clone)return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e,t,r){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,r){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var r in t)e[r]=t[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(e){}if(void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,r=t.createElement("SCRIPT");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.head.appendChild(r),t.head.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var r=function(e){return goog.cssNameMapping_[e]||e},i=function(e){e=e.split("-");for(var t=[],i=0;i<e.length;i++)t.push(r(e[i]));return t.join("-")};return i=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:i:function(e){return e},e=t?e+"-"+i(t):i(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t,r){return r&&r.html&&(e=e.replace(/</g,"&lt;")),t&&(e=e.replace(/\{\$([^}]+)}/g,(function(e,r){return null!=t&&r in t?t[r]:e}))),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,r)},goog.exportProperty=function(e,t,r){e[t]=r},goog.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r,i){for(var o=Array(arguments.length-2),n=2;n<arguments.length;n++)o[n-2]=arguments[n];return t.prototype[r].apply(e,o)}},goog.base=function(e,t,r){var i=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!i)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(void 0!==i.superClass_){for(var o=Array(arguments.length-1),n=1;n<arguments.length;n++)o[n-1]=arguments[n];return i.superClass_.constructor.apply(e,o)}if("string"!=typeof t&&"symbol"!=typeof t)throw Error("method names provided to goog.base must be a string or a symbol");for(o=Array(arguments.length-2),n=2;n<arguments.length;n++)o[n-2]=arguments[n];n=!1;for(var s=e.constructor.prototype;s;s=Object.getPrototypeOf(s))if(s[t]===i)n=!0;else if(n)return s[t].apply(e,o);if(e[t]===i)return e.constructor.prototype[t].apply(e,o);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var r=t.constructor,i=t.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),null!=i&&(i instanceof Function?i(r):goog.defineClass.applyProperties_(r,i)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var r=!goog.defineClass.isUnsealable_(t),i=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===i&&r&&Object.seal instanceof Function&&Object.seal(t),t};return i},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var i=0;i<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;i++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.isDocumentLoading_=function(){var e=goog.global.document;return e.attachEvent?"complete"!=e.readyState:"loading"==e.readyState},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var e=goog.global.document,t=e.currentScript;for(t=(e=t?[t]:e.getElementsByTagName("SCRIPT")).length-1;0<=t;--t){var r=e[t].src,i=r.lastIndexOf("?");if(i=-1==i?r.length:i,"base.js"==r.substr(i-7,7)){goog.basePath=r.substr(0,i-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(t,r){e?d[t]=!0:r()?(c=t,d[t]=!1):e=d[t]=!0}function b(a){try{return!!eval(a)}catch(e){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",(function(){return b("[1,].length==1")})),a("es6",(function(){return!f.match(/Edge\/(\d+)(\.\d)*/i)&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')})),a("es7",(function(){return b("2 ** 2 == 4")})),a("es8",(function(){return b("async () => 1, true")})),a("es9",(function(){return b("({...rest} = {}), true")})),a("es_next",(function(){return!1})),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(e,t){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var r=this.createRequiresTranspilation_();this.requiresTranspilation_=r.map,this.transpilationTarget_=this.transpilationTarget_||r.target}if(e in this.requiresTranspilation_)return!!this.requiresTranspilation_[e]||!(!goog.inHtmlDocument_()||"es6"!=t||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+e)},goog.Transpiler.prototype.transpile=function(e,t){return goog.transpile_(e,t,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(e,t){function r(){i&&(goog.global.setTimeout(i,0),i=null)}var i=t;if(e.length){t=[];for(var o=0;o<e.length;o++){var n=this.getPathFromDeps_(e[o]);if(!n)throw Error("Unregonized namespace: "+e[o]);t.push(this.dependencies_[n])}n=goog.require;var s=0;for(o=0;o<e.length;o++)n(e[o]),t[o].onLoad((function(){++s==e.length&&r()}))}else r()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(e,t){(e=this.getPathFromDeps_(e))&&(t||this.areDepsLoaded_(this.dependencies_[e].requires))&&(t=this.deferredCallbacks_[e])&&(delete this.deferredCallbacks_[e],t())},goog.DebugLoader_.prototype.setDependencyFactory=function(e){this.factory_=e},goog.DebugLoader_.prototype.load_=function(e){if(!this.getPathFromDeps_(e))throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e);var t=this,r=[],i=function(e){var o=t.getPathFromDeps_(e);if(!o)throw Error("Bad dependency path or symbol: "+e);if(!t.written_[o]){for(t.written_[o]=!0,e=t.dependencies_[o],o=0;o<e.requires.length;o++)goog.isProvided_(e.requires[o])||i(e.requires[o]);r.push(e)}};i(e),e=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(r),this.paused_||e||this.loadDeps_()},goog.DebugLoader_.prototype.loadDeps_=function(){for(var e=this,t=this.paused_;this.depsToLoad_.length&&!t;)!function(){var r=!1,i=e.depsToLoad_.shift(),o=!1;e.loading_(i);var n={pause:function(){if(r)throw Error("Cannot call pause after the call to load.");t=!0},resume:function(){r?e.resume_():t=!1},loaded:function(){if(o)throw Error("Double call to loaded.");o=!0,e.loaded_(i)},pending:function(){for(var t=[],r=0;r<e.loadingDeps_.length;r++)t.push(e.loadingDeps_[r]);return t},setModuleState:function(e){goog.moduleLoaderState_={type:e,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(e,t,r){r&&(goog.loadedModules_[r]={exports:t,type:goog.ModuleType.ES6,moduleId:r||""})},registerGoogModuleExports:function(e,t){goog.loadedModules_[e]={exports:t,type:goog.ModuleType.GOOG,moduleId:e}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(t){if(r)throw Error("Cannot register with defer after the call to load.");e.defer_(i,t)},areDepsLoaded:function(){return e.areDepsLoaded_(i.requires)}};try{i.load(n)}finally{r=!0}}();t&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(e){this.loadingDeps_.push(e)},goog.DebugLoader_.prototype.loaded_=function(e){for(var t=0;t<this.loadingDeps_.length;t++)if(this.loadingDeps_[t]==e){this.loadingDeps_.splice(t,1);break}for(t=0;t<this.deferredQueue_.length;t++)if(this.deferredQueue_[t]==e.path){this.deferredQueue_.splice(t,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);e.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(e){for(var t=0;t<e.length;t++){var r=this.getPathFromDeps_(e[t]);if(!r||!(r in this.deferredCallbacks_||goog.isProvided_(e[t])))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(e){return e in this.idToPath_?this.idToPath_[e]:e in this.dependencies_?e:null},goog.DebugLoader_.prototype.defer_=function(e,t){this.deferredCallbacks_[e.path]=t,this.deferredQueue_.push(e.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(e,t,r){},goog.LoadController.prototype.setModuleState=function(e){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(e){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(e,t,r,i,o){this.path=e,this.relativePath=t,this.provides=r,this.requires=i,this.loadFlags=o,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var e=this.path,t=e.indexOf("://");return 0<=t&&(0<=(t=(e=e.substring(t+3)).indexOf("/"))&&(e=e.substring(t+1))),e},goog.Dependency.prototype.onLoad=function(e){this.loaded_?e():this.loadCallbacks_.push(e)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var e=this.loadCallbacks_;this.loadCallbacks_=[];for(var t=0;t<e.length;t++)e[t]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(e){var t=Math.random().toString(32);return goog.Dependency.callbackMap_[t]=e,t},goog.Dependency.unregisterCallback_=function(e){delete goog.Dependency.callbackMap_[e]},goog.Dependency.callback_=function(e,t){if(!(e in goog.Dependency.callbackMap_))throw Error("Callback key "+e+" does not exist (was base.js loaded more than once?).");for(var r=goog.Dependency.callbackMap_[e],i=[],o=1;o<arguments.length;o++)i.push(arguments[o]);r.apply(void 0,i)},goog.Dependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document;if("complete"==t.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path))return void e.loaded();throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var r=goog.Dependency.registerCallback_((function(t){goog.DebugLoader_.IS_OLD_IE_&&"complete"!=t.readyState||(goog.Dependency.unregisterCallback_(r),e.loaded())})),i=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";i='<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+"=\"goog.Dependency.callback_('"+r+'\', this)" type="text/javascript" '+(goog.Dependency.defer_?"defer":"")+i+"><\/script>",t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(i):i)}else{var o=t.createElement("script");o.defer=goog.Dependency.defer_,o.async=!1,o.type="text/javascript",(i=goog.getScriptNonce())&&o.setAttribute("nonce",i),goog.DebugLoader_.IS_OLD_IE_?(e.pause(),o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(e.loaded(),e.resume())}):o.onload=function(){o.onload=null,e.loaded()},o.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path,t.head.appendChild(o)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),e.loaded()):e.pause()},goog.Es6ModuleDependency=function(e,t,r,i,o){goog.Dependency.call(this,e,t,r,i,o)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document,r=this;if(goog.isDocumentLoading_()){var i=function(e,r){e=r?'<script type="module" crossorigin>'+r+"<\/script>":'<script type="module" crossorigin src="'+e+'"><\/script>',t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(e):e)};goog.Dependency.defer_=!0}else i=function(e,r){var i=t.createElement("script");i.defer=!0,i.async=!1,i.type="module",i.setAttribute("crossorigin",!0);var o=goog.getScriptNonce();o&&i.setAttribute("nonce",o),r?i.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(r):r:i.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(e):e,t.head.appendChild(i)};var o=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(o),e.setModuleState(goog.ModuleType.ES6)}));i(void 0,'goog.Dependency.callback_("'+o+'")'),i(this.path,void 0);var n=goog.Dependency.registerCallback_((function(t){goog.Dependency.unregisterCallback_(n),e.registerEs6ModuleExports(r.path,t,goog.moduleLoaderState_.moduleName)}));i(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+n+'", m)');var s=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(s),e.clearModuleState(),e.loaded()}));i(void 0,'goog.Dependency.callback_("'+s+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),e.pause()},goog.TransformedDependency=function(e,t,r,i,o){goog.Dependency.call(this,e,t,r,i,o),this.contents_=null,this.lazyFetch_=!(goog.inHtmlDocument_()&&"noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(e){function t(){i.contents_=goog.loadFileSync_(i.path),i.contents_&&(i.contents_=i.transform(i.contents_),i.contents_&&(i.contents_+="\n//# sourceURL="+i.path))}function r(){if(i.lazyFetch_&&t(),i.contents_){o&&e.setModuleState(goog.ModuleType.ES6);try{var r=i.contents_;if(i.contents_=null,goog.globalEval(r),o)var n=goog.moduleLoaderState_.moduleName}finally{o&&e.clearModuleState()}o&&goog.global.$jscomp.require.ensure([i.getPathName()],(function(){e.registerEs6ModuleExports(i.path,goog.global.$jscomp.require(i.getPathName()),n)})),e.loaded()}}var i=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)t(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,e.loaded()):e.pause();else{var o=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||t();var n=1<e.pending().length,s=n&&goog.DebugLoader_.IS_OLD_IE_;if(n=goog.Dependency.defer_&&(n||goog.isDocumentLoading_()),s||n)e.defer((function(){r()}));else{var a=goog.global.document;if(s=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,o&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!s){goog.Dependency.defer_=!0,e.pause();var l=a.onreadystatechange;a.onreadystatechange=function(){"interactive"==a.readyState&&(a.onreadystatechange=l,r(),e.resume()),goog.isFunction(l)&&l.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?function(){var e=goog.global.document,t=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(t),r()})),i='<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+t+'");')+"<\/script>";e.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(i):i)}():r()}}},goog.TransformedDependency.prototype.transform=function(e){},goog.TranspiledDependency=function(e,t,r,i,o,n){goog.TransformedDependency.call(this,e,t,r,i,o),this.transpiler=n},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(e){return this.transpiler.transpile(e,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(e,t,r,i,o){goog.TransformedDependency.call(this,e,t,r,i,o)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(e){return e},goog.GoogModuleDependency=function(e,t,r,i,o,n,s){goog.TransformedDependency.call(this,e,t,r,i,o),this.needsTranspile_=n,this.transpiler_=s},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(e){return this.needsTranspile_&&(e=this.transpiler_.transpile(e,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(e,t,r,i){t=t||[],e=e.replace(/\\/g,"/");var o=goog.normalizePath_(goog.basePath+e);for(i&&"boolean"!=typeof i||(i=i?{module:goog.ModuleType.GOOG}:{}),r=this.factory_.createDependency(o,e,t,r,i,goog.transpiler_.needsTranspile(i.lang||"es3",i.module)),this.dependencies_[o]=r,r=0;r<t.length;r++)this.idToPath_[t[r]]=o;this.idToPath_[e]=o},goog.DependencyFactory=function(e){this.transpiler=e},goog.DependencyFactory.prototype.createDependency=function(e,t,r,i,o,n){return o.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(e,t,r,i,o,n,this.transpiler):n?new goog.TranspiledDependency(e,t,r,i,o,this.transpiler):o.module==goog.ModuleType.ES6?"never"==goog.TRANSPILE&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(e,t,r,i,o):new goog.Es6ModuleDependency(e,t,r,i,o):new goog.Dependency(e,t,r,i,o)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(e){goog.debugLoader_.setDependencyFactory(e)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(e,t){goog.debugLoader_.bootstrap(e,t)}),goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null;if("undefined"==typeof TrustedTypes||!TrustedTypes.createPolicy)return t;try{t=TrustedTypes.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(e){goog.logToConsole_(e.message)}return t},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,r=jspb.BinaryConstants.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return r.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return r.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return r.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return r.FIXED32;default:return r.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){goog.debug.Error.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,t){for(var r="",i=(e=e.split("%s")).length-1,o=0;o<i;o++)r+=e[o]+(o<t.length?t[o]:"%s");return r+e[i]},goog.asserts.doAssertFailure_=function(e,t,r,i){var o="Assertion failed";if(r){o+=": "+r;var n=i}else e&&(o+=": "+e,n=t);e=new goog.asserts.AssertionError(""+o,n||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&null==e&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,r,i){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],r,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof e&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,r)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==r?e.length-1:r)}:function(e,t,r){if(0>(r=null==r?e.length-1:r)&&(r=Math.max(0,e.length+r)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,r):-1;for(;0<=r;r--)if(r in e&&e[r]===t)return r;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,r){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,r)}:function(e,t,r){for(var i=e.length,o=goog.isString(e)?e.split(""):e,n=0;n<i;n++)n in o&&t.call(r,o[n],n,e)},goog.array.forEachRight=function(e,t,r){var i=e.length,o=goog.isString(e)?e.split(""):e;for(--i;0<=i;--i)i in o&&t.call(r,o[i],i,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,r)}:function(e,t,r){for(var i=e.length,o=[],n=0,s=goog.isString(e)?e.split(""):e,a=0;a<i;a++)if(a in s){var l=s[a];t.call(r,l,a,e)&&(o[n++]=l)}return o},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,r)}:function(e,t,r){for(var i=e.length,o=Array(i),n=goog.isString(e)?e.split(""):e,s=0;s<i;s++)s in n&&(o[s]=t.call(r,n[s],s,e));return o},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,r,i){return goog.asserts.assert(null!=e.length),i&&(t=goog.bind(t,i)),Array.prototype.reduce.call(e,t,r)}:function(e,t,r,i){var o=r;return goog.array.forEach(e,(function(r,n){o=t.call(i,o,r,n,e)})),o},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,r,i){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),i&&(t=goog.bind(t,i)),Array.prototype.reduceRight.call(e,t,r)}:function(e,t,r,i){var o=r;return goog.array.forEachRight(e,(function(r,n){o=t.call(i,o,r,n,e)})),o},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,r)}:function(e,t,r){for(var i=e.length,o=goog.isString(e)?e.split(""):e,n=0;n<i;n++)if(n in o&&t.call(r,o[n],n,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,r)}:function(e,t,r){for(var i=e.length,o=goog.isString(e)?e.split(""):e,n=0;n<i;n++)if(n in o&&!t.call(r,o[n],n,e))return!1;return!0},goog.array.count=function(e,t,r){var i=0;return goog.array.forEach(e,(function(e,o,n){t.call(r,e,o,n)&&++i}),r),i},goog.array.find=function(e,t,r){return 0>(t=goog.array.findIndex(e,t,r))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,r){for(var i=e.length,o=goog.isString(e)?e.split(""):e,n=0;n<i;n++)if(n in o&&t.call(r,o[n],n,e))return n;return-1},goog.array.findRight=function(e,t,r){return 0>(t=goog.array.findIndexRight(e,t,r))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,r){var i=e.length,o=goog.isString(e)?e.split(""):e;for(--i;0<=i;i--)if(i in o&&t.call(r,o[i],i,e))return i;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,r){goog.array.splice(e,r,0,t)},goog.array.insertArrayAt=function(e,t,r){goog.partial(goog.array.splice,e,r,0).apply(null,t)},goog.array.insertBefore=function(e,t,r){var i;2==arguments.length||0>(i=goog.array.indexOf(e,r))?e.push(t):goog.array.insertAt(e,t,i)},goog.array.remove=function(e,t){var r;return(r=0<=(t=goog.array.indexOf(e,t)))&&goog.array.removeAt(e,t),r},goog.array.removeLast=function(e,t){return 0<=(t=goog.array.lastIndexOf(e,t))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,r){return 0<=(t=goog.array.findIndex(e,t,r))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,r){var i=0;return goog.array.forEachRight(e,(function(o,n){t.call(r,o,n,e)&&goog.array.removeAt(e,n)&&i++})),i},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var r=Array(t),i=0;i<t;i++)r[i]=e[i];return r}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var r=1;r<arguments.length;r++){var i=arguments[r];if(goog.isArrayLike(i)){var o=e.length||0,n=i.length||0;e.length=o+n;for(var s=0;s<n;s++)e[o+s]=i[s]}else e.push(i)}},goog.array.splice=function(e,t,r,i){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,r){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)},goog.array.removeDuplicates=function(e,t,r){t=t||e;var i=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};r=r||i,i={};for(var o=0,n=0;n<e.length;){var s=e[n++],a=r(s);Object.prototype.hasOwnProperty.call(i,a)||(i[a]=!0,t[o++]=s)}t.length=o},goog.array.binarySearch=function(e,t,r){return goog.array.binarySearch_(e,r||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,r){return goog.array.binarySearch_(e,t,!0,void 0,r)},goog.array.binarySearch_=function(e,t,r,i,o){for(var n,s=0,a=e.length;s<a;){var l=s+a>>1,c=r?t.call(o,e[l],l,e):t(i,e[l]);0<c?s=l+1:(a=l,n=!c)}return n?s:~s},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var r=Array(e.length),i=0;i<e.length;i++)r[i]={index:i,value:e[i]};var o=t||goog.array.defaultCompare;for(goog.array.sort(r,(function(e,t){return o(e.value,t.value)||e.index-t.index})),i=0;i<e.length;i++)e[i]=r[i].value},goog.array.sortByKey=function(e,t,r){var i=r||goog.array.defaultCompare;goog.array.sort(e,(function(e,r){return i(t(e),t(r))}))},goog.array.sortObjectsByKey=function(e,t,r){goog.array.sortByKey(e,(function(e){return e[t]}),r)},goog.array.isSorted=function(e,t,r){t=t||goog.array.defaultCompare;for(var i=1;i<e.length;i++){var o=t(e[i-1],e[i]);if(0<o||0==o&&r)return!1}return!0},goog.array.equals=function(e,t,r){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var i=e.length;r=r||goog.array.defaultCompareEquality;for(var o=0;o<i;o++)if(!r(e[o],t[o]))return!1;return!0},goog.array.compare3=function(e,t,r){r=r||goog.array.defaultCompare;for(var i=Math.min(e.length,t.length),o=0;o<i;o++){var n=r(e[o],t[o]);if(0!=n)return n}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,r){return 0>(r=goog.array.binarySearch(e,t,r))&&(goog.array.insertAt(e,t,-(r+1)),!0)},goog.array.binaryRemove=function(e,t,r){return 0<=(t=goog.array.binarySearch(e,t,r))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,r){for(var i={},o=0;o<e.length;o++){var n=e[o],s=t.call(r,n,o,e);goog.isDef(s)&&(i[s]||(i[s]=[])).push(n)}return i},goog.array.toObject=function(e,t,r){var i={};return goog.array.forEach(e,(function(o,n){i[t.call(r,o,n,e)]=o})),i},goog.array.range=function(e,t,r){var i=[],o=0,n=e;if(void 0!==t&&(o=e,n=t),0>(r=r||1)*(n-o))return[];if(0<r)for(e=o;e<n;e+=r)i.push(e);else for(e=o;e>n;e+=r)i.push(e);return i},goog.array.repeat=function(e,t){for(var r=[],i=0;i<t;i++)r[i]=e;return r},goog.array.flatten=function(e){for(var t=[],r=0;r<arguments.length;r++){var i=arguments[r];if(goog.isArray(i))for(var o=0;o<i.length;o+=8192){var n=goog.array.slice(i,o,o+8192);n=goog.array.flatten.apply(null,n);for(var s=0;s<n.length;s++)t.push(n[s])}else t.push(i)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,r){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=r&&r<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,r,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],r=arguments[0].length,i=1;i<arguments.length;i++)arguments[i].length<r&&(r=arguments[i].length);for(i=0;i<r;i++){for(var o=[],n=0;n<arguments.length;n++)o.push(arguments[n][i]);t.push(o)}return t},goog.array.shuffle=function(e,t){t=t||Math.random;for(var r=e.length-1;0<r;r--){var i=Math.floor(t()*(r+1)),o=e[r];e[r]=e[i],e[i]=o}},goog.array.copyByIndex=function(e,t){var r=[];return goog.array.forEach(t,(function(t){r.push(e[t])})),r},goog.array.concatMap=function(e,t,r){return goog.array.concat.apply([],goog.array.map(e,t,r))},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var t=[],r=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);255<o&&(t[r++]=255&o,o>>=8),t[r++]=o}return t},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=8192){var i=goog.array.slice(e,r,r+8192);t+=String.fromCharCode.apply(null,i)}return t},goog.crypt.byteArrayToHex=function(e,t){return goog.array.map(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join(t||"")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(0==e.length%2,"Key string length must be multiple of 2");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],r=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);128>o?t[r++]=o:(2048>o?t[r++]=o>>6|192:(55296==(64512&o)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),t[r++]=o>>18|240,t[r++]=o>>12&63|128):t[r++]=o>>12|224,t[r++]=o>>6&63|128),t[r++]=63&o|128)}return t},goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],r=0,i=0;r<e.length;){var o=e[r++];if(128>o)t[i++]=String.fromCharCode(o);else if(191<o&&224>o){var n=e[r++];t[i++]=String.fromCharCode((31&o)<<6|63&n)}else if(239<o&&365>o){n=e[r++];var s=e[r++];o=((7&o)<<18|(63&n)<<12|(63&s)<<6|63&e[r++])-65536,t[i++]=String.fromCharCode(55296+(o>>10)),t[i++]=String.fromCharCode(56320+(1023&o))}else n=e[r++],s=e[r++],t[i++]=String.fromCharCode((15&o)<<12|(63&n)<<6|63&s)}return t.join("")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var r=[],i=0;i<e.length;i++)r.push(e[i]^t[i]);return r},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.internal.endsWith=function(e,t){var r=e.length-t.length;return 0<=r&&e.indexOf(t,r)==r},goog.string.internal.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.internal.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,t){return(e=String(e).toLowerCase())<(t=String(t).toLowerCase())?-1:e==t?0:1},goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.internal.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())},goog.string.internal.compareVersions=function(e,t){var r=0;e=goog.string.internal.trim(String(e)).split("."),t=goog.string.internal.trim(String(t)).split(".");for(var i=Math.max(e.length,t.length),o=0;0==r&&o<i;o++){var n=e[o]||"",s=t[o]||"";do{if(n=/(\d*)(\D*)(.*)/.exec(n)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==n[0].length&&0==s[0].length)break;r=0==n[1].length?0:parseInt(n[1],10);var a=0==s[1].length?0:parseInt(s[1],10);r=goog.string.internal.compareElements_(r,a)||goog.string.internal.compareElements_(0==n[2].length,0==s[2].length)||goog.string.internal.compareElements_(n[2],s[2]),n=n[3],s=s[3]}while(0==r)}return r},goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.string.TypedString=function(){},goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))&&("adlm"==goog.LOCALE.substring(3,7).toLowerCase()||"arab"==goog.LOCALE.substring(3,7).toLowerCase()||"hebr"==goog.LOCALE.substring(3,7).toLowerCase()||"nkoo"==goog.LOCALE.substring(3,7).toLowerCase()||"rohg"==goog.LOCALE.substring(3,7).toLowerCase()||"thaa"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))&&("adlm"==goog.LOCALE.substring(4,8).toLowerCase()||"arab"==goog.LOCALE.substring(4,8).toLowerCase()||"hebr"==goog.LOCALE.substring(4,8).toLowerCase()||"nkoo"==goog.LOCALE.substring(4,8).toLowerCase()||"rohg"==goog.LOCALE.substring(4,8).toLowerCase()||"thaa"==goog.LOCALE.substring(4,8).toLowerCase()),goog.i18n.bidi.Format={LRE:"",RLE:"",PDF:"",LRM:"",RLM:""},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z------\ud801\ud804-\ud839\ud83c-\udbff---",goog.i18n.bidi.rtlChars_="--\ud802-\ud803\ud83a-\ud83b--",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){return t=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){var r=0,i=0,o=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<e.length;t++){var n=e[t];goog.i18n.bidi.startsWithRtl(n)?(r++,i++):goog.i18n.bidi.isRequiredLtrRe_.test(n)?o=!0:goog.i18n.bidi.hasAnyLtr(n)?i++:goog.i18n.bidi.hasNumeralsRe_.test(n)&&(o=!0)}return 0==i?o?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:r/i>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var r=goog.html.TrustedResourceUrl.unwrap(this),i=(r=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(r))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",r[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",i,t))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(e){return e.trustedURL_?e.trustedURL_:goog.html.TrustedResourceUrl.unwrap(e)},goog.html.TrustedResourceUrl.format=function(e,t){var r=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return e=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,(function(e,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw Error('Found marker, "'+i+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[i])instanceof goog.string.Const?goog.string.Const.unwrap(e):encodeURIComponent(String(e))})),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,t,r,i){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(r,i)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",r=0;r<e.length;r++)t+=goog.string.Const.unwrap(e[r]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.TrustedResourceUrl;return t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e):e,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(t.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e)),t},goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,r){if(null==r)return t;if(goog.isString(r))return r?e+encodeURIComponent(r):"";for(var i in r){var o=r[i];o=goog.isArray(o)?o:[o];for(var n=0;n<o.length;n++){var s=o[n];null!=s&&(t||(t=e),t+=(t.length>e.length?"&":"")+encodeURIComponent(i)+"="+encodeURIComponent(String(s)))}}return t},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return goog.html.SafeUrl.unwrapTrustedURL(e).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var t=(e=e.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf("#");if(0<t&&(e=e.substring(0,t)),!(t=e.match(/[?&]body=/gi)))return!0;if(1<t.length)return!1;if(!(e=e.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(e)}catch(e){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,r){return(e=e.exec(t))?(e=e[1],-1==(r instanceof goog.string.Const?[goog.string.Const.unwrap(r)]:r.map((function(e){return goog.string.Const.unwrap(e)}))).indexOf(e)&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)):t=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),t&&/^data:/i.test(e)&&(t=goog.html.SafeUrl.fromDataUrl(e)).getTypedStringValue()==e?t:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.SafeUrl;return t.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e):e,t},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.internal.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var t,r="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var i=e[t];null!=i&&(r+=t+":"+(i=goog.isArray(i)?goog.array.map(i,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(i))+";")}return r?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(r):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),/[{;}]/.test(e))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[e]);return e},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var t=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(t)?goog.html.SafeStyle.COMMENT_RE_.test(e)?(goog.asserts.fail("String value disallows comments, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.hasBalancedSquareBrackets_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,r=!0,i=0;i<e.length;i++){var o=e.charAt(i);"'"==o&&r?t=!t:'"'==o&&t&&(r=!r)}return t&&r},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var t=!0,r=/^[-_a-zA-Z0-9]$/,i=0;i<e.length;i++){var o=e.charAt(i);if("]"==o){if(t)return!1;t=!0}else if("["==o){if(!t)return!1;t=!1}else if(!t&&!r.test(o))return!1}return t},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,(function(e,t,r,i){var o="";return r=r.replace(/^(['"])(.*)\1$/,(function(e,t,r){return o=t,r})),e=goog.html.SafeUrl.sanitize(r).getTypedStringValue(),t+o+e+o+i}))},goog.html.SafeStyle.concat=function(e){var t="",r=function(e){goog.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyle.unwrap(e)};return goog.array.forEach(arguments,r),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e,t){for(var r=[],i=1;i<arguments.length;i++)r.push(goog.html.SafeScript.stringify_(arguments[i]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+r.join(", ")+");")},goog.html.SafeScript.fromJson=function(e){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return goog.html.SafeScript.unwrapTrustedScript(e).toString()},goog.html.SafeScript.unwrapTrustedScript=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e):e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},goog.object.forEach=function(e,t,r){for(var i in e)t.call(r,e[i],i,e)},goog.object.filter=function(e,t,r){var i,o={};for(i in e)t.call(r,e[i],i,e)&&(o[i]=e[i]);return o},goog.object.map=function(e,t,r){var i,o={};for(i in e)o[i]=t.call(r,e[i],i,e);return o},goog.object.some=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e))return!0;return!1},goog.object.every=function(e,t,r){for(var i in e)if(!t.call(r,e[i],i,e))return!1;return!0},goog.object.getCount=function(e){var t,r=0;for(t in e)r++;return r},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,r=[],i=0;for(t in e)r[i++]=e[t];return r},goog.object.getKeys=function(e){var t,r=[],i=0;for(t in e)r[i++]=t;return r},goog.object.getValueByKeys=function(e,t){var r=goog.isArrayLike(t),i=r?t:arguments;for(r=r?0:1;r<i.length;r++){if(null==e)return;e=e[i[r]]}return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var r in e)if(e[r]==t)return!0;return!1},goog.object.findKey=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e))return i},goog.object.findValue=function(e,t,r){return(t=goog.object.findKey(e,t,r))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var r;return(r=t in e)&&delete e[t],r},goog.object.add=function(e,t,r){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,r)},goog.object.get=function(e,t,r){return null!==e&&t in e?e[t]:r},goog.object.set=function(e,t,r){e[t]=r},goog.object.setIfUndefined=function(e,t,r){return t in e?e[t]:e[t]=r},goog.object.setWithReturnValueIfNotSet=function(e,t,r){return t in e?e[t]:(r=r(),e[t]=r)},goog.object.equals=function(e,t){for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(var i in t)if(!(i in e))return!1;return!0},goog.object.clone=function(e){var t,r={};for(t in e)r[t]=e[t];return r},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(goog.isFunction(e.clone))return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.object.unsafeClone(e[r]);return t}return e},goog.object.transpose=function(e){var t,r={};for(t in e)r[e[t]]=t;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var r,i,o=1;o<arguments.length;o++){for(r in i=arguments[o])e[r]=i[r];for(var n=0;n<goog.object.PROTOTYPE_FIELDS_.length;n++)r=goog.object.PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var r={},i=0;i<t;i+=2)r[arguments[i]]=arguments[i+1];return r},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},i=0;i<t;i++)r[arguments[i]]=!0;return r},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,r){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var i={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||r);){for(var o=Object.getOwnPropertyNames(e),n=0;n<o.length;n++)i[o[n]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(i)},goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,t){if(goog.string.internal.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var r=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(r))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(r))throw Error("() and [] in selector must be balanced, got: "+e);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),e=e+"{"+goog.html.SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},r=[],i=0;i<e.length;i++){var o=e[i];if(t[o])r.push(t[o]);else if(goog.object.contains(t,o)&&r.pop()!=o)return!1}return 0==r.length},goog.html.SafeStyleSheet.concat=function(e){var t="",r=function(e){goog.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyleSheet.unwrap(e)};return goog.array.forEach(arguments,r),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,r=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,i=[];t=r.exec(e);)i.push([t[1],t[2],t[3]||void 0]);return i},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,i),r[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var r={};goog.array.forEach(t,(function(e){r[e[0]]=e[1]}));var i=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?e(["Edg"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var r=/MSIE +([\d\.]+)/.exec(e);if(r&&r[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==r[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=r[1];return t},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return goog.html.SafeHtml.unwrapTrustedHTML(e).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t="object"==typeof e,r=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(r=e.getDirection()),e=t&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e),r)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,t,r){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,r)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(e,t,r,i){e&&goog.html.TrustedResourceUrl.unwrap(e);var o={};return o.src=e||null,o.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(o,{sandbox:""},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,i)},goog.html.SafeHtml.createSandboxIframe=function(e,t,r,i){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var o={};return o.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,o.srcdoc=t||null,o.sandbox="",e=goog.html.SafeHtml.combineAttributes(o,{},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,i)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)},goog.html.SafeHtml.createScript=function(e,t){for(var r in t){var i=r.toLowerCase();if("language"==i||"src"==i||"text"==i||"type"==i)throw Error('Cannot set "'+i+'" attribute')}for(r="",e=goog.array.concat(e),i=0;i<e.length;i++)r+=goog.html.SafeScript.unwrap(e[i]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,e)},goog.html.SafeHtml.createStyle=function(e,t){t=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t);var r="";e=goog.array.concat(e);for(var i=0;i<e.length;i++)r+=goog.html.SafeStyleSheet.unwrap(e[i]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,e)},goog.html.SafeHtml.createMetaRefresh=function(e,t){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+e})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,r){if(r instanceof goog.string.Const)r=goog.string.Const.unwrap(r);else if("style"==t.toLowerCase())r=goog.html.SafeHtml.getStyleValue_(r);else{if(/^on/i.test(t))throw Error('Attribute "'+t+'" requires goog.string.Const value, "'+r+'" given.');if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(r instanceof goog.html.TrustedResourceUrl)r=goog.html.TrustedResourceUrl.unwrap(r);else if(r instanceof goog.html.SafeUrl)r=goog.html.SafeUrl.unwrap(r);else{if(!goog.isString(r))throw Error('Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+r+'" given.');r=goog.html.SafeUrl.sanitize(r).getTypedStringValue()}}return r.implementsGoogStringTypedString&&(r=r.getTypedStringValue()),goog.asserts.assert(goog.isString(r)||goog.isNumber(r),"String or number value expected, got "+typeof r+" with value: "+r),t+'="'+goog.string.internal.htmlEscape(String(r))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,r,i){return(t=goog.html.SafeHtml.create(t,r,i)).dir_=e,t},goog.html.SafeHtml.join=function(e,t){var r=(e=goog.html.SafeHtml.htmlEscape(e)).getDirection(),i=[],o=function(e){goog.isArray(e)?goog.array.forEach(e,o):(e=goog.html.SafeHtml.htmlEscape(e),i.push(goog.html.SafeHtml.unwrap(e)),e=e.getDirection(),r==goog.i18n.bidi.Dir.NEUTRAL?r=e:e!=goog.i18n.bidi.Dir.NEUTRAL&&r!=e&&(r=null))};return goog.array.forEach(t,o),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i.join(goog.html.SafeHtml.unwrap(e)),r)},goog.html.SafeHtml.concat=function(e){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(e,t){var r=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return r.dir_=e,r},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e):e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,r){var i=null,o="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t);return goog.isDefAndNotNull(r)?goog.isArray(r)||(r=[r]):r=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!r.length,"Void tag <"+e+"> does not allow content."),o+=">"):(i=goog.html.SafeHtml.concat(r),o+=">"+goog.html.SafeHtml.unwrap(i)+"</"+e+">",i=i.getDirection()),(e=t&&t.dir)&&(i=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,i)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var r="";if(t)for(var i in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(i))throw Error('Invalid attribute name "'+i+'".');var o=t[i];goog.isDefAndNotNull(o)&&(r+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,i,o))}return r},goog.html.SafeHtml.combineAttributes=function(e,t,r){var i,o={};for(i in e)goog.asserts.assert(i.toLowerCase()==i,"Must be lower case"),o[i]=e[i];for(i in t)goog.asserts.assert(i.toLowerCase()==i,"Must be lower case"),o[i]=t[i];for(i in r){var n=i.toLowerCase();if(n in e)throw Error('Cannot override "'+n+'" attribute, got "'+i+'" with value "'+r[i]+'"');n in t&&delete o[n],o[i]=r[i]}return o},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,r){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,r||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=goog.dom.asserts.getWindow_(e);r&&void 0!==r[t]&&(e&&(e instanceof r[t]||!(e instanceof r.Location||e instanceof r.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(e)))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){if(!goog.isObject(e))return void 0===e?"undefined":null===e?"null":typeof e;try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,r=t&&(t.defaultView||t.parentWindow);if((r=r||goog.global).Element&&r.Location)return r}catch(e){}return null},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.push.apply(t,r),e.apply(this,t)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(r){return t?e==r:e===r}},goog.functions.compose=function(e,t){var r=arguments,i=r.length;return function(){var e;i&&(e=r[i-1].apply(this,arguments));for(var t=i-2;0<=t;t--)e=r[t].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,r=t.length;return function(){for(var e,i=0;i<r;i++)e=t[i].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var r=function(){};return r.prototype=e.prototype,r=new r,e.apply(r,Array.prototype.slice.call(arguments,1)),r},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,r=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(r||(t=e(),r=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(e,t,r){var i=0;return function(o){goog.global.clearTimeout(i);var n=arguments;i=goog.global.setTimeout((function(){e.apply(r,n)}),t)}},goog.functions.throttle=function(e,t,r){var i=0,o=!1,n=[],s=function(){i=0,o&&(o=!1,a())},a=function(){i=goog.global.setTimeout(s,t),e.apply(r,n)};return function(e){n=arguments,i?o=!0:a()}},goog.functions.rateLimit=function(e,t,r){var i=0,o=function(){i=0};return function(n){i||(i=goog.global.setTimeout(o,t),e.apply(r,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,r){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrapTrustedHTML(r))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue((function(){if(goog.DEBUG&&"undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!(goog.DEBUG&&!e.firstChild)&&(t=e.firstChild.firstChild,e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!t.parentElement)})),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[r])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setFormElementAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setButtonFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setInputFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setImageSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLImageElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:image\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setAudioSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLAudioElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:audio\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setVideoSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLVideoElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:video\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,r){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=r,goog.string.internal.caseInsensitiveContains(r,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(t):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(t))},goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrapTrustedScript(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.assign(goog.html.SafeUrl.unwrapTrustedURL(t))},goog.dom.safe.replaceLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.replace(goog.html.SafeUrl.unwrapTrustedURL(t))},goog.dom.safe.openInWindow=function(e,t,r,i,o){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),(t||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(e),r?goog.string.Const.unwrap(r):"",i,o)},goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,"text/html")},goog.dom.safe.parseFromString=function(e,t,r){return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(t),r)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(e);return(e=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),t)),e},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:""},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,t){for(var r=e.split("%s"),i="",o=Array.prototype.slice.call(arguments,1);o.length&&1<r.length;)i+=r.shift()+o.shift();return i+r.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,t,r){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var i=e.toLowerCase().match(r),o=t.toLowerCase().match(r),n=Math.min(i.length,o.length),s=0;s<n;s++){r=i[s];var a=o[s];if(r!=a)return e=parseInt(r,10),!isNaN(e)&&(t=parseInt(a,10),!isNaN(t)&&e-t)?e-t:r<a?-1:1}return i.length!=o.length?i.length-o.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},i=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,(function(e,t){var o=r[e];return o||("#"==t.charAt(0)&&(t=Number("0"+t.substr(1)),isNaN(t)||(o=String.fromCharCode(t))),o||(goog.dom.safe.setInnerHtml(i,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),e+" ")),o=i.firstChild.nodeValue.slice(0,-1)),r[e]=o)}))},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,(function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=t.charAt(0)||(t=Number("0"+t.substr(1)),isNaN(t))?e:String.fromCharCode(t)}}))},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var r=t.length,i=0;i<r;i++){var o=1==r?t:t.charAt(i);if(e.charAt(0)==o&&e.charAt(e.length-1)==o)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,r){return r&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),r&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,r,i){if(r&&(e=goog.string.unescapeEntities(e)),i&&e.length>t){i>t&&(i=t);var o=e.length-i;e=e.substring(0,t-i)+"..."+e.substring(o)}else e.length>t&&(i=Math.floor(t/2),o=e.length-i,e=e.substring(0,i+t%2)+"..."+e.substring(o));return r&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);t[r+1]=goog.string.specialEscapeChars_[i]||(31<o&&127>o?i:goog.string.escapeChar(i))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=goog.string.escapeChar(e.charAt(r));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var r=e;else 256>t?(r="\\x",(16>t||256<t)&&(r+="0")):(r="\\u",4096>t&&(r+="0")),r+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=r},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,r){var i=e;return 0<=t&&t<e.length&&0<r&&(i=e.substr(0,t)+e.substr(t+r,e.length-t-r)),i},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")},goog.string.replaceAll=function(e,t,r){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,r){return-1==(r=(e=goog.isDef(r)?e.toFixed(r):String(e)).indexOf("."))&&(r=e.length),goog.string.repeat("0",Math.max(0,t-r))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,(function(e,t){return t.toUpperCase()}))},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){return t=goog.isString(t)?goog.string.regExpEscape(t):"\\s",e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),(function(e,t,r){return t+r.toUpperCase()}))},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,r){e=e.split(t);for(var i=[];0<r&&e.length;)i.push(e.shift()),r--;return e.length&&i.push(e.join(t)),i},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var r=-1,i=0;i<t.length;i++)if(""!=t[i]){var o=e.lastIndexOf(t[i]);o>r&&(r=o)}return-1==r?e:e.slice(r+1)},goog.string.editDistance=function(e,t){var r=[],i=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var o=0;o<t.length+1;o++)r[o]=o;for(o=0;o<e.length;o++){i[0]=o+1;for(var n=0;n<t.length;n++)i[n+1]=Math.min(i[n]+1,r[n+1]+1,r[n]+Number(e[o]!=t[n]));for(n=0;n<r.length;n++)r[n]=i[n]}return i[t.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?t=(e=(t=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?t=(e=(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?t=(e=(t=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?t=(e=(t=/(?:KaiOS)\/(\S+)/i).exec(e))&&e[1]:goog.labs.userAgent.platform.isAndroid()?t=(e=(t=/Android\s+([^\);]+)(\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(t=(e=(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.reflect.cache=function(e,t,r,i){return i=i?i(t):t,Object.prototype.hasOwnProperty.call(e,i)?e[i]:e[i]=r(t)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t,r=goog.labs.userAgent.engine.getEngineTuple_(e);if(r)return"Gecko"==r[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):r[1];if((e=e[0])&&(t=e[2])&&(t=/Trident\/([^\s;]+)/.exec(t)))return t[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var r=e[t];if("Edge"==r[0])return r}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,(function(e){return t==e[0]})))&&e[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko();goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&(null!=(t=goog.userAgent.getDocumentMode_())&&t>parseFloat(e))?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,(function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)}))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(e){return goog.string.contains(goog.crypt.base64.paddingChars_,e)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),void 0===t&&(t=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),t=goog.crypt.base64.byteToCharMaps_[t];for(var r=[],i=0;i<e.length;i+=3){var o=e[i],n=i+1<e.length,s=n?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=o>>2;o=(3&o)<<4|s>>4,s=(15&s)<<2|l>>6,l&=63,a||(l=64,n||(s=64)),r.push(t[c],t[o],t[s]||"",t[l]||"")}return r.join("")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var r="";return goog.crypt.base64.decodeStringInternal_(e,(function(e){r+=String.fromCharCode(e)})),r},goog.crypt.base64.decodeStringToByteArray=function(e,t){var r=[];return goog.crypt.base64.decodeStringInternal_(e,(function(e){r.push(e)})),r},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=e.length,r=3*t/4;r%3?r=Math.floor(r):goog.crypt.base64.isPadding_(e[t-1])&&(r=goog.crypt.base64.isPadding_(e[t-2])?r-2:r-1);var i=new Uint8Array(r),o=0;return goog.crypt.base64.decodeStringInternal_(e,(function(e){i[o++]=e})),i.subarray(0,o)},goog.crypt.base64.decodeStringInternal_=function(e,t){function r(t){for(;i<e.length;){var r=e.charAt(i++),o=goog.crypt.base64.charToByteMap_[r];if(null!=o)return o;if(!goog.string.isEmptyOrWhitespace(r))throw Error("Unknown base64 encoding at char: "+r)}return t}goog.crypt.base64.init_();for(var i=0;;){var o=r(-1),n=r(0),s=r(64),a=r(64);if(64===a&&-1===o)break;t(o<<2|n>>4),64!=s&&(t(n<<4&240|s>>2),64!=a&&t(s<<6&192|a))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var i=e.concat(t[r].split(""));goog.crypt.base64.byteToCharMaps_[r]=i;for(var o=0;o<i.length;o++){var n=i[o],s=goog.crypt.base64.charToByteMap_[n];void 0===s?goog.crypt.base64.charToByteMap_[n]=o:goog.asserts.assert(s===o)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var t=e>>>0;e=Math.floor((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var t=0>e,r=(e=Math.abs(e))>>>0;e=Math.floor((e-r)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,4294967295<(r=1+(~r>>>0))&&(r=0,4294967295<++e&&(e=0))),jspb.utils.split64Low=r,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;t&&(0==e?0==r?r=e=4294967295:(r--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=r},jspb.utils.splitFloat32=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|2139095040)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|e)>>>0;else{var r=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-r),e=8388607&Math.round(e*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|r+127<<23|e)>>>0}},jspb.utils.splitFloat64=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var r=e/Math.pow(2,-1074);e=r/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=r>>>0}else{var i=Math.floor(Math.log(e)/Math.LN2);1024==i&&(i=1023),e=(r=e*Math.pow(2,-i))*jspb.BinaryConstants.TWO_TO_20&1048575,r=r*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|i+1023<<20|e)>>>0,jspb.utils.split64Low=r}},jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),i=e.charCodeAt(2),o=e.charCodeAt(3),n=e.charCodeAt(4),s=e.charCodeAt(5),a=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(r<<8)+(i<<16)+(o<<24)>>>0,jspb.utils.split64High=n+(s<<8)+(a<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+(e>>>0)},jspb.utils.joinInt64=function(e,t){var r=2147483648&t;return r&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=jspb.utils.joinUint64(e,t),r?-e:e},jspb.utils.toZigzag64=function(e,t,r){var i=t>>31;return r(e<<1^i,(t<<1|e>>>31)^i)},jspb.utils.joinZigzag64=function(e,t){return jspb.utils.fromZigzag64(e,t,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(e,t,r){var i=-(1&e);return r((e>>>1|t<<31)^i,t>>>1^i)},jspb.utils.joinFloat32=function(e,t){t=2*(e>>31)+1;var r=e>>>23&255;return e&=8388607,255==r?e?NaN:1/0*t:0==r?t*Math.pow(2,-149)*e:t*Math.pow(2,r-150)*(e+Math.pow(2,23))},jspb.utils.joinFloat64=function(e,t){var r=2*(t>>31)+1,i=t>>>20&2047;return e=jspb.BinaryConstants.TWO_TO_32*(1048575&t)+e,2047==i?e?NaN:1/0*r:0==i?r*Math.pow(2,-1074)*e:r*Math.pow(2,i-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(e,t){function r(e,t){return e=e?String(e):"",t?"0000000".slice(e.length)+e:e}if(2097151>=t)return""+(jspb.BinaryConstants.TWO_TO_32*t+e);var i=(e>>>24|t<<8)>>>0&16777215;return e=(16777215&e)+6777216*i+6710656*(t=t>>16&65535),i+=8147497*t,t*=2,1e7<=e&&(i+=Math.floor(e/1e7),e%=1e7),1e7<=i&&(t+=Math.floor(i/1e7),i%=1e7),r(t,0)+r(i,t)+r(e,1)},jspb.utils.joinSignedDecimalString=function(e,t){var r=2147483648&t;return r&&(t=~t+(0==(e=1+~e>>>0)?1:0)>>>0),e=jspb.utils.joinUnsignedDecimalString(e,t),r?"-"+e:e},jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(e,r):jspb.utils.joinUnsignedDecimalString(e,r)},jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var r=Array(e.length),i=0;i<e.length;i++)r[i]=jspb.utils.hash64ToDecimalString(e[i],t);return r},jspb.utils.decimalStringToHash64=function(e){function t(e,t){for(var r=0;8>r&&(1!==e||0<t);r++)t=e*i[r]+t,i[r]=255&t,t>>>=8}goog.asserts.assert(0<e.length);var r=!1;"-"===e[0]&&(r=!0,e=e.slice(1));for(var i=[0,0,0,0,0,0,0,0],o=0;o<e.length;o++)t(10,e.charCodeAt(o)-jspb.utils.ZERO_CHAR_CODE_);return r&&(function(){for(var e=0;8>e;e++)i[e]=255&~i[e]}(),t(1,1)),goog.crypt.byteArrayToString(i)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.toHexDigit_=function(e){return String.fromCharCode(10>e?jspb.utils.ZERO_CHAR_CODE_+e:jspb.utils.A_CHAR_CODE_-10+e)},jspb.utils.fromHexCharCode_=function(e){return e>=jspb.utils.A_CHAR_CODE_?e-jspb.utils.A_CHAR_CODE_+10:e-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]="0",t[1]="x";for(var r=0;8>r;r++){var i=e.charCodeAt(7-r);t[2*r+2]=jspb.utils.toHexDigit_(i>>4),t[2*r+3]=jspb.utils.toHexDigit_(15&i)}return t.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),goog.asserts.assert(18==e.length),goog.asserts.assert("0"==e[0]),goog.asserts.assert("x"==e[1]);for(var t="",r=0;8>r;r++){var i=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+2)),o=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+3));t=String.fromCharCode(16*i+o)+t}return t},jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinInt64(e,r):jspb.utils.joinUint64(e,r)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,t,r){for(var i=0,o=t;o<r;o++)i+=e[o]>>7;return r-t-i},jspb.utils.countVarintFields=function(e,t,r,i){var o=0;if(128>(i=8*i+jspb.BinaryConstants.WireType.VARINT))for(;t<r&&e[t++]==i;)for(o++;;){var n=e[t++];if(0==(128&n))break}else for(;t<r;){for(n=i;128<n;){if(e[t]!=(127&n|128))return o;t++,n>>=7}if(e[t++]!=n)break;for(o++;0!=(128&(n=e[t++])););}return o},jspb.utils.countFixedFields_=function(e,t,r,i,o){var n=0;if(128>i)for(;t<r&&e[t++]==i;)n++,t+=o;else for(;t<r;){for(var s=i;128<s;){if(e[t++]!=(127&s|128))return n;s>>=7}if(e[t++]!=s)break;n++,t+=o}return n},jspb.utils.countFixed32Fields=function(e,t,r,i){return jspb.utils.countFixedFields_(e,t,r,8*i+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,t,r,i){return jspb.utils.countFixedFields_(e,t,r,8*i+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,t,r,i){var o=0;for(i=8*i+jspb.BinaryConstants.WireType.DELIMITED;t<r;){for(var n=i;128<n;){if(e[t++]!=(127&n|128))return o;n>>=7}if(e[t++]!=n)break;o++;for(var s=0,a=1;s+=(127&(n=e[t++]))*a,a*=128,0!=(128&n););t+=s}return o},jspb.utils.debugBytesToTextFormat=function(e){var t='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var r=0;r<e.length;r++)t+="\\x",16>e[r]&&(t+="0"),t+=e[r].toString(16)}return t+'"'},jspb.utils.debugScalarToTextFormat=function(e){return goog.isString(e)?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++){var i=e.charCodeAt(r);if(255<i)throw Error("Conversion error: string contains codepoint outside of byte range");t[r]=i}return t},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||"undefined"!=typeof Buffer&&e.constructor===Buffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(e,t,r){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,r)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,t,r){if(jspb.BinaryDecoder.instanceCache_.length){var i=jspb.BinaryDecoder.instanceCache_.pop();return e&&i.setBlock(e,t,r),i}return new jspb.BinaryDecoder(e,t,r)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,t,r){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=goog.isDef(t)?t:0,this.end_=goog.isDef(r)?this.start_+r:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var t=128,r=0,i=0,o=0;4>o&&128<=t;o++)r|=(127&(t=this.bytes_[this.cursor_++]))<<7*o;if(128<=t&&(r|=(127&(t=this.bytes_[this.cursor_++]))<<28,i|=(127&t)>>4),128<=t)for(o=0;5>o&&128<=t;o++)i|=(127&(t=this.bytes_[this.cursor_++]))<<7*o+3;if(128>t)return e(r>>>0,i>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryDecoder.prototype.readSplitFixed64=function(e){var t=this.bytes_,r=this.cursor_;this.cursor_+=8;for(var i=0,o=0,n=r+7;n>=r;n--)i=i<<8|t[n],o=o<<8|t[n+4];return e(i,o)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,t=e[this.cursor_+0],r=127&t;return 128>t?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+1]))<<7,128>t?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+2]))<<14,128>t?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+3]))<<21,128>t?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(15&(t=e[this.cursor_+4]))<<28,128>t?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),r>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),r)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],i=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8|r<<16|i<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],i=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8|r<<16|i<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,r=this.cursor_;e=r+e;for(var i=[],o="";r<e;){var n=t[r++];if(128>n)i.push(n);else{if(192>n)continue;if(224>n){var s=t[r++];i.push((31&n)<<6|63&s)}else if(240>n){s=t[r++];var a=t[r++];i.push((15&n)<<12|(63&s)<<6|63&a)}else if(248>n){n=(7&n)<<18|(63&(s=t[r++]))<<12|(63&(a=t[r++]))<<6|63&t[r++],n-=65536,i.push(55296+(n>>10&1023),56320+(1023&n))}}8192<=i.length&&(o+=String.fromCharCode.apply(null,i),i.length=0)}return o+=goog.crypt.byteArrayToString(i),this.cursor_=r,o},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,r=e[t+0],i=e[t+1],o=e[t+2],n=e[t+3],s=e[t+4],a=e[t+5],l=e[t+6];return e=e[t+7],this.cursor_+=8,String.fromCharCode(r,i,o,n,s,a,l,e)},jspb.BinaryReader=function(e,t,r){this.decoder_=jspb.BinaryDecoder.alloc(e,t,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,t,r){if(jspb.BinaryReader.instanceCache_.length){var i=jspb.BinaryReader.instanceCache_.pop();return e&&i.decoder_.setBlock(e,t,r),i}return new jspb.BinaryReader(e,t,r)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,t,r){this.decoder_.setBlock(e,t,r),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e>>>3;return(e&=7)!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var e=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,t){goog.isNull(this.readCallbacks_)&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t},jspb.BinaryReader.prototype.runReadCallback=function(e){return goog.asserts.assert(!goog.isNull(this.readCallbacks_)),e=this.readCallbacks_[e],goog.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,t){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.getEnd(),i=this.decoder_.readUnsignedVarint32();i=this.decoder_.getCursor()+i,this.decoder_.setEnd(i),t(e,this),this.decoder_.setCursor(i),this.decoder_.setEnd(r)},jspb.BinaryReader.prototype.readGroup=function(e,t,r){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==e),r(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),r=t+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e),this.decoder_.setCursor(r),e},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)},jspb.BinaryReader.prototype.readPackedField_=function(e){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();t=this.decoder_.getCursor()+t;for(var r=[];this.decoder_.getCursor()<t;)r.push(e.call(this.decoder_));return r},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],r=t[0];this.map_[r.toString()]=new jspb.Map.Entry_(r,t[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,t=this.map_;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e].valueWrapper;r&&r.toArray()}}}else{for(this.arr_.length=0,(t=this.stringKeys_()).sort(),e=0;e<t.length;e++){var i=this.map_[t[e]];(r=i.valueWrapper)&&r.toArray(),this.arr_.push([i.key,i.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(e,t){for(var r=this.toArray(),i=[],o=0;o<r.length;o++){var n=this.map_[r[o][0].toString()];this.wrapEntry_(n);var s=n.valueWrapper;s?(goog.asserts.assert(t),i.push([n.key,t(e,s)])):i.push([n.key,n.value])}return i},jspb.Map.fromObject=function(e,t,r){t=new jspb.Map([],t);for(var i=0;i<e.length;i++){var o=e[i][0],n=r(e[i][1]);t.set(o,n)}return t},jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t},jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var i=this.map_[t[r]];e.push([i.key,i.value])}return e},jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var i=this.map_[t[r]];e.push([i.key,this.wrapEntry_(i)])}return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.map_[t[r]].key);return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.wrapEntry_(this.map_[t[r]]));return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.forEach=function(e,t){var r=this.stringKeys_();r.sort();for(var i=0;i<r.length;i++){var o=this.map_[r[i]];e.call(t,this.wrapEntry_(o),o.key,this)}},jspb.Map.prototype.set=function(e,t){var r=new jspb.Map.Entry_(e);return this.valueCtor_?(r.valueWrapper=t,r.value=t.toArray()):r.value=t,this.map_[e.toString()]=r,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},jspb.Map.prototype.has=function(e){return e.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(e,t,r,i,o){var n=this.stringKeys_();n.sort();for(var s=0;s<n.length;s++){var a=this.map_[n[s]];t.beginSubMessage(e),r.call(t,1,a.key),this.valueCtor_?i.call(t,2,this.wrapEntry_(a),o):i.call(t,2,a.value),t.endSubMessage()}},jspb.Map.deserializeBinary=function(e,t,r,i,o,n,s){for(;t.nextField()&&!t.isEndGroup();){var a=t.getFieldNumber();1==a?n=r.call(t):2==a&&(e.valueCtor_?(goog.asserts.assert(o),s||(s=new e.valueCtor_),i.call(t,s,o)):s=i.call(t))}goog.asserts.assert(null!=n),goog.asserts.assert(null!=s),e.set(n,s)},jspb.Map.prototype.stringKeys_=function(){var e,t=this.map_,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r},jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(e,t,r,i,o){this.fieldIndex=e,this.fieldName=t,this.ctor=r,this.toObjectFn=i,this.isRepeated=o},jspb.ExtensionFieldBinaryInfo=function(e,t,r,i,o,n){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=r,this.binaryMessageSerializeFn=i,this.binaryMessageDeserializeFn=o,this.isPacked=n},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(e,t){return t-e.arrayIndexOffset_},jspb.Message.initialize=function(e,t,r,i,o,n){if(e.wrappers_=null,t||(t=r?[r]:[]),e.messageId_=r?String(r):void 0,e.arrayIndexOffset_=0===r?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,i),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=o),o)for(t=0;t<o.length;t++)(r=o[t])<e.pivot_?(r=jspb.Message.getIndex_(e,r),e.array[r]=e.array[r]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[r]=e.extensionObject_[r]||jspb.Message.EMPTY_LIST_SENTINEL_);if(n&&n.length)for(t=0;t<n.length;t++)jspb.Message.computeOneofCase(e,n[t])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:goog.isArray(e)},jspb.Message.isExtensionObject_=function(e){return!(null===e||"object"!=typeof e||jspb.Message.isArray_(e)||jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(e,t){var r=e.array.length,i=-1;if(r&&(i=r-1,r=e.array[i],jspb.Message.isExtensionObject_(r)))return e.pivot_=jspb.Message.getFieldNumber_(e,i),void(e.extensionObject_=r);-1<t?(e.pivot_=Math.max(t,jspb.Message.getFieldNumber_(e,i+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})},jspb.Message.toObjectList=function(e,t,r){for(var i=[],o=0;o<e.length;o++)i[o]=t.call(e[o],r,e[o]);return i},jspb.Message.toObjectExtension=function(e,t,r,i,o){for(var n in r){var s=r[n],a=i.call(e,s);if(null!=a){for(var l in s.fieldName)if(s.fieldName.hasOwnProperty(l))break;t[l]=s.toObjectFn?s.isRepeated?jspb.Message.toObjectList(a,s.toObjectFn,o):s.toObjectFn(o,a):a}}},jspb.Message.serializeBinaryExtensions=function(e,t,r,i){for(var o in r){var n=r[o],s=n.fieldInfo;if(!n.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var a=i.call(e,s);if(null!=a)if(s.isMessageType()){if(!n.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");n.binaryWriterFn.call(t,s.fieldIndex,a,n.binaryMessageSerializeFn)}else n.binaryWriterFn.call(t,s.fieldIndex,a)}},jspb.Message.readBinaryExtension=function(e,t,r,i,o){var n=r[t.getFieldNumber()];if(n){if(r=n.fieldInfo,!n.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(r.isMessageType()){var s=new r.ctor;n.binaryReaderFn.call(t,s,n.binaryMessageDeserializeFn)}else s=n.binaryReaderFn.call(t);r.isRepeated&&!n.isPacked?(t=i.call(e,r))?t.push(s):o.call(e,r,[s]):o.call(e,r,s)}else t.skipField()},jspb.Message.getField=function(e,t){if(t<e.pivot_){t=jspb.Message.getIndex_(e,t);var r=e.array[t];return r===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[t]=[]:r}if(e.extensionObject_)return(r=e.extensionObject_[t])===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:r},jspb.Message.getRepeatedField=function(e,t){return jspb.Message.getField(e,t)},jspb.Message.getOptionalFloatingPointField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:+e},jspb.Message.getBooleanField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:!!e},jspb.Message.getRepeatedFloatingPointField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var i=0;i<r.length;i++)r[i]=+r[i];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.getRepeatedBooleanField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var i=0;i<r.length;i++)r[i]=!!r[i];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.bytesAsB64=function(e){return null==e||goog.isString(e)?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},jspb.Message.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:goog.isString(e)?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||goog.isString(e[0])?e:goog.array.map(e,jspb.Message.bytesAsB64)},jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,(function(e){goog.typeOf(e)!=t&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(e)+" expected "+t)}))}},jspb.Message.getFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getField(e,t))?r:e},jspb.Message.getBooleanFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getBooleanField(e,t))?r:e},jspb.Message.getFloatingPointFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getOptionalFloatingPointField(e,t))?r:e},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(e,t,r,i){if(e.wrappers_||(e.wrappers_={}),t in e.wrappers_)return e.wrappers_[t];var o=jspb.Message.getField(e,t);if(!o){if(r)return;o=[],jspb.Message.setField(e,t,o)}return e.wrappers_[t]=new jspb.Map(o,i)},jspb.Message.setField=function(e,t,r){return goog.asserts.assertInstanceof(e,jspb.Message),t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=r:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=r),e},jspb.Message.setProto3IntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3FloatField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3BooleanField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,!1)},jspb.Message.setProto3StringField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},jspb.Message.setProto3BytesField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},jspb.Message.setProto3EnumField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3StringIntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"0")},jspb.Message.setFieldIgnoringDefault_=function(e,t,r,i){return goog.asserts.assertInstanceof(e,jspb.Message),r!==i?jspb.Message.setField(e,t,r):e.array[jspb.Message.getIndex_(e,t)]=null,e},jspb.Message.addToRepeatedField=function(e,t,r,i){return goog.asserts.assertInstanceof(e,jspb.Message),t=jspb.Message.getRepeatedField(e,t),null!=i?t.splice(i,0,r):t.push(r),e},jspb.Message.setOneofField=function(e,t,r,i){return goog.asserts.assertInstanceof(e,jspb.Message),(r=jspb.Message.computeOneofCase(e,r))&&r!==t&&void 0!==i&&(e.wrappers_&&r in e.wrappers_&&(e.wrappers_[r]=void 0),jspb.Message.setField(e,r,void 0)),jspb.Message.setField(e,t,i)},jspb.Message.computeOneofCase=function(e,t){for(var r,i,o=0;o<t.length;o++){var n=t[o],s=jspb.Message.getField(e,n);null!=s&&(r=n,i=s,jspb.Message.setField(e,n,void 0))}return r?(jspb.Message.setField(e,r,i),r):0},jspb.Message.getWrapperField=function(e,t,r,i){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){var o=jspb.Message.getField(e,r);(i||o)&&(e.wrappers_[r]=new t(o))}return e.wrappers_[r]},jspb.Message.getRepeatedWrapperField=function(e,t,r){return jspb.Message.wrapRepeatedField_(e,t,r),(t=e.wrappers_[r])==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[r]=[]),t},jspb.Message.wrapRepeatedField_=function(e,t,r){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){for(var i=jspb.Message.getRepeatedField(e,r),o=[],n=0;n<i.length;n++)o[n]=new t(i[n]);e.wrappers_[r]=o}},jspb.Message.setWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var i=r?r.toArray():r;return e.wrappers_[t]=r,jspb.Message.setField(e,t,i)},jspb.Message.setOneofWrapperField=function(e,t,r,i){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var o=i?i.toArray():i;return e.wrappers_[t]=i,jspb.Message.setOneofField(e,t,r,o)},jspb.Message.setRepeatedWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={}),r=r||[];for(var i=[],o=0;o<r.length;o++)i[o]=r[o].toArray();return e.wrappers_[t]=r,jspb.Message.setField(e,t,i)},jspb.Message.addToRepeatedWrapperField=function(e,t,r,i,o){jspb.Message.wrapRepeatedField_(e,i,t);var n=e.wrappers_[t];return n||(n=e.wrappers_[t]=[]),r=r||new i,e=jspb.Message.getRepeatedField(e,t),null!=o?(n.splice(o,0,r),e.splice(o,0,r.toArray())):(n.push(r),e.push(r.toArray())),r},jspb.Message.toMap=function(e,t,r,i){for(var o={},n=0;n<e.length;n++)o[t.call(e[n])]=r?r.call(e[n],i,e[n]):e[n];return o},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(goog.isArray(t))for(var r=0;r<t.length;r++)t[r]&&t[r].toArray();else t&&t.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],(function(t){return new e.ctor(t)}))),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}},jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var r=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=goog.array.map(t,(function(e){return e.toArray()}))):this.extensionObject_[r]=t):e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=t?t.toArray():t):this.extensionObject_[r]=t,this},jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var r=e.toArray();t=t.toArray();var i=[],o=0,n=r.length>t.length?r.length:t.length;for(e.getJsPbMessageId()&&(i[0]=e.getJsPbMessageId(),o=1);o<n;o++)jspb.Message.compareFields(r[o],t[o])||(i[o]=t[o]);return new e.constructor(i)},jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())},jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var r,i={};for(r in e)i[r]=0;for(r in t)i[r]=0;for(r in i)if(!jspb.Message.compareFields(e[r],t[r]))return!1;return!0},jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t))return!!(goog.isNumber(e)&&isNaN(e)||goog.isNumber(t)&&isNaN(t))&&String(e)==String(t);if(e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}if(e.constructor===Array){var i=void 0,o=void 0,n=Math.max(e.length,t.length);for(r=0;r<n;r++){var s=e[r],a=t[r];if(s&&s.constructor==Object&&(goog.asserts.assert(void 0===i),goog.asserts.assert(r===e.length-1),i=s,s=void 0),a&&a.constructor==Object&&(goog.asserts.assert(void 0===o),goog.asserts.assert(r===t.length-1),o=a,a=void 0),!jspb.Message.compareFields(s,a))return!1}return!i&&!o||(i=i||{},o=o||{},jspb.Message.compareExtensions(i,o))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,t){goog.asserts.assertInstanceof(e,jspb.Message),goog.asserts.assertInstanceof(t,jspb.Message),goog.asserts.assert(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=jspb.Message.clone(e);for(var r=t.toArray(),i=e.toArray(),o=r.length=0;o<i.length;o++)r[o]=i[o];t.wrappers_=e.wrappers_,t.extensionObject_=e.extensionObject_},jspb.Message.clone_=function(e){if(goog.isArray(e)){for(var t=Array(e.length),r=0;r<e.length;r++){var i=e[r];null!=i&&(t[r]="object"==typeof i?jspb.Message.clone_(goog.asserts.assert(i)):i)}return t}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);for(r in t={},e)null!=(i=e[r])&&(t[r]="object"==typeof i?jspb.Message.clone_(goog.asserts.assert(i)):i);return t},jspb.Message.registerMessageType=function(e,t){t.messageId=e},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,t){var r=65535&e,i=65535&t,o=t>>>16;for(t=r*i+65536*(r*o&65535)+65536*((e>>>=16)*i&65535),r=e*o+(r*o>>>16)+(e*i>>>16);4294967296<=t;)t-=4294967296,r+=1;return new jspb.arith.UInt64(t>>>0,r>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return(e=jspb.arith.UInt64.mul32x32(this.hi,e)).hi=e.lo,e.lo=0,t.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(0==e)return[];var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var i=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),i=i.leftShift();for(;!i.zero();)0>=e.cmp(r)&&(t=t.add(i),r=r.sub(e)),e=e.rightShift(),i=i.rightShift();return[t,r]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){var r=(t=t.div(10))[0];e=t[1].lo+e,t=r}return""==e&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(0,0),i=0;i<e.length;i++){if("0">e[i]||"9"<e[i])return null;var o=parseInt(e[i],10);r.lo=o,t=t.mul(10).add(r)}return t},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=0!=(2147483648&this.hi),t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()},jspb.arith.Int64.fromString=function(e){var t=0<e.length&&"-"==e[0];return t&&(e=e.substring(1)),null===(e=jspb.arith.UInt64.fromString(e))?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(e){var t=this;jspb.utils.splitHash64(e),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,(function(e,r){t.writeSplitVarint64(e>>>0,r>>>0)}))},jspb.BinaryEncoder.prototype.writeUint8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){goog.asserts.assert(e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){goog.asserts.assert(e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){goog.asserts.assert(goog.isBoolean(e)||goog.isNumber(e)),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){for(var t=this.buffer_.length,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(128>i)this.buffer_.push(i);else if(2048>i)this.buffer_.push(i>>6|192),this.buffer_.push(63&i|128);else if(65536>i)if(55296<=i&&56319>=i&&r+1<e.length){var o=e.charCodeAt(r+1);56320<=o&&57343>=o&&(i=1024*(i-55296)+o-56320+65536,this.buffer_.push(i>>18|240),this.buffer_.push(i>>12&63|128),this.buffer_.push(i>>6&63|128),this.buffer_.push(63&i|128),r++)}else this.buffer_.push(i>>12|224),this.buffer_.push(i>>6&63|128),this.buffer_.push(63&i|128)}return this.buffer_.length-t},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();for(t=this.totalLength_+this.encoder_.length()-t,goog.asserts.assert(0<=t);127<t;)e.push(127&t|128),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,r){this.appendUint8Array_(e.subarray(t,r))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,r){null!=e&&null!=t&&null!=r&&this.writeSerializedMessage(e,t,r)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(0==this.bookmarks_.length);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,r=t.length,i=0,o=0;o<r;o++){var n=t[o];e.set(n,i),i+=n.length}return t=this.encoder_.end(),e.set(t,i),i+=t.length,goog.asserts.assert(i==e.length),this.blocks_=[e],e},jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){goog.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)},jspb.BinaryWriter.prototype.writeAny=function(e,t,r){var i=jspb.BinaryConstants.FieldType;switch(e){case i.DOUBLE:this.writeDouble(t,r);break;case i.FLOAT:this.writeFloat(t,r);break;case i.INT64:this.writeInt64(t,r);break;case i.UINT64:this.writeUint64(t,r);break;case i.INT32:this.writeInt32(t,r);break;case i.FIXED64:this.writeFixed64(t,r);break;case i.FIXED32:this.writeFixed32(t,r);break;case i.BOOL:this.writeBool(t,r);break;case i.STRING:this.writeString(t,r);break;case i.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case i.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case i.BYTES:this.writeBytes(t,r);break;case i.UINT32:this.writeUint32(t,r);break;case i.ENUM:this.writeEnum(t,r);break;case i.SFIXED32:this.writeSfixed32(t,r);break;case i.SFIXED64:this.writeSfixed64(t,r);break;case i.SINT32:this.writeSint32(t,r);break;case i.SINT64:this.writeSint64(t,r);break;case i.FHASH64:this.writeFixedHash64(t,r);break;case i.VHASH64:this.writeVarintHash64(t,r);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(t))},jspb.BinaryWriter.prototype.writeInt32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeInt64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeUint32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeUint64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSint32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))},jspb.BinaryWriter.prototype.writeSint64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))},jspb.BinaryWriter.prototype.writeSintHash64=function(e,t){null!=t&&this.writeZigzagVarintHash64_(e,t)},jspb.BinaryWriter.prototype.writeSint64String=function(e,t){null!=t&&this.writeZigzagVarint64String_(e,t)},jspb.BinaryWriter.prototype.writeFixed32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))},jspb.BinaryWriter.prototype.writeFixed64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))},jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))},jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))},jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))},jspb.BinaryWriter.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))},jspb.BinaryWriter.prototype.writeBool=function(e,t){null!=t&&(goog.asserts.assert(goog.isBoolean(t)||goog.isNumber(t)),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))},jspb.BinaryWriter.prototype.writeEnum=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeString=function(e,t){null!=t&&(e=this.beginDelimited_(e),this.encoder_.writeString(t),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeBytes=function(e,t){null!=t&&(t=jspb.utils.byteSourceToUint8Array(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t))},jspb.BinaryWriter.prototype.writeMessage=function(e,t,r){null!=t&&(e=this.beginDelimited_(e),r(t,this),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeMessageSet=function(e,t,r){null!=t&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),r(t,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(e,t,r){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t,r)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t,r)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT);var i=this.encoder_;jspb.utils.toZigzag64(t,r,(function(e,t){i.writeSplitVarint64(e>>>0,t>>>0)}))},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,t,r,i){if(null!=t)for(var o=0;o<t.length;o++)this.writeSplitFixed64(e,r(t[o]),i(t[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,t,r,i){if(null!=t)for(var o=0;o<t.length;o++)this.writeSplitVarint64(e,r(t[o]),i(t[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,t,r,i){if(null!=t)for(var o=0;o<t.length;o++)this.writeSplitZigzagVarint64(e,r(t[o]),i(t[o]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64String_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarintHash64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFloat(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeDouble(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBool(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeEnum(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeString(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBytes(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,r){if(null!=t)for(var i=0;i<t.length;i++){var o=this.beginDelimited_(e);r(t[i],this),this.endDelimited_(o)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,r){if(null!=t)for(var i=0;i<t.length;i++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t[i],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixedHash64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeVarintHash64(e,t[r])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(e,t,r,i){if(null!=t){e=this.beginDelimited_(e);for(var o=0;o<t.length;o++)this.encoder_.writeSplitFixed64(r(t[o]),i(t[o]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(e,t,r,i){if(null!=t){e=this.beginDelimited_(e);for(var o=0;o<t.length;o++)this.encoder_.writeSplitVarint64(r(t[o]),i(t[o]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,t,r,i){if(null!=t){e=this.beginDelimited_(e);for(var o=this.encoder_,n=0;n<t.length;n++)jspb.utils.toZigzag64(r(t[n]),i(t[n]),(function(e,t){o.writeSplitVarint64(e>>>0,t>>>0)}));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var i=jspb.arith.Int64.fromString(t[r]);this.encoder_.writeSplitVarint64(i.lo,i.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var i=jspb.arith.UInt64.fromString(t[r]);this.encoder_.writeSplitVarint64(i.lo,i.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t[r]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeUint32(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeUint64(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var r=jspb.arith.UInt64.fromString(t[e]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeInt32(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64String(t[e])},jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeFloat(t[e])},jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeDouble(t[e])},jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),e=0;e<t.length;e++)this.encoder_.writeBool(t[e])},jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeEnum(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeFixedHash64(t[e])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeVarintHash64(t[r]);this.endDelimited_(e)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.MT=1]="MT",e[e.RESERVED_1=2]="RESERVED_1",e[e.RESERVED_2=3]="RESERVED_2",e[e.RESERVED_3=4]="RESERVED_3",e[e.BCM=5]="BCM",e[e.DPM=6]="DPM",e[e.LSW=7]="LSW",e[e.AST=8]="AST",e[e.WA=9]="WA",e[e.DVI=10]="DVI",e[e.SOP=11]="SOP",e[e.CW=12]="CW",e[e.BleModule=13]="BleModule",e[e.ATL=14]="ATL"}(t.DeviceType||(t.DeviceType={}))},function(e,t,r){var i=r(5),o=i,n=Function("return this")(),s=r(169);o.exportSymbol("proto.WirelessAccelEvent.ChannelDescriptor",null,n),o.exportSymbol("proto.WirelessAccelEvent.Data",null,n),o.exportSymbol("proto.WirelessAccelEvent.Event",null,n),o.exportSymbol("proto.WirelessAccelEvent.Filter",null,n),o.exportSymbol("proto.WirelessAccelEvent.FilterSection",null,n),o.exportSymbol("proto.WirelessAccelEvent.LocalConfig",null,n),o.exportSymbol("proto.WirelessAccelEvent.LocalDevice",null,n),o.exportSymbol("proto.WirelessAccelEvent.LocalStatus",null,n),o.exportSymbol("proto.WirelessAccelEvent.RemoteConfig",null,n),o.exportSymbol("proto.WirelessAccelEvent.RemoteDevice",null,n),o.exportSymbol("proto.WirelessAccelEvent.RemoteStatus",null,n),o.exportSymbol("proto.WirelessAccelEvent.Values",null,n),proto.WirelessAccelEvent.Event=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.WirelessAccelEvent.Event,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelEvent.Event.displayName="proto.WirelessAccelEvent.Event"),i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelEvent.Event.prototype.toObject=function(e){return proto.WirelessAccelEvent.Event.toObject(e,this)},proto.WirelessAccelEvent.Event.toObject=function(e,t){var r,i={timestamp:t.getTimestamp(),remoteDevice:(r=t.getRemoteDevice())&&proto.WirelessAccelEvent.RemoteDevice.toObject(e,r),remoteStatus:(r=t.getRemoteStatus())&&proto.WirelessAccelEvent.RemoteStatus.toObject(e,r),remoteConfig:(r=t.getRemoteConfig())&&proto.WirelessAccelEvent.RemoteConfig.toObject(e,r),localDevice:(r=t.getLocalDevice())&&proto.WirelessAccelEvent.LocalDevice.toObject(e,r),localStatus:(r=t.getLocalStatus())&&proto.WirelessAccelEvent.LocalStatus.toObject(e,r),localConfig:(r=t.getLocalConfig())&&proto.WirelessAccelEvent.LocalConfig.toObject(e,r),data:(r=t.getData())&&proto.WirelessAccelEvent.Data.toObject(e,r)};return e&&(i.$jspbMessageInstance=t),i}),proto.WirelessAccelEvent.Event.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelEvent.Event;return proto.WirelessAccelEvent.Event.deserializeBinaryFromReader(r,t)},proto.WirelessAccelEvent.Event.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint64();e.setTimestamp(r);break;case 2:r=new proto.WirelessAccelEvent.RemoteDevice;t.readMessage(r,proto.WirelessAccelEvent.RemoteDevice.deserializeBinaryFromReader),e.setRemoteDevice(r);break;case 3:r=new proto.WirelessAccelEvent.RemoteStatus;t.readMessage(r,proto.WirelessAccelEvent.RemoteStatus.deserializeBinaryFromReader),e.setRemoteStatus(r);break;case 4:r=new proto.WirelessAccelEvent.RemoteConfig;t.readMessage(r,proto.WirelessAccelEvent.RemoteConfig.deserializeBinaryFromReader),e.setRemoteConfig(r);break;case 5:r=new proto.WirelessAccelEvent.LocalDevice;t.readMessage(r,proto.WirelessAccelEvent.LocalDevice.deserializeBinaryFromReader),e.setLocalDevice(r);break;case 6:r=new proto.WirelessAccelEvent.LocalStatus;t.readMessage(r,proto.WirelessAccelEvent.LocalStatus.deserializeBinaryFromReader),e.setLocalStatus(r);break;case 7:r=new proto.WirelessAccelEvent.LocalConfig;t.readMessage(r,proto.WirelessAccelEvent.LocalConfig.deserializeBinaryFromReader),e.setLocalConfig(r);break;case 8:r=new proto.WirelessAccelEvent.Data;t.readMessage(r,proto.WirelessAccelEvent.Data.deserializeBinaryFromReader),e.setData(r);break;default:t.skipField()}}return e},proto.WirelessAccelEvent.Event.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelEvent.Event.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelEvent.Event.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getTimestamp())&&e.writeUint64(1,t),null!=(t=this.getRemoteDevice())&&e.writeMessage(2,t,proto.WirelessAccelEvent.RemoteDevice.serializeBinaryToWriter),null!=(t=this.getRemoteStatus())&&e.writeMessage(3,t,proto.WirelessAccelEvent.RemoteStatus.serializeBinaryToWriter),null!=(t=this.getRemoteConfig())&&e.writeMessage(4,t,proto.WirelessAccelEvent.RemoteConfig.serializeBinaryToWriter),null!=(t=this.getLocalDevice())&&e.writeMessage(5,t,proto.WirelessAccelEvent.LocalDevice.serializeBinaryToWriter),null!=(t=this.getLocalStatus())&&e.writeMessage(6,t,proto.WirelessAccelEvent.LocalStatus.serializeBinaryToWriter),null!=(t=this.getLocalConfig())&&e.writeMessage(7,t,proto.WirelessAccelEvent.LocalConfig.serializeBinaryToWriter),null!=(t=this.getData())&&e.writeMessage(8,t,proto.WirelessAccelEvent.Data.serializeBinaryToWriter)},proto.WirelessAccelEvent.Event.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelEvent.Event.prototype.getTimestamp=function(){return i.Message.getFieldProto3(this,1,0)},proto.WirelessAccelEvent.Event.prototype.setTimestamp=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelEvent.Event.prototype.getRemoteDevice=function(){return i.Message.getWrapperField(this,proto.WirelessAccelEvent.RemoteDevice,2)},proto.WirelessAccelEvent.Event.prototype.setRemoteDevice=function(e){i.Message.setWrapperField(this,2,e)},proto.WirelessAccelEvent.Event.prototype.clearRemoteDevice=function(){this.setRemoteDevice(void 0)},proto.WirelessAccelEvent.Event.prototype.hasRemoteDevice=function(){return null!=i.Message.getField(this,2)},proto.WirelessAccelEvent.Event.prototype.getRemoteStatus=function(){return i.Message.getWrapperField(this,proto.WirelessAccelEvent.RemoteStatus,3)},proto.WirelessAccelEvent.Event.prototype.setRemoteStatus=function(e){i.Message.setWrapperField(this,3,e)},proto.WirelessAccelEvent.Event.prototype.clearRemoteStatus=function(){this.setRemoteStatus(void 0)},proto.WirelessAccelEvent.Event.prototype.hasRemoteStatus=function(){return null!=i.Message.getField(this,3)},proto.WirelessAccelEvent.Event.prototype.getRemoteConfig=function(){return i.Message.getWrapperField(this,proto.WirelessAccelEvent.RemoteConfig,4)},proto.WirelessAccelEvent.Event.prototype.setRemoteConfig=function(e){i.Message.setWrapperField(this,4,e)},proto.WirelessAccelEvent.Event.prototype.clearRemoteConfig=function(){this.setRemoteConfig(void 0)},proto.WirelessAccelEvent.Event.prototype.hasRemoteConfig=function(){return null!=i.Message.getField(this,4)},proto.WirelessAccelEvent.Event.prototype.getLocalDevice=function(){return i.Message.getWrapperField(this,proto.WirelessAccelEvent.LocalDevice,5)},proto.WirelessAccelEvent.Event.prototype.setLocalDevice=function(e){i.Message.setWrapperField(this,5,e)},proto.WirelessAccelEvent.Event.prototype.clearLocalDevice=function(){this.setLocalDevice(void 0)},proto.WirelessAccelEvent.Event.prototype.hasLocalDevice=function(){return null!=i.Message.getField(this,5)},proto.WirelessAccelEvent.Event.prototype.getLocalStatus=function(){return i.Message.getWrapperField(this,proto.WirelessAccelEvent.LocalStatus,6)},proto.WirelessAccelEvent.Event.prototype.setLocalStatus=function(e){i.Message.setWrapperField(this,6,e)},proto.WirelessAccelEvent.Event.prototype.clearLocalStatus=function(){this.setLocalStatus(void 0)},proto.WirelessAccelEvent.Event.prototype.hasLocalStatus=function(){return null!=i.Message.getField(this,6)},proto.WirelessAccelEvent.Event.prototype.getLocalConfig=function(){return i.Message.getWrapperField(this,proto.WirelessAccelEvent.LocalConfig,7)},proto.WirelessAccelEvent.Event.prototype.setLocalConfig=function(e){i.Message.setWrapperField(this,7,e)},proto.WirelessAccelEvent.Event.prototype.clearLocalConfig=function(){this.setLocalConfig(void 0)},proto.WirelessAccelEvent.Event.prototype.hasLocalConfig=function(){return null!=i.Message.getField(this,7)},proto.WirelessAccelEvent.Event.prototype.getData=function(){return i.Message.getWrapperField(this,proto.WirelessAccelEvent.Data,8)},proto.WirelessAccelEvent.Event.prototype.setData=function(e){i.Message.setWrapperField(this,8,e)},proto.WirelessAccelEvent.Event.prototype.clearData=function(){this.setData(void 0)},proto.WirelessAccelEvent.Event.prototype.hasData=function(){return null!=i.Message.getField(this,8)},proto.WirelessAccelEvent.RemoteDevice=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.WirelessAccelEvent.RemoteDevice,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelEvent.RemoteDevice.displayName="proto.WirelessAccelEvent.RemoteDevice"),i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelEvent.RemoteDevice.prototype.toObject=function(e){return proto.WirelessAccelEvent.RemoteDevice.toObject(e,this)},proto.WirelessAccelEvent.RemoteDevice.toObject=function(e,t){var r={address:t.getAddress(),uuid:t.getUuid(),type:t.getType(),name:t.getName(),firmwareVersion:t.getFirmwareVersion()};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelEvent.RemoteDevice.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelEvent.RemoteDevice;return proto.WirelessAccelEvent.RemoteDevice.deserializeBinaryFromReader(r,t)},proto.WirelessAccelEvent.RemoteDevice.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setAddress(r);break;case 2:r=t.readString();e.setUuid(r);break;case 3:r=t.readString();e.setType(r);break;case 4:r=t.readString();e.setName(r);break;case 5:r=t.readUint32();e.setFirmwareVersion(r);break;default:t.skipField()}}return e},proto.WirelessAccelEvent.RemoteDevice.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelEvent.RemoteDevice.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelEvent.RemoteDevice.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getAddress()).length>0&&e.writeString(1,t),(t=this.getUuid()).length>0&&e.writeString(2,t),(t=this.getType()).length>0&&e.writeString(3,t),(t=this.getName()).length>0&&e.writeString(4,t),0!==(t=this.getFirmwareVersion())&&e.writeUint32(5,t)},proto.WirelessAccelEvent.RemoteDevice.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelEvent.RemoteDevice.prototype.getAddress=function(){return i.Message.getFieldProto3(this,1,"")},proto.WirelessAccelEvent.RemoteDevice.prototype.setAddress=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelEvent.RemoteDevice.prototype.getUuid=function(){return i.Message.getFieldProto3(this,2,"")},proto.WirelessAccelEvent.RemoteDevice.prototype.setUuid=function(e){i.Message.setField(this,2,e)},proto.WirelessAccelEvent.RemoteDevice.prototype.getType=function(){return i.Message.getFieldProto3(this,3,"")},proto.WirelessAccelEvent.RemoteDevice.prototype.setType=function(e){i.Message.setField(this,3,e)},proto.WirelessAccelEvent.RemoteDevice.prototype.getName=function(){return i.Message.getFieldProto3(this,4,"")},proto.WirelessAccelEvent.RemoteDevice.prototype.setName=function(e){i.Message.setField(this,4,e)},proto.WirelessAccelEvent.RemoteDevice.prototype.getFirmwareVersion=function(){return i.Message.getFieldProto3(this,5,0)},proto.WirelessAccelEvent.RemoteDevice.prototype.setFirmwareVersion=function(e){i.Message.setField(this,5,e)},proto.WirelessAccelEvent.RemoteStatus=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.WirelessAccelEvent.RemoteStatus,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelEvent.RemoteStatus.displayName="proto.WirelessAccelEvent.RemoteStatus"),i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelEvent.RemoteStatus.prototype.toObject=function(e){return proto.WirelessAccelEvent.RemoteStatus.toObject(e,this)},proto.WirelessAccelEvent.RemoteStatus.toObject=function(e,t){var r={rssi:t.getRssi(),packetCounter:t.getPacketCounter(),configNumber:t.getConfigNumber(),temperature:t.getTemperature(),batteryVoltage:t.getBatteryVoltage(),restartsUnknown:t.getRestartsUnknown(),restartsSoftware:t.getRestartsSoftware(),restartsWatchdog:t.getRestartsWatchdog(),event:t.getEvent(),accx:t.getAccx(),accy:t.getAccy(),accz:t.getAccz()};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelEvent.RemoteStatus.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelEvent.RemoteStatus;return proto.WirelessAccelEvent.RemoteStatus.deserializeBinaryFromReader(r,t)},proto.WirelessAccelEvent.RemoteStatus.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setRssi(r);break;case 2:r=t.readUint32();e.setPacketCounter(r);break;case 3:r=t.readUint32();e.setConfigNumber(r);break;case 4:r=t.readFloat();e.setTemperature(r);break;case 5:r=t.readFloat();e.setBatteryVoltage(r);break;case 7:r=t.readUint32();e.setRestartsUnknown(r);break;case 8:r=t.readUint32();e.setRestartsSoftware(r);break;case 9:r=t.readUint32();e.setRestartsWatchdog(r);break;case 10:r=t.readUint32();e.setEvent(r);break;case 11:r=t.readFloat();e.setAccx(r);break;case 12:r=t.readFloat();e.setAccy(r);break;case 13:r=t.readFloat();e.setAccz(r);break;default:t.skipField()}}return e},proto.WirelessAccelEvent.RemoteStatus.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelEvent.RemoteStatus.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelEvent.RemoteStatus.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getRssi())&&e.writeInt32(1,t),0!==(t=this.getPacketCounter())&&e.writeUint32(2,t),0!==(t=this.getConfigNumber())&&e.writeUint32(3,t),0!==(t=this.getTemperature())&&e.writeFloat(4,t),0!==(t=this.getBatteryVoltage())&&e.writeFloat(5,t),0!==(t=this.getRestartsUnknown())&&e.writeUint32(7,t),0!==(t=this.getRestartsSoftware())&&e.writeUint32(8,t),0!==(t=this.getRestartsWatchdog())&&e.writeUint32(9,t),0!==(t=this.getEvent())&&e.writeUint32(10,t),0!==(t=this.getAccx())&&e.writeFloat(11,t),0!==(t=this.getAccy())&&e.writeFloat(12,t),0!==(t=this.getAccz())&&e.writeFloat(13,t)},proto.WirelessAccelEvent.RemoteStatus.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelEvent.RemoteStatus.prototype.getRssi=function(){return i.Message.getFieldProto3(this,1,0)},proto.WirelessAccelEvent.RemoteStatus.prototype.setRssi=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelEvent.RemoteStatus.prototype.getPacketCounter=function(){return i.Message.getFieldProto3(this,2,0)},proto.WirelessAccelEvent.RemoteStatus.prototype.setPacketCounter=function(e){i.Message.setField(this,2,e)},proto.WirelessAccelEvent.RemoteStatus.prototype.getConfigNumber=function(){return i.Message.getFieldProto3(this,3,0)},proto.WirelessAccelEvent.RemoteStatus.prototype.setConfigNumber=function(e){i.Message.setField(this,3,e)},proto.WirelessAccelEvent.RemoteStatus.prototype.getTemperature=function(){return i.Message.getFieldProto3(this,4,0)},proto.WirelessAccelEvent.RemoteStatus.prototype.setTemperature=function(e){i.Message.setField(this,4,e)},proto.WirelessAccelEvent.RemoteStatus.prototype.getBatteryVoltage=function(){return i.Message.getFieldProto3(this,5,0)},proto.WirelessAccelEvent.RemoteStatus.prototype.setBatteryVoltage=function(e){i.Message.setField(this,5,e)},proto.WirelessAccelEvent.RemoteStatus.prototype.getRestartsUnknown=function(){return i.Message.getFieldProto3(this,7,0)},proto.WirelessAccelEvent.RemoteStatus.prototype.setRestartsUnknown=function(e){i.Message.setField(this,7,e)},proto.WirelessAccelEvent.RemoteStatus.prototype.getRestartsSoftware=function(){return i.Message.getFieldProto3(this,8,0)},proto.WirelessAccelEvent.RemoteStatus.prototype.setRestartsSoftware=function(e){i.Message.setField(this,8,e)},proto.WirelessAccelEvent.RemoteStatus.prototype.getRestartsWatchdog=function(){return i.Message.getFieldProto3(this,9,0)},proto.WirelessAccelEvent.RemoteStatus.prototype.setRestartsWatchdog=function(e){i.Message.setField(this,9,e)},proto.WirelessAccelEvent.RemoteStatus.prototype.getEvent=function(){return i.Message.getFieldProto3(this,10,0)},proto.WirelessAccelEvent.RemoteStatus.prototype.setEvent=function(e){i.Message.setField(this,10,e)},proto.WirelessAccelEvent.RemoteStatus.prototype.getAccx=function(){return i.Message.getFieldProto3(this,11,0)},proto.WirelessAccelEvent.RemoteStatus.prototype.setAccx=function(e){i.Message.setField(this,11,e)},proto.WirelessAccelEvent.RemoteStatus.prototype.getAccy=function(){return i.Message.getFieldProto3(this,12,0)},proto.WirelessAccelEvent.RemoteStatus.prototype.setAccy=function(e){i.Message.setField(this,12,e)},proto.WirelessAccelEvent.RemoteStatus.prototype.getAccz=function(){return i.Message.getFieldProto3(this,13,0)},proto.WirelessAccelEvent.RemoteStatus.prototype.setAccz=function(e){i.Message.setField(this,13,e)},proto.WirelessAccelEvent.RemoteConfig=function(e){i.Message.initialize(this,e,0,-1,proto.WirelessAccelEvent.RemoteConfig.repeatedFields_,null)},o.inherits(proto.WirelessAccelEvent.RemoteConfig,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelEvent.RemoteConfig.displayName="proto.WirelessAccelEvent.RemoteConfig"),proto.WirelessAccelEvent.RemoteConfig.repeatedFields_=[10],i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelEvent.RemoteConfig.prototype.toObject=function(e){return proto.WirelessAccelEvent.RemoteConfig.toObject(e,this)},proto.WirelessAccelEvent.RemoteConfig.toObject=function(e,t){var r={wakeupWindow:t.getWakeupWindow(),sleepTime:t.getSleepTime(),modesEnabled:t.getModesEnabled(),connectionTimeout:t.getConnectionTimeout(),internalPa:t.getInternalPa(),channelsList:i.Message.toObjectList(t.getChannelsList(),proto.WirelessAccelEvent.ChannelDescriptor.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelEvent.RemoteConfig.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelEvent.RemoteConfig;return proto.WirelessAccelEvent.RemoteConfig.deserializeBinaryFromReader(r,t)},proto.WirelessAccelEvent.RemoteConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint32();e.setWakeupWindow(r);break;case 2:r=t.readUint32();e.setSleepTime(r);break;case 3:r=t.readUint32();e.setModesEnabled(r);break;case 4:r=t.readUint32();e.setConnectionTimeout(r);break;case 5:r=t.readUint32();e.setInternalPa(r);break;case 10:r=new proto.WirelessAccelEvent.ChannelDescriptor;t.readMessage(r,proto.WirelessAccelEvent.ChannelDescriptor.deserializeBinaryFromReader),e.getChannelsList().push(r),e.setChannelsList(e.getChannelsList());break;default:t.skipField()}}return e},proto.WirelessAccelEvent.RemoteConfig.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelEvent.RemoteConfig.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelEvent.RemoteConfig.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getWakeupWindow())&&e.writeUint32(1,t),0!==(t=this.getSleepTime())&&e.writeUint32(2,t),0!==(t=this.getModesEnabled())&&e.writeUint32(3,t),0!==(t=this.getConnectionTimeout())&&e.writeUint32(4,t),0!==(t=this.getInternalPa())&&e.writeUint32(5,t),(t=this.getChannelsList()).length>0&&e.writeRepeatedMessage(10,t,proto.WirelessAccelEvent.ChannelDescriptor.serializeBinaryToWriter)},proto.WirelessAccelEvent.RemoteConfig.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelEvent.RemoteConfig.prototype.getWakeupWindow=function(){return i.Message.getFieldProto3(this,1,0)},proto.WirelessAccelEvent.RemoteConfig.prototype.setWakeupWindow=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelEvent.RemoteConfig.prototype.getSleepTime=function(){return i.Message.getFieldProto3(this,2,0)},proto.WirelessAccelEvent.RemoteConfig.prototype.setSleepTime=function(e){i.Message.setField(this,2,e)},proto.WirelessAccelEvent.RemoteConfig.prototype.getModesEnabled=function(){return i.Message.getFieldProto3(this,3,0)},proto.WirelessAccelEvent.RemoteConfig.prototype.setModesEnabled=function(e){i.Message.setField(this,3,e)},proto.WirelessAccelEvent.RemoteConfig.prototype.getConnectionTimeout=function(){return i.Message.getFieldProto3(this,4,0)},proto.WirelessAccelEvent.RemoteConfig.prototype.setConnectionTimeout=function(e){i.Message.setField(this,4,e)},proto.WirelessAccelEvent.RemoteConfig.prototype.getInternalPa=function(){return i.Message.getFieldProto3(this,5,0)},proto.WirelessAccelEvent.RemoteConfig.prototype.setInternalPa=function(e){i.Message.setField(this,5,e)},proto.WirelessAccelEvent.RemoteConfig.prototype.getChannelsList=function(){return i.Message.getRepeatedWrapperField(this,proto.WirelessAccelEvent.ChannelDescriptor,10)},proto.WirelessAccelEvent.RemoteConfig.prototype.setChannelsList=function(e){i.Message.setRepeatedWrapperField(this,10,e)},proto.WirelessAccelEvent.RemoteConfig.prototype.clearChannelsList=function(){this.setChannelsList([])},proto.WirelessAccelEvent.ChannelDescriptor=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.WirelessAccelEvent.ChannelDescriptor,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelEvent.ChannelDescriptor.displayName="proto.WirelessAccelEvent.ChannelDescriptor"),i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelEvent.ChannelDescriptor.prototype.toObject=function(e){return proto.WirelessAccelEvent.ChannelDescriptor.toObject(e,this)},proto.WirelessAccelEvent.ChannelDescriptor.toObject=function(e,t){var r,i={config:t.getConfig(),offset:t.getOffset(),minDelta:t.getMinDelta(),emiRejRatio:t.getEmiRejRatio(),filter:(r=t.getFilter())&&proto.WirelessAccelEvent.Filter.toObject(e,r)};return e&&(i.$jspbMessageInstance=t),i}),proto.WirelessAccelEvent.ChannelDescriptor.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelEvent.ChannelDescriptor;return proto.WirelessAccelEvent.ChannelDescriptor.deserializeBinaryFromReader(r,t)},proto.WirelessAccelEvent.ChannelDescriptor.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint32();e.setConfig(r);break;case 2:r=t.readUint32();e.setOffset(r);break;case 4:r=t.readUint32();e.setMinDelta(r);break;case 5:r=t.readUint32();e.setEmiRejRatio(r);break;case 6:r=new proto.WirelessAccelEvent.Filter;t.readMessage(r,proto.WirelessAccelEvent.Filter.deserializeBinaryFromReader),e.setFilter(r);break;default:t.skipField()}}return e},proto.WirelessAccelEvent.ChannelDescriptor.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelEvent.ChannelDescriptor.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelEvent.ChannelDescriptor.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getConfig())&&e.writeUint32(1,t),0!==(t=this.getOffset())&&e.writeUint32(2,t),0!==(t=this.getMinDelta())&&e.writeUint32(4,t),0!==(t=this.getEmiRejRatio())&&e.writeUint32(5,t),null!=(t=this.getFilter())&&e.writeMessage(6,t,proto.WirelessAccelEvent.Filter.serializeBinaryToWriter)},proto.WirelessAccelEvent.ChannelDescriptor.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelEvent.ChannelDescriptor.prototype.getConfig=function(){return i.Message.getFieldProto3(this,1,0)},proto.WirelessAccelEvent.ChannelDescriptor.prototype.setConfig=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelEvent.ChannelDescriptor.prototype.getOffset=function(){return i.Message.getFieldProto3(this,2,0)},proto.WirelessAccelEvent.ChannelDescriptor.prototype.setOffset=function(e){i.Message.setField(this,2,e)},proto.WirelessAccelEvent.ChannelDescriptor.prototype.getMinDelta=function(){return i.Message.getFieldProto3(this,4,0)},proto.WirelessAccelEvent.ChannelDescriptor.prototype.setMinDelta=function(e){i.Message.setField(this,4,e)},proto.WirelessAccelEvent.ChannelDescriptor.prototype.getEmiRejRatio=function(){return i.Message.getFieldProto3(this,5,0)},proto.WirelessAccelEvent.ChannelDescriptor.prototype.setEmiRejRatio=function(e){i.Message.setField(this,5,e)},proto.WirelessAccelEvent.ChannelDescriptor.prototype.getFilter=function(){return i.Message.getWrapperField(this,proto.WirelessAccelEvent.Filter,6)},proto.WirelessAccelEvent.ChannelDescriptor.prototype.setFilter=function(e){i.Message.setWrapperField(this,6,e)},proto.WirelessAccelEvent.ChannelDescriptor.prototype.clearFilter=function(){this.setFilter(void 0)},proto.WirelessAccelEvent.ChannelDescriptor.prototype.hasFilter=function(){return null!=i.Message.getField(this,6)},proto.WirelessAccelEvent.Filter=function(e){i.Message.initialize(this,e,0,-1,proto.WirelessAccelEvent.Filter.repeatedFields_,null)},o.inherits(proto.WirelessAccelEvent.Filter,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelEvent.Filter.displayName="proto.WirelessAccelEvent.Filter"),proto.WirelessAccelEvent.Filter.repeatedFields_=[2],i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelEvent.Filter.prototype.toObject=function(e){return proto.WirelessAccelEvent.Filter.toObject(e,this)},proto.WirelessAccelEvent.Filter.toObject=function(e,t){var r={config:t.getConfig(),sectionsList:i.Message.toObjectList(t.getSectionsList(),proto.WirelessAccelEvent.FilterSection.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelEvent.Filter.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelEvent.Filter;return proto.WirelessAccelEvent.Filter.deserializeBinaryFromReader(r,t)},proto.WirelessAccelEvent.Filter.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint32();e.setConfig(r);break;case 2:r=new proto.WirelessAccelEvent.FilterSection;t.readMessage(r,proto.WirelessAccelEvent.FilterSection.deserializeBinaryFromReader),e.getSectionsList().push(r),e.setSectionsList(e.getSectionsList());break;default:t.skipField()}}return e},proto.WirelessAccelEvent.Filter.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelEvent.Filter.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelEvent.Filter.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getConfig())&&e.writeUint32(1,t),(t=this.getSectionsList()).length>0&&e.writeRepeatedMessage(2,t,proto.WirelessAccelEvent.FilterSection.serializeBinaryToWriter)},proto.WirelessAccelEvent.Filter.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelEvent.Filter.prototype.getConfig=function(){return i.Message.getFieldProto3(this,1,0)},proto.WirelessAccelEvent.Filter.prototype.setConfig=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelEvent.Filter.prototype.getSectionsList=function(){return i.Message.getRepeatedWrapperField(this,proto.WirelessAccelEvent.FilterSection,2)},proto.WirelessAccelEvent.Filter.prototype.setSectionsList=function(e){i.Message.setRepeatedWrapperField(this,2,e)},proto.WirelessAccelEvent.Filter.prototype.clearSectionsList=function(){this.setSectionsList([])},proto.WirelessAccelEvent.FilterSection=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.WirelessAccelEvent.FilterSection,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelEvent.FilterSection.displayName="proto.WirelessAccelEvent.FilterSection"),i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelEvent.FilterSection.prototype.toObject=function(e){return proto.WirelessAccelEvent.FilterSection.toObject(e,this)},proto.WirelessAccelEvent.FilterSection.toObject=function(e,t){var r={b0:t.getB0(),b1:t.getB1(),b2:t.getB2(),a0:t.getA0(),a1:t.getA1(),a2:t.getA2(),gain:t.getGain()};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelEvent.FilterSection.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelEvent.FilterSection;return proto.WirelessAccelEvent.FilterSection.deserializeBinaryFromReader(r,t)},proto.WirelessAccelEvent.FilterSection.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint32();e.setB0(r);break;case 2:r=t.readUint32();e.setB1(r);break;case 3:r=t.readUint32();e.setB2(r);break;case 4:r=t.readUint32();e.setA0(r);break;case 5:r=t.readUint32();e.setA1(r);break;case 6:r=t.readUint32();e.setA2(r);break;case 7:r=t.readUint32();e.setGain(r);break;default:t.skipField()}}return e},proto.WirelessAccelEvent.FilterSection.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelEvent.FilterSection.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelEvent.FilterSection.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getB0())&&e.writeUint32(1,t),0!==(t=this.getB1())&&e.writeUint32(2,t),0!==(t=this.getB2())&&e.writeUint32(3,t),0!==(t=this.getA0())&&e.writeUint32(4,t),0!==(t=this.getA1())&&e.writeUint32(5,t),0!==(t=this.getA2())&&e.writeUint32(6,t),0!==(t=this.getGain())&&e.writeUint32(7,t)},proto.WirelessAccelEvent.FilterSection.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelEvent.FilterSection.prototype.getB0=function(){return i.Message.getFieldProto3(this,1,0)},proto.WirelessAccelEvent.FilterSection.prototype.setB0=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelEvent.FilterSection.prototype.getB1=function(){return i.Message.getFieldProto3(this,2,0)},proto.WirelessAccelEvent.FilterSection.prototype.setB1=function(e){i.Message.setField(this,2,e)},proto.WirelessAccelEvent.FilterSection.prototype.getB2=function(){return i.Message.getFieldProto3(this,3,0)},proto.WirelessAccelEvent.FilterSection.prototype.setB2=function(e){i.Message.setField(this,3,e)},proto.WirelessAccelEvent.FilterSection.prototype.getA0=function(){return i.Message.getFieldProto3(this,4,0)},proto.WirelessAccelEvent.FilterSection.prototype.setA0=function(e){i.Message.setField(this,4,e)},proto.WirelessAccelEvent.FilterSection.prototype.getA1=function(){return i.Message.getFieldProto3(this,5,0)},proto.WirelessAccelEvent.FilterSection.prototype.setA1=function(e){i.Message.setField(this,5,e)},proto.WirelessAccelEvent.FilterSection.prototype.getA2=function(){return i.Message.getFieldProto3(this,6,0)},proto.WirelessAccelEvent.FilterSection.prototype.setA2=function(e){i.Message.setField(this,6,e)},proto.WirelessAccelEvent.FilterSection.prototype.getGain=function(){return i.Message.getFieldProto3(this,7,0)},proto.WirelessAccelEvent.FilterSection.prototype.setGain=function(e){i.Message.setField(this,7,e)},proto.WirelessAccelEvent.LocalDevice=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.WirelessAccelEvent.LocalDevice,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelEvent.LocalDevice.displayName="proto.WirelessAccelEvent.LocalDevice"),i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelEvent.LocalDevice.prototype.toObject=function(e){return proto.WirelessAccelEvent.LocalDevice.toObject(e,this)},proto.WirelessAccelEvent.LocalDevice.toObject=function(e,t){var r={identifier:t.getIdentifier(),firmwareVersion:t.getFirmwareVersion()};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelEvent.LocalDevice.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelEvent.LocalDevice;return proto.WirelessAccelEvent.LocalDevice.deserializeBinaryFromReader(r,t)},proto.WirelessAccelEvent.LocalDevice.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setIdentifier(r);break;case 2:r=t.readUint32();e.setFirmwareVersion(r);break;default:t.skipField()}}return e},proto.WirelessAccelEvent.LocalDevice.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelEvent.LocalDevice.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelEvent.LocalDevice.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getIdentifier()).length>0&&e.writeString(1,t),0!==(t=this.getFirmwareVersion())&&e.writeUint32(2,t)},proto.WirelessAccelEvent.LocalDevice.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelEvent.LocalDevice.prototype.getIdentifier=function(){return i.Message.getFieldProto3(this,1,"")},proto.WirelessAccelEvent.LocalDevice.prototype.setIdentifier=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelEvent.LocalDevice.prototype.getFirmwareVersion=function(){return i.Message.getFieldProto3(this,2,0)},proto.WirelessAccelEvent.LocalDevice.prototype.setFirmwareVersion=function(e){i.Message.setField(this,2,e)},proto.WirelessAccelEvent.LocalStatus=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.WirelessAccelEvent.LocalStatus,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelEvent.LocalStatus.displayName="proto.WirelessAccelEvent.LocalStatus"),i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelEvent.LocalStatus.prototype.toObject=function(e){return proto.WirelessAccelEvent.LocalStatus.toObject(e,this)},proto.WirelessAccelEvent.LocalStatus.toObject=function(e,t){var r={orientation:t.getOrientation()};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelEvent.LocalStatus.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelEvent.LocalStatus;return proto.WirelessAccelEvent.LocalStatus.deserializeBinaryFromReader(r,t)},proto.WirelessAccelEvent.LocalStatus.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setOrientation(r);break;default:t.skipField()}}return e},proto.WirelessAccelEvent.LocalStatus.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelEvent.LocalStatus.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelEvent.LocalStatus.prototype.serializeBinaryToWriter=function(e){var t;0!==(t=this.getOrientation())&&e.writeInt32(1,t)},proto.WirelessAccelEvent.LocalStatus.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelEvent.LocalStatus.prototype.getOrientation=function(){return i.Message.getFieldProto3(this,1,0)},proto.WirelessAccelEvent.LocalStatus.prototype.setOrientation=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelEvent.LocalConfig=function(e){i.Message.initialize(this,e,0,-1,proto.WirelessAccelEvent.LocalConfig.repeatedFields_,null)},o.inherits(proto.WirelessAccelEvent.LocalConfig,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelEvent.LocalConfig.displayName="proto.WirelessAccelEvent.LocalConfig"),proto.WirelessAccelEvent.LocalConfig.repeatedFields_=[3,4],i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelEvent.LocalConfig.prototype.toObject=function(e){return proto.WirelessAccelEvent.LocalConfig.toObject(e,this)},proto.WirelessAccelEvent.LocalConfig.toObject=function(e,t){var r={speedThreshold:t.getSpeedThreshold(),antennaDistance:t.getAntennaDistance(),lowAlarmThresholdList:i.Message.getRepeatedFloatingPointField(t,3),highAlarmThresholdList:i.Message.getRepeatedFloatingPointField(t,4)};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelEvent.LocalConfig.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelEvent.LocalConfig;return proto.WirelessAccelEvent.LocalConfig.deserializeBinaryFromReader(r,t)},proto.WirelessAccelEvent.LocalConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readFloat();e.setSpeedThreshold(r);break;case 2:r=t.readFloat();e.setAntennaDistance(r);break;case 3:r=t.readPackedFloat();e.setLowAlarmThresholdList(r);break;case 4:r=t.readPackedFloat();e.setHighAlarmThresholdList(r);break;default:t.skipField()}}return e},proto.WirelessAccelEvent.LocalConfig.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelEvent.LocalConfig.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelEvent.LocalConfig.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getSpeedThreshold())&&e.writeFloat(1,t),0!==(t=this.getAntennaDistance())&&e.writeFloat(2,t),(t=this.getLowAlarmThresholdList()).length>0&&e.writePackedFloat(3,t),(t=this.getHighAlarmThresholdList()).length>0&&e.writePackedFloat(4,t)},proto.WirelessAccelEvent.LocalConfig.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelEvent.LocalConfig.prototype.getSpeedThreshold=function(){return i.Message.getFieldProto3(this,1,0)},proto.WirelessAccelEvent.LocalConfig.prototype.setSpeedThreshold=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelEvent.LocalConfig.prototype.getAntennaDistance=function(){return i.Message.getFieldProto3(this,2,0)},proto.WirelessAccelEvent.LocalConfig.prototype.setAntennaDistance=function(e){i.Message.setField(this,2,e)},proto.WirelessAccelEvent.LocalConfig.prototype.getLowAlarmThresholdList=function(){return i.Message.getRepeatedFloatingPointField(this,3)},proto.WirelessAccelEvent.LocalConfig.prototype.setLowAlarmThresholdList=function(e){i.Message.setField(this,3,e||[])},proto.WirelessAccelEvent.LocalConfig.prototype.clearLowAlarmThresholdList=function(){i.Message.setField(this,3,[])},proto.WirelessAccelEvent.LocalConfig.prototype.getHighAlarmThresholdList=function(){return i.Message.getRepeatedFloatingPointField(this,4)},proto.WirelessAccelEvent.LocalConfig.prototype.setHighAlarmThresholdList=function(e){i.Message.setField(this,4,e||[])},proto.WirelessAccelEvent.LocalConfig.prototype.clearHighAlarmThresholdList=function(){i.Message.setField(this,4,[])},proto.WirelessAccelEvent.Values=function(e){i.Message.initialize(this,e,0,-1,proto.WirelessAccelEvent.Values.repeatedFields_,null)},o.inherits(proto.WirelessAccelEvent.Values,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelEvent.Values.displayName="proto.WirelessAccelEvent.Values"),proto.WirelessAccelEvent.Values.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelEvent.Values.prototype.toObject=function(e){return proto.WirelessAccelEvent.Values.toObject(e,this)},proto.WirelessAccelEvent.Values.toObject=function(e,t){var r={valuesList:i.Message.getField(t,1)};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelEvent.Values.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelEvent.Values;return proto.WirelessAccelEvent.Values.deserializeBinaryFromReader(r,t)},proto.WirelessAccelEvent.Values.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readPackedSint32();e.setValuesList(r);break;default:t.skipField()}}return e},proto.WirelessAccelEvent.Values.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelEvent.Values.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelEvent.Values.prototype.serializeBinaryToWriter=function(e){var t;(t=this.getValuesList()).length>0&&e.writePackedSint32(1,t)},proto.WirelessAccelEvent.Values.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelEvent.Values.prototype.getValuesList=function(){return i.Message.getField(this,1)},proto.WirelessAccelEvent.Values.prototype.setValuesList=function(e){i.Message.setField(this,1,e||[])},proto.WirelessAccelEvent.Values.prototype.clearValuesList=function(){i.Message.setField(this,1,[])},proto.WirelessAccelEvent.Data=function(e){i.Message.initialize(this,e,0,-1,proto.WirelessAccelEvent.Data.repeatedFields_,null)},o.inherits(proto.WirelessAccelEvent.Data,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelEvent.Data.displayName="proto.WirelessAccelEvent.Data"),proto.WirelessAccelEvent.Data.repeatedFields_=[4,5],i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelEvent.Data.prototype.toObject=function(e){return proto.WirelessAccelEvent.Data.toObject(e,this)},proto.WirelessAccelEvent.Data.toObject=function(e,t){var r={timestamp:t.getTimestamp(),channel:t.getChannel(),delta:t.getDelta(),locationsList:i.Message.toObjectList(t.getLocationsList(),s.Location.toObject,e),samplesList:i.Message.toObjectList(t.getSamplesList(),proto.WirelessAccelEvent.Values.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelEvent.Data.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelEvent.Data;return proto.WirelessAccelEvent.Data.deserializeBinaryFromReader(r,t)},proto.WirelessAccelEvent.Data.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint64();e.setTimestamp(r);break;case 2:r=t.readUint32();e.setChannel(r);break;case 3:r=t.readUint32();e.setDelta(r);break;case 4:r=new s.Location;t.readMessage(r,s.Location.deserializeBinaryFromReader),e.getLocationsList().push(r),e.setLocationsList(e.getLocationsList());break;case 5:r=new proto.WirelessAccelEvent.Values;t.readMessage(r,proto.WirelessAccelEvent.Values.deserializeBinaryFromReader),e.getSamplesList().push(r),e.setSamplesList(e.getSamplesList());break;default:t.skipField()}}return e},proto.WirelessAccelEvent.Data.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelEvent.Data.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelEvent.Data.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getTimestamp())&&e.writeUint64(1,t),0!==(t=this.getChannel())&&e.writeUint32(2,t),0!==(t=this.getDelta())&&e.writeUint32(3,t),(t=this.getLocationsList()).length>0&&e.writeRepeatedMessage(4,t,s.Location.serializeBinaryToWriter),(t=this.getSamplesList()).length>0&&e.writeRepeatedMessage(5,t,proto.WirelessAccelEvent.Values.serializeBinaryToWriter)},proto.WirelessAccelEvent.Data.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelEvent.Data.prototype.getTimestamp=function(){return i.Message.getFieldProto3(this,1,0)},proto.WirelessAccelEvent.Data.prototype.setTimestamp=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelEvent.Data.prototype.getChannel=function(){return i.Message.getFieldProto3(this,2,0)},proto.WirelessAccelEvent.Data.prototype.setChannel=function(e){i.Message.setField(this,2,e)},proto.WirelessAccelEvent.Data.prototype.getDelta=function(){return i.Message.getFieldProto3(this,3,0)},proto.WirelessAccelEvent.Data.prototype.setDelta=function(e){i.Message.setField(this,3,e)},proto.WirelessAccelEvent.Data.prototype.getLocationsList=function(){return i.Message.getRepeatedWrapperField(this,s.Location,4)},proto.WirelessAccelEvent.Data.prototype.setLocationsList=function(e){i.Message.setRepeatedWrapperField(this,4,e)},proto.WirelessAccelEvent.Data.prototype.clearLocationsList=function(){this.setLocationsList([])},proto.WirelessAccelEvent.Data.prototype.getSamplesList=function(){return i.Message.getRepeatedWrapperField(this,proto.WirelessAccelEvent.Values,5)},proto.WirelessAccelEvent.Data.prototype.setSamplesList=function(e){i.Message.setRepeatedWrapperField(this,5,e)},proto.WirelessAccelEvent.Data.prototype.clearSamplesList=function(){this.setSamplesList([])},o.object.extend(t,proto.WirelessAccelEvent)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(217);i.verbose();t.SQLiteDatabase=class{constructor(e){this.path=e,this.db=null}select(e,t=[]){let r=[];return this.initialize(i.OPEN_READONLY).then(()=>this.all(e,t)).then(e=>(r=e,this.close())).then(()=>r)}selectOne(e,t=[]){let r;return this.initialize(i.OPEN_READONLY).then(()=>this.get(e,t)).then(e=>(r=e,this.close())).then(()=>r)}createTable(e){return this.initialize(i.OPEN_READWRITE|i.OPEN_CREATE).then(()=>this.run(e)).then(()=>this.close())}insert(e,t=[]){return this.initialize(i.OPEN_READWRITE).then(()=>this.run(e,t)).then(()=>this.close())}initialize(e){return Promise.resolve().then(()=>this.connect(e)).then(()=>this.configure("busyTimeout",5e3)).then(()=>this.run("pragma journal_mode = WAL"))}connect(e){return new Promise((t,r)=>{let o=new i.Database(this.path,e,e=>{e?r(e):(this.db=o,t())})})}configure(e,t){return new Promise(r=>{this.db.configure(e,t),r()})}run(e,t){if(null===this.db)throw new Error("SQLite3 data base is not initialized");return new Promise((r,i)=>{let o=e=>{this.db.removeListener("error",o),i(e)},n=e=>{this.db.removeListener("error",o),e?i(e):r()};this.db.on("error",o),t?this.db.run(e,t,n):this.db.run(e,n)})}get(e,t){if(null===this.db)throw new Error("SQLite3 data base is not initialized");return new Promise((r,i)=>{const o=e=>{this.db.removeListener("error",o),i(e)},n=(e,t)=>{this.db.removeListener("error",o),e?i(e):r(t)};this.db.on("error",o),t?this.db.get(e,t,n):this.db.get(e,n)})}all(e,t){if(null===this.db)throw new Error("SQLite3 data base is not initialized");return new Promise((r,i)=>{const o=e=>{this.db.removeListener("error",o),i(e)},n=(e,t)=>{this.db.removeListener("error",o),e?i(e):r(t)};this.db.on("error",o),t?this.db.all(e,t,n):this.db.all(e,n)})}close(){return new Promise((e,t)=>{this.db.close(r=>{r?t(r):e()})})}buildSamplesQuery(e,t){if(!t)return["",[]];let r=!1;const i=[];if(void 0!==t.criteria)for(const[o,n]of Object.entries(t.criteria))e+=!1===r?" WHERE ":" AND ",e+=o+" = ?",i.push(n),r=!0;return void 0!==t.fromDate&&(e+=!1===r?" WHERE ":" AND ",e+="timestamp >= ?",i.push(t.fromDate),r=!0),void 0!==t.toDate&&(e+=!1===r?" WHERE ":" AND ",e+="timestamp <= ?",i.push(t.toDate),r=!0),e+=" ORDER BY timestamp DESC",void 0!==t.skip&&void 0!==t.limit&&(e+=" LIMIT ?,?",i.push(t.skip),i.push(t.limit)),[e,i]}}},function(e,t,r){var i=r(5),o=i,n=Function("return this")();o.exportSymbol("proto.SopFile.Acceleration",null,n),o.exportSymbol("proto.SopFile.ChannelStats",null,n),o.exportSymbol("proto.SopFile.Data",null,n),o.exportSymbol("proto.SopFile.File",null,n),o.exportSymbol("proto.SopFile.LocalConfig",null,n),o.exportSymbol("proto.SopFile.LocalDevice",null,n),o.exportSymbol("proto.SopFile.LocalStatus",null,n),o.exportSymbol("proto.SopFile.RemoteConfig",null,n),o.exportSymbol("proto.SopFile.RemoteDevice",null,n),o.exportSymbol("proto.SopFile.RemoteStatus",null,n),o.exportSymbol("proto.SopFile.Stats",null,n),proto.SopFile.File=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.SopFile.File,i.Message),o.DEBUG&&!COMPILED&&(proto.SopFile.File.displayName="proto.SopFile.File"),i.Message.GENERATE_TO_OBJECT&&(proto.SopFile.File.prototype.toObject=function(e){return proto.SopFile.File.toObject(e,this)},proto.SopFile.File.toObject=function(e,t){var r,i={timestamp:t.getTimestamp(),remoteDevice:(r=t.getRemoteDevice())&&proto.SopFile.RemoteDevice.toObject(e,r),remoteStatus:(r=t.getRemoteStatus())&&proto.SopFile.RemoteStatus.toObject(e,r),remoteConfig:(r=t.getRemoteConfig())&&proto.SopFile.RemoteConfig.toObject(e,r),localDevice:(r=t.getLocalDevice())&&proto.SopFile.LocalDevice.toObject(e,r),localStatus:(r=t.getLocalStatus())&&proto.SopFile.LocalStatus.toObject(e,r),localConfig:(r=t.getLocalConfig())&&proto.SopFile.LocalConfig.toObject(e,r),acceleration:(r=t.getAcceleration())&&proto.SopFile.Acceleration.toObject(e,r)};return e&&(i.$jspbMessageInstance=t),i}),proto.SopFile.File.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.SopFile.File;return proto.SopFile.File.deserializeBinaryFromReader(r,t)},proto.SopFile.File.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint64();e.setTimestamp(r);break;case 2:r=new proto.SopFile.RemoteDevice;t.readMessage(r,proto.SopFile.RemoteDevice.deserializeBinaryFromReader),e.setRemoteDevice(r);break;case 3:r=new proto.SopFile.RemoteStatus;t.readMessage(r,proto.SopFile.RemoteStatus.deserializeBinaryFromReader),e.setRemoteStatus(r);break;case 4:r=new proto.SopFile.RemoteConfig;t.readMessage(r,proto.SopFile.RemoteConfig.deserializeBinaryFromReader),e.setRemoteConfig(r);break;case 5:r=new proto.SopFile.LocalDevice;t.readMessage(r,proto.SopFile.LocalDevice.deserializeBinaryFromReader),e.setLocalDevice(r);break;case 6:r=new proto.SopFile.LocalStatus;t.readMessage(r,proto.SopFile.LocalStatus.deserializeBinaryFromReader),e.setLocalStatus(r);break;case 7:r=new proto.SopFile.LocalConfig;t.readMessage(r,proto.SopFile.LocalConfig.deserializeBinaryFromReader),e.setLocalConfig(r);break;case 8:r=new proto.SopFile.Acceleration;t.readMessage(r,proto.SopFile.Acceleration.deserializeBinaryFromReader),e.setAcceleration(r);break;default:t.skipField()}}return e},proto.SopFile.File.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.SopFile.File.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.SopFile.File.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getTimestamp())&&e.writeUint64(1,t),null!=(t=this.getRemoteDevice())&&e.writeMessage(2,t,proto.SopFile.RemoteDevice.serializeBinaryToWriter),null!=(t=this.getRemoteStatus())&&e.writeMessage(3,t,proto.SopFile.RemoteStatus.serializeBinaryToWriter),null!=(t=this.getRemoteConfig())&&e.writeMessage(4,t,proto.SopFile.RemoteConfig.serializeBinaryToWriter),null!=(t=this.getLocalDevice())&&e.writeMessage(5,t,proto.SopFile.LocalDevice.serializeBinaryToWriter),null!=(t=this.getLocalStatus())&&e.writeMessage(6,t,proto.SopFile.LocalStatus.serializeBinaryToWriter),null!=(t=this.getLocalConfig())&&e.writeMessage(7,t,proto.SopFile.LocalConfig.serializeBinaryToWriter),null!=(t=this.getAcceleration())&&e.writeMessage(8,t,proto.SopFile.Acceleration.serializeBinaryToWriter)},proto.SopFile.File.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.SopFile.File.prototype.getTimestamp=function(){return i.Message.getFieldProto3(this,1,0)},proto.SopFile.File.prototype.setTimestamp=function(e){i.Message.setField(this,1,e)},proto.SopFile.File.prototype.getRemoteDevice=function(){return i.Message.getWrapperField(this,proto.SopFile.RemoteDevice,2)},proto.SopFile.File.prototype.setRemoteDevice=function(e){i.Message.setWrapperField(this,2,e)},proto.SopFile.File.prototype.clearRemoteDevice=function(){this.setRemoteDevice(void 0)},proto.SopFile.File.prototype.hasRemoteDevice=function(){return null!=i.Message.getField(this,2)},proto.SopFile.File.prototype.getRemoteStatus=function(){return i.Message.getWrapperField(this,proto.SopFile.RemoteStatus,3)},proto.SopFile.File.prototype.setRemoteStatus=function(e){i.Message.setWrapperField(this,3,e)},proto.SopFile.File.prototype.clearRemoteStatus=function(){this.setRemoteStatus(void 0)},proto.SopFile.File.prototype.hasRemoteStatus=function(){return null!=i.Message.getField(this,3)},proto.SopFile.File.prototype.getRemoteConfig=function(){return i.Message.getWrapperField(this,proto.SopFile.RemoteConfig,4)},proto.SopFile.File.prototype.setRemoteConfig=function(e){i.Message.setWrapperField(this,4,e)},proto.SopFile.File.prototype.clearRemoteConfig=function(){this.setRemoteConfig(void 0)},proto.SopFile.File.prototype.hasRemoteConfig=function(){return null!=i.Message.getField(this,4)},proto.SopFile.File.prototype.getLocalDevice=function(){return i.Message.getWrapperField(this,proto.SopFile.LocalDevice,5)},proto.SopFile.File.prototype.setLocalDevice=function(e){i.Message.setWrapperField(this,5,e)},proto.SopFile.File.prototype.clearLocalDevice=function(){this.setLocalDevice(void 0)},proto.SopFile.File.prototype.hasLocalDevice=function(){return null!=i.Message.getField(this,5)},proto.SopFile.File.prototype.getLocalStatus=function(){return i.Message.getWrapperField(this,proto.SopFile.LocalStatus,6)},proto.SopFile.File.prototype.setLocalStatus=function(e){i.Message.setWrapperField(this,6,e)},proto.SopFile.File.prototype.clearLocalStatus=function(){this.setLocalStatus(void 0)},proto.SopFile.File.prototype.hasLocalStatus=function(){return null!=i.Message.getField(this,6)},proto.SopFile.File.prototype.getLocalConfig=function(){return i.Message.getWrapperField(this,proto.SopFile.LocalConfig,7)},proto.SopFile.File.prototype.setLocalConfig=function(e){i.Message.setWrapperField(this,7,e)},proto.SopFile.File.prototype.clearLocalConfig=function(){this.setLocalConfig(void 0)},proto.SopFile.File.prototype.hasLocalConfig=function(){return null!=i.Message.getField(this,7)},proto.SopFile.File.prototype.getAcceleration=function(){return i.Message.getWrapperField(this,proto.SopFile.Acceleration,8)},proto.SopFile.File.prototype.setAcceleration=function(e){i.Message.setWrapperField(this,8,e)},proto.SopFile.File.prototype.clearAcceleration=function(){this.setAcceleration(void 0)},proto.SopFile.File.prototype.hasAcceleration=function(){return null!=i.Message.getField(this,8)},proto.SopFile.RemoteDevice=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.SopFile.RemoteDevice,i.Message),o.DEBUG&&!COMPILED&&(proto.SopFile.RemoteDevice.displayName="proto.SopFile.RemoteDevice"),i.Message.GENERATE_TO_OBJECT&&(proto.SopFile.RemoteDevice.prototype.toObject=function(e){return proto.SopFile.RemoteDevice.toObject(e,this)},proto.SopFile.RemoteDevice.toObject=function(e,t){var r={address:t.getAddress(),uuid:t.getUuid(),type:t.getType(),name:t.getName(),firmwareVersion:t.getFirmwareVersion()};return e&&(r.$jspbMessageInstance=t),r}),proto.SopFile.RemoteDevice.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.SopFile.RemoteDevice;return proto.SopFile.RemoteDevice.deserializeBinaryFromReader(r,t)},proto.SopFile.RemoteDevice.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setAddress(r);break;case 2:r=t.readString();e.setUuid(r);break;case 3:r=t.readString();e.setType(r);break;case 4:r=t.readString();e.setName(r);break;case 5:r=t.readUint32();e.setFirmwareVersion(r);break;default:t.skipField()}}return e},proto.SopFile.RemoteDevice.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.SopFile.RemoteDevice.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.SopFile.RemoteDevice.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getAddress()).length>0&&e.writeString(1,t),(t=this.getUuid()).length>0&&e.writeString(2,t),(t=this.getType()).length>0&&e.writeString(3,t),(t=this.getName()).length>0&&e.writeString(4,t),0!==(t=this.getFirmwareVersion())&&e.writeUint32(5,t)},proto.SopFile.RemoteDevice.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.SopFile.RemoteDevice.prototype.getAddress=function(){return i.Message.getFieldProto3(this,1,"")},proto.SopFile.RemoteDevice.prototype.setAddress=function(e){i.Message.setField(this,1,e)},proto.SopFile.RemoteDevice.prototype.getUuid=function(){return i.Message.getFieldProto3(this,2,"")},proto.SopFile.RemoteDevice.prototype.setUuid=function(e){i.Message.setField(this,2,e)},proto.SopFile.RemoteDevice.prototype.getType=function(){return i.Message.getFieldProto3(this,3,"")},proto.SopFile.RemoteDevice.prototype.setType=function(e){i.Message.setField(this,3,e)},proto.SopFile.RemoteDevice.prototype.getName=function(){return i.Message.getFieldProto3(this,4,"")},proto.SopFile.RemoteDevice.prototype.setName=function(e){i.Message.setField(this,4,e)},proto.SopFile.RemoteDevice.prototype.getFirmwareVersion=function(){return i.Message.getFieldProto3(this,5,0)},proto.SopFile.RemoteDevice.prototype.setFirmwareVersion=function(e){i.Message.setField(this,5,e)},proto.SopFile.RemoteStatus=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.SopFile.RemoteStatus,i.Message),o.DEBUG&&!COMPILED&&(proto.SopFile.RemoteStatus.displayName="proto.SopFile.RemoteStatus"),i.Message.GENERATE_TO_OBJECT&&(proto.SopFile.RemoteStatus.prototype.toObject=function(e){return proto.SopFile.RemoteStatus.toObject(e,this)},proto.SopFile.RemoteStatus.toObject=function(e,t){var r={packetCounter:t.getPacketCounter(),configNumber:t.getConfigNumber(),rssi:t.getRssi(),capacitance:t.getCapacitance(),temperature:t.getTemperature(),temperatureInternal:t.getTemperatureInternal(),batteryVoltage:t.getBatteryVoltage(),restartsUnknown:t.getRestartsUnknown(),restartsSoftware:t.getRestartsSoftware(),restartsWatchdog:t.getRestartsWatchdog()};return e&&(r.$jspbMessageInstance=t),r}),proto.SopFile.RemoteStatus.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.SopFile.RemoteStatus;return proto.SopFile.RemoteStatus.deserializeBinaryFromReader(r,t)},proto.SopFile.RemoteStatus.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint32();e.setPacketCounter(r);break;case 2:r=t.readUint32();e.setConfigNumber(r);break;case 3:r=t.readInt32();e.setRssi(r);break;case 4:r=t.readFloat();e.setCapacitance(r);break;case 5:r=t.readFloat();e.setTemperature(r);break;case 6:r=t.readFloat();e.setTemperatureInternal(r);break;case 7:r=t.readFloat();e.setBatteryVoltage(r);break;case 8:r=t.readUint32();e.setRestartsUnknown(r);break;case 9:r=t.readUint32();e.setRestartsSoftware(r);break;case 10:r=t.readUint32();e.setRestartsWatchdog(r);break;default:t.skipField()}}return e},proto.SopFile.RemoteStatus.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.SopFile.RemoteStatus.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.SopFile.RemoteStatus.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getPacketCounter())&&e.writeUint32(1,t),0!==(t=this.getConfigNumber())&&e.writeUint32(2,t),0!==(t=this.getRssi())&&e.writeInt32(3,t),0!==(t=this.getCapacitance())&&e.writeFloat(4,t),0!==(t=this.getTemperature())&&e.writeFloat(5,t),0!==(t=this.getTemperatureInternal())&&e.writeFloat(6,t),0!==(t=this.getBatteryVoltage())&&e.writeFloat(7,t),0!==(t=this.getRestartsUnknown())&&e.writeUint32(8,t),0!==(t=this.getRestartsSoftware())&&e.writeUint32(9,t),0!==(t=this.getRestartsWatchdog())&&e.writeUint32(10,t)},proto.SopFile.RemoteStatus.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.SopFile.RemoteStatus.prototype.getPacketCounter=function(){return i.Message.getFieldProto3(this,1,0)},proto.SopFile.RemoteStatus.prototype.setPacketCounter=function(e){i.Message.setField(this,1,e)},proto.SopFile.RemoteStatus.prototype.getConfigNumber=function(){return i.Message.getFieldProto3(this,2,0)},proto.SopFile.RemoteStatus.prototype.setConfigNumber=function(e){i.Message.setField(this,2,e)},proto.SopFile.RemoteStatus.prototype.getRssi=function(){return i.Message.getFieldProto3(this,3,0)},proto.SopFile.RemoteStatus.prototype.setRssi=function(e){i.Message.setField(this,3,e)},proto.SopFile.RemoteStatus.prototype.getCapacitance=function(){return i.Message.getFieldProto3(this,4,0)},proto.SopFile.RemoteStatus.prototype.setCapacitance=function(e){i.Message.setField(this,4,e)},proto.SopFile.RemoteStatus.prototype.getTemperature=function(){return i.Message.getFieldProto3(this,5,0)},proto.SopFile.RemoteStatus.prototype.setTemperature=function(e){i.Message.setField(this,5,e)},proto.SopFile.RemoteStatus.prototype.getTemperatureInternal=function(){return i.Message.getFieldProto3(this,6,0)},proto.SopFile.RemoteStatus.prototype.setTemperatureInternal=function(e){i.Message.setField(this,6,e)},proto.SopFile.RemoteStatus.prototype.getBatteryVoltage=function(){return i.Message.getFieldProto3(this,7,0)},proto.SopFile.RemoteStatus.prototype.setBatteryVoltage=function(e){i.Message.setField(this,7,e)},proto.SopFile.RemoteStatus.prototype.getRestartsUnknown=function(){return i.Message.getFieldProto3(this,8,0)},proto.SopFile.RemoteStatus.prototype.setRestartsUnknown=function(e){i.Message.setField(this,8,e)},proto.SopFile.RemoteStatus.prototype.getRestartsSoftware=function(){return i.Message.getFieldProto3(this,9,0)},proto.SopFile.RemoteStatus.prototype.setRestartsSoftware=function(e){i.Message.setField(this,9,e)},proto.SopFile.RemoteStatus.prototype.getRestartsWatchdog=function(){return i.Message.getFieldProto3(this,10,0)},proto.SopFile.RemoteStatus.prototype.setRestartsWatchdog=function(e){i.Message.setField(this,10,e)},proto.SopFile.RemoteConfig=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.SopFile.RemoteConfig,i.Message),o.DEBUG&&!COMPILED&&(proto.SopFile.RemoteConfig.displayName="proto.SopFile.RemoteConfig"),i.Message.GENERATE_TO_OBJECT&&(proto.SopFile.RemoteConfig.prototype.toObject=function(e){return proto.SopFile.RemoteConfig.toObject(e,this)},proto.SopFile.RemoteConfig.toObject=function(e,t){var r={wakeupWindow:t.getWakeupWindow(),sleepTime:t.getSleepTime(),samplingInterval:t.getSamplingInterval(),capDacA:t.getCapDacA(),capDacB:t.getCapDacB(),capOffset:t.getCapOffset(),capGain:t.getCapGain(),capCtrl:t.getCapCtrl()};return e&&(r.$jspbMessageInstance=t),r}),proto.SopFile.RemoteConfig.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.SopFile.RemoteConfig;return proto.SopFile.RemoteConfig.deserializeBinaryFromReader(r,t)},proto.SopFile.RemoteConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint32();e.setWakeupWindow(r);break;case 2:r=t.readUint32();e.setSleepTime(r);break;case 3:r=t.readUint32();e.setSamplingInterval(r);break;case 4:r=t.readUint32();e.setCapDacA(r);break;case 5:r=t.readUint32();e.setCapDacB(r);break;case 6:r=t.readUint32();e.setCapOffset(r);break;case 7:r=t.readUint32();e.setCapGain(r);break;case 8:r=t.readUint32();e.setCapCtrl(r);break;default:t.skipField()}}return e},proto.SopFile.RemoteConfig.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.SopFile.RemoteConfig.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.SopFile.RemoteConfig.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getWakeupWindow())&&e.writeUint32(1,t),0!==(t=this.getSleepTime())&&e.writeUint32(2,t),0!==(t=this.getSamplingInterval())&&e.writeUint32(3,t),0!==(t=this.getCapDacA())&&e.writeUint32(4,t),0!==(t=this.getCapDacB())&&e.writeUint32(5,t),0!==(t=this.getCapOffset())&&e.writeUint32(6,t),0!==(t=this.getCapGain())&&e.writeUint32(7,t),0!==(t=this.getCapCtrl())&&e.writeUint32(8,t)},proto.SopFile.RemoteConfig.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.SopFile.RemoteConfig.prototype.getWakeupWindow=function(){return i.Message.getFieldProto3(this,1,0)},proto.SopFile.RemoteConfig.prototype.setWakeupWindow=function(e){i.Message.setField(this,1,e)},proto.SopFile.RemoteConfig.prototype.getSleepTime=function(){return i.Message.getFieldProto3(this,2,0)},proto.SopFile.RemoteConfig.prototype.setSleepTime=function(e){i.Message.setField(this,2,e)},proto.SopFile.RemoteConfig.prototype.getSamplingInterval=function(){return i.Message.getFieldProto3(this,3,0)},proto.SopFile.RemoteConfig.prototype.setSamplingInterval=function(e){i.Message.setField(this,3,e)},proto.SopFile.RemoteConfig.prototype.getCapDacA=function(){return i.Message.getFieldProto3(this,4,0)},proto.SopFile.RemoteConfig.prototype.setCapDacA=function(e){i.Message.setField(this,4,e)},proto.SopFile.RemoteConfig.prototype.getCapDacB=function(){return i.Message.getFieldProto3(this,5,0)},proto.SopFile.RemoteConfig.prototype.setCapDacB=function(e){i.Message.setField(this,5,e)},proto.SopFile.RemoteConfig.prototype.getCapOffset=function(){return i.Message.getFieldProto3(this,6,0)},proto.SopFile.RemoteConfig.prototype.setCapOffset=function(e){i.Message.setField(this,6,e)},proto.SopFile.RemoteConfig.prototype.getCapGain=function(){return i.Message.getFieldProto3(this,7,0)},proto.SopFile.RemoteConfig.prototype.setCapGain=function(e){i.Message.setField(this,7,e)},proto.SopFile.RemoteConfig.prototype.getCapCtrl=function(){return i.Message.getFieldProto3(this,8,0)},proto.SopFile.RemoteConfig.prototype.setCapCtrl=function(e){i.Message.setField(this,8,e)},proto.SopFile.LocalDevice=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.SopFile.LocalDevice,i.Message),o.DEBUG&&!COMPILED&&(proto.SopFile.LocalDevice.displayName="proto.SopFile.LocalDevice"),i.Message.GENERATE_TO_OBJECT&&(proto.SopFile.LocalDevice.prototype.toObject=function(e){return proto.SopFile.LocalDevice.toObject(e,this)},proto.SopFile.LocalDevice.toObject=function(e,t){var r={identifier:t.getIdentifier(),firmwareVersion:t.getFirmwareVersion()};return e&&(r.$jspbMessageInstance=t),r}),proto.SopFile.LocalDevice.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.SopFile.LocalDevice;return proto.SopFile.LocalDevice.deserializeBinaryFromReader(r,t)},proto.SopFile.LocalDevice.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setIdentifier(r);break;case 2:r=t.readUint32();e.setFirmwareVersion(r);break;default:t.skipField()}}return e},proto.SopFile.LocalDevice.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.SopFile.LocalDevice.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.SopFile.LocalDevice.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getIdentifier()).length>0&&e.writeString(1,t),0!==(t=this.getFirmwareVersion())&&e.writeUint32(2,t)},proto.SopFile.LocalDevice.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.SopFile.LocalDevice.prototype.getIdentifier=function(){return i.Message.getFieldProto3(this,1,"")},proto.SopFile.LocalDevice.prototype.setIdentifier=function(e){i.Message.setField(this,1,e)},proto.SopFile.LocalDevice.prototype.getFirmwareVersion=function(){return i.Message.getFieldProto3(this,2,0)},proto.SopFile.LocalDevice.prototype.setFirmwareVersion=function(e){i.Message.setField(this,2,e)},proto.SopFile.LocalStatus=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.SopFile.LocalStatus,i.Message),o.DEBUG&&!COMPILED&&(proto.SopFile.LocalStatus.displayName="proto.SopFile.LocalStatus"),i.Message.GENERATE_TO_OBJECT&&(proto.SopFile.LocalStatus.prototype.toObject=function(e){return proto.SopFile.LocalStatus.toObject(e,this)},proto.SopFile.LocalStatus.toObject=function(e,t){var r={uptime:t.getUptime()};return e&&(r.$jspbMessageInstance=t),r}),proto.SopFile.LocalStatus.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.SopFile.LocalStatus;return proto.SopFile.LocalStatus.deserializeBinaryFromReader(r,t)},proto.SopFile.LocalStatus.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint64();e.setUptime(r);break;default:t.skipField()}}return e},proto.SopFile.LocalStatus.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.SopFile.LocalStatus.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.SopFile.LocalStatus.prototype.serializeBinaryToWriter=function(e){var t;0!==(t=this.getUptime())&&e.writeUint64(1,t)},proto.SopFile.LocalStatus.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.SopFile.LocalStatus.prototype.getUptime=function(){return i.Message.getFieldProto3(this,1,0)},proto.SopFile.LocalStatus.prototype.setUptime=function(e){i.Message.setField(this,1,e)},proto.SopFile.LocalConfig=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.SopFile.LocalConfig,i.Message),o.DEBUG&&!COMPILED&&(proto.SopFile.LocalConfig.displayName="proto.SopFile.LocalConfig"),i.Message.GENERATE_TO_OBJECT&&(proto.SopFile.LocalConfig.prototype.toObject=function(e){return proto.SopFile.LocalConfig.toObject(e,this)},proto.SopFile.LocalConfig.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.SopFile.LocalConfig.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.SopFile.LocalConfig;return proto.SopFile.LocalConfig.deserializeBinaryFromReader(r,t)},proto.SopFile.LocalConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){t.getFieldNumber();t.skipField()}return e},proto.SopFile.LocalConfig.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.SopFile.LocalConfig.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.SopFile.LocalConfig.prototype.serializeBinaryToWriter=function(e){},proto.SopFile.LocalConfig.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.SopFile.Data=function(e){i.Message.initialize(this,e,0,-1,proto.SopFile.Data.repeatedFields_,null)},o.inherits(proto.SopFile.Data,i.Message),o.DEBUG&&!COMPILED&&(proto.SopFile.Data.displayName="proto.SopFile.Data"),proto.SopFile.Data.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.SopFile.Data.prototype.toObject=function(e){return proto.SopFile.Data.toObject(e,this)},proto.SopFile.Data.toObject=function(e,t){var r={valuesList:i.Message.getField(t,1)};return e&&(r.$jspbMessageInstance=t),r}),proto.SopFile.Data.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.SopFile.Data;return proto.SopFile.Data.deserializeBinaryFromReader(r,t)},proto.SopFile.Data.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readPackedSint32();e.setValuesList(r);break;default:t.skipField()}}return e},proto.SopFile.Data.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.SopFile.Data.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.SopFile.Data.prototype.serializeBinaryToWriter=function(e){var t;(t=this.getValuesList()).length>0&&e.writePackedSint32(1,t)},proto.SopFile.Data.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.SopFile.Data.prototype.getValuesList=function(){return i.Message.getField(this,1)},proto.SopFile.Data.prototype.setValuesList=function(e){i.Message.setField(this,1,e||[])},proto.SopFile.Data.prototype.clearValuesList=function(){i.Message.setField(this,1,[])},proto.SopFile.Stats=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.SopFile.Stats,i.Message),o.DEBUG&&!COMPILED&&(proto.SopFile.Stats.displayName="proto.SopFile.Stats"),i.Message.GENERATE_TO_OBJECT&&(proto.SopFile.Stats.prototype.toObject=function(e){return proto.SopFile.Stats.toObject(e,this)},proto.SopFile.Stats.toObject=function(e,t){var r={min:t.getMin(),max:t.getMax(),std:t.getStd(),avg:t.getAvg()};return e&&(r.$jspbMessageInstance=t),r}),proto.SopFile.Stats.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.SopFile.Stats;return proto.SopFile.Stats.deserializeBinaryFromReader(r,t)},proto.SopFile.Stats.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readSint32();e.setMin(r);break;case 2:r=t.readSint32();e.setMax(r);break;case 3:r=t.readUint32();e.setStd(r);break;case 4:r=t.readSint32();e.setAvg(r);break;default:t.skipField()}}return e},proto.SopFile.Stats.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.SopFile.Stats.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.SopFile.Stats.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getMin())&&e.writeSint32(1,t),0!==(t=this.getMax())&&e.writeSint32(2,t),0!==(t=this.getStd())&&e.writeUint32(3,t),0!==(t=this.getAvg())&&e.writeSint32(4,t)},proto.SopFile.Stats.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.SopFile.Stats.prototype.getMin=function(){return i.Message.getFieldProto3(this,1,0)},proto.SopFile.Stats.prototype.setMin=function(e){i.Message.setField(this,1,e)},proto.SopFile.Stats.prototype.getMax=function(){return i.Message.getFieldProto3(this,2,0)},proto.SopFile.Stats.prototype.setMax=function(e){i.Message.setField(this,2,e)},proto.SopFile.Stats.prototype.getStd=function(){return i.Message.getFieldProto3(this,3,0)},proto.SopFile.Stats.prototype.setStd=function(e){i.Message.setField(this,3,e)},proto.SopFile.Stats.prototype.getAvg=function(){return i.Message.getFieldProto3(this,4,0)},proto.SopFile.Stats.prototype.setAvg=function(e){i.Message.setField(this,4,e)},proto.SopFile.ChannelStats=function(e){i.Message.initialize(this,e,0,-1,proto.SopFile.ChannelStats.repeatedFields_,null)},o.inherits(proto.SopFile.ChannelStats,i.Message),o.DEBUG&&!COMPILED&&(proto.SopFile.ChannelStats.displayName="proto.SopFile.ChannelStats"),proto.SopFile.ChannelStats.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.SopFile.ChannelStats.prototype.toObject=function(e){return proto.SopFile.ChannelStats.toObject(e,this)},proto.SopFile.ChannelStats.toObject=function(e,t){var r={valuesList:i.Message.toObjectList(t.getValuesList(),proto.SopFile.Stats.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.SopFile.ChannelStats.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.SopFile.ChannelStats;return proto.SopFile.ChannelStats.deserializeBinaryFromReader(r,t)},proto.SopFile.ChannelStats.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.SopFile.Stats;t.readMessage(r,proto.SopFile.Stats.deserializeBinaryFromReader),e.getValuesList().push(r),e.setValuesList(e.getValuesList());break;default:t.skipField()}}return e},proto.SopFile.ChannelStats.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.SopFile.ChannelStats.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.SopFile.ChannelStats.prototype.serializeBinaryToWriter=function(e){var t;(t=this.getValuesList()).length>0&&e.writeRepeatedMessage(1,t,proto.SopFile.Stats.serializeBinaryToWriter)},proto.SopFile.ChannelStats.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.SopFile.ChannelStats.prototype.getValuesList=function(){return i.Message.getRepeatedWrapperField(this,proto.SopFile.Stats,1)},proto.SopFile.ChannelStats.prototype.setValuesList=function(e){i.Message.setRepeatedWrapperField(this,1,e)},proto.SopFile.ChannelStats.prototype.clearValuesList=function(){this.setValuesList([])},proto.SopFile.Acceleration=function(e){i.Message.initialize(this,e,0,-1,proto.SopFile.Acceleration.repeatedFields_,null)},o.inherits(proto.SopFile.Acceleration,i.Message),o.DEBUG&&!COMPILED&&(proto.SopFile.Acceleration.displayName="proto.SopFile.Acceleration"),proto.SopFile.Acceleration.repeatedFields_=[1,3],i.Message.GENERATE_TO_OBJECT&&(proto.SopFile.Acceleration.prototype.toObject=function(e){return proto.SopFile.Acceleration.toObject(e,this)},proto.SopFile.Acceleration.toObject=function(e,t){var r={samplesList:i.Message.toObjectList(t.getSamplesList(),proto.SopFile.Data.toObject,e),samplingRate:t.getSamplingRate(),statsList:i.Message.toObjectList(t.getStatsList(),proto.SopFile.ChannelStats.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.SopFile.Acceleration.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.SopFile.Acceleration;return proto.SopFile.Acceleration.deserializeBinaryFromReader(r,t)},proto.SopFile.Acceleration.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.SopFile.Data;t.readMessage(r,proto.SopFile.Data.deserializeBinaryFromReader),e.getSamplesList().push(r),e.setSamplesList(e.getSamplesList());break;case 2:r=t.readUint32();e.setSamplingRate(r);break;case 3:r=new proto.SopFile.ChannelStats;t.readMessage(r,proto.SopFile.ChannelStats.deserializeBinaryFromReader),e.getStatsList().push(r),e.setStatsList(e.getStatsList());break;default:t.skipField()}}return e},proto.SopFile.Acceleration.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.SopFile.Acceleration.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.SopFile.Acceleration.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getSamplesList()).length>0&&e.writeRepeatedMessage(1,t,proto.SopFile.Data.serializeBinaryToWriter),0!==(t=this.getSamplingRate())&&e.writeUint32(2,t),(t=this.getStatsList()).length>0&&e.writeRepeatedMessage(3,t,proto.SopFile.ChannelStats.serializeBinaryToWriter)},proto.SopFile.Acceleration.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.SopFile.Acceleration.prototype.getSamplesList=function(){return i.Message.getRepeatedWrapperField(this,proto.SopFile.Data,1)},proto.SopFile.Acceleration.prototype.setSamplesList=function(e){i.Message.setRepeatedWrapperField(this,1,e)},proto.SopFile.Acceleration.prototype.clearSamplesList=function(){this.setSamplesList([])},proto.SopFile.Acceleration.prototype.getSamplingRate=function(){return i.Message.getFieldProto3(this,2,0)},proto.SopFile.Acceleration.prototype.setSamplingRate=function(e){i.Message.setField(this,2,e)},proto.SopFile.Acceleration.prototype.getStatsList=function(){return i.Message.getRepeatedWrapperField(this,proto.SopFile.ChannelStats,3)},proto.SopFile.Acceleration.prototype.setStatsList=function(e){i.Message.setRepeatedWrapperField(this,3,e)},proto.SopFile.Acceleration.prototype.clearStatsList=function(){this.setStatsList([])},o.object.extend(t,proto.SopFile)},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i="app:",o=i+"transceiver:",n=i+"ast:",s=i+"bcm:",a=i+"mt:",l=i+"sop:",c=i+"cw:",u=i+"wa:",d=i+"dpm:",g=i+"atl:";class p{static init(e){p.socket=e}static emitGeneric(e,...t){p.socket&&p.socket.emit(e,...t)}static emitApp(e,...t){p.socket&&p.socket.emit(i+e,...t)}static emitTransceiver(e,...t){p.socket&&p.socket.emit(o+e,...t)}static emitAstute(e,t,...r){p.socket&&p.socket.emit(n+e,t,...r)}static emitBcm(e,t,...r){p.socket&&p.socket.emit(s+e,t,...r)}static emitMt(e,t,...r){p.socket&&p.socket.emit(a+e,t,...r)}static emitSop(e,t,...r){p.socket&&p.socket.emit(l+e,t,...r)}static emitCarbonWear(e,t,...r){p.socket&&p.socket.emit(c+e,t,...r)}static emitWirelessAccel(e,t,...r){p.socket&&p.socket.emit(u+e,t,...r)}static emitDpm(e,t,...r){p.socket&&p.socket.emit(d+e,t,...r)}static emitAtl(e,t,...r){p.socket&&p.socket.emit(g+e,t,...r)}}t.TdEvent=p,p.socket=null},function(e,t,r){var i=r(5),o=i,n=Function("return this")();o.exportSymbol("proto.WirelessAccelFile.Acceleration",null,n),o.exportSymbol("proto.WirelessAccelFile.Data",null,n),o.exportSymbol("proto.WirelessAccelFile.File",null,n),o.exportSymbol("proto.WirelessAccelFile.Gyroscope",null,n),o.exportSymbol("proto.WirelessAccelFile.LocalConfig",null,n),o.exportSymbol("proto.WirelessAccelFile.LocalDevice",null,n),o.exportSymbol("proto.WirelessAccelFile.LocalStatus",null,n),o.exportSymbol("proto.WirelessAccelFile.RemoteConfig",null,n),o.exportSymbol("proto.WirelessAccelFile.RemoteDevice",null,n),o.exportSymbol("proto.WirelessAccelFile.RemoteStatus",null,n),proto.WirelessAccelFile.File=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.WirelessAccelFile.File,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelFile.File.displayName="proto.WirelessAccelFile.File"),i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelFile.File.prototype.toObject=function(e){return proto.WirelessAccelFile.File.toObject(e,this)},proto.WirelessAccelFile.File.toObject=function(e,t){var r,i={timestamp:t.getTimestamp(),remoteDevice:(r=t.getRemoteDevice())&&proto.WirelessAccelFile.RemoteDevice.toObject(e,r),remoteStatus:(r=t.getRemoteStatus())&&proto.WirelessAccelFile.RemoteStatus.toObject(e,r),remoteConfig:(r=t.getRemoteConfig())&&proto.WirelessAccelFile.RemoteConfig.toObject(e,r),localDevice:(r=t.getLocalDevice())&&proto.WirelessAccelFile.LocalDevice.toObject(e,r),localStatus:(r=t.getLocalStatus())&&proto.WirelessAccelFile.LocalStatus.toObject(e,r),localConfig:(r=t.getLocalConfig())&&proto.WirelessAccelFile.LocalConfig.toObject(e,r),acceleration:(r=t.getAcceleration())&&proto.WirelessAccelFile.Acceleration.toObject(e,r),gyroscope:(r=t.getGyroscope())&&proto.WirelessAccelFile.Gyroscope.toObject(e,r)};return e&&(i.$jspbMessageInstance=t),i}),proto.WirelessAccelFile.File.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelFile.File;return proto.WirelessAccelFile.File.deserializeBinaryFromReader(r,t)},proto.WirelessAccelFile.File.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint64();e.setTimestamp(r);break;case 2:r=new proto.WirelessAccelFile.RemoteDevice;t.readMessage(r,proto.WirelessAccelFile.RemoteDevice.deserializeBinaryFromReader),e.setRemoteDevice(r);break;case 3:r=new proto.WirelessAccelFile.RemoteStatus;t.readMessage(r,proto.WirelessAccelFile.RemoteStatus.deserializeBinaryFromReader),e.setRemoteStatus(r);break;case 4:r=new proto.WirelessAccelFile.RemoteConfig;t.readMessage(r,proto.WirelessAccelFile.RemoteConfig.deserializeBinaryFromReader),e.setRemoteConfig(r);break;case 5:r=new proto.WirelessAccelFile.LocalDevice;t.readMessage(r,proto.WirelessAccelFile.LocalDevice.deserializeBinaryFromReader),e.setLocalDevice(r);break;case 6:r=new proto.WirelessAccelFile.LocalStatus;t.readMessage(r,proto.WirelessAccelFile.LocalStatus.deserializeBinaryFromReader),e.setLocalStatus(r);break;case 7:r=new proto.WirelessAccelFile.LocalConfig;t.readMessage(r,proto.WirelessAccelFile.LocalConfig.deserializeBinaryFromReader),e.setLocalConfig(r);break;case 8:r=new proto.WirelessAccelFile.Acceleration;t.readMessage(r,proto.WirelessAccelFile.Acceleration.deserializeBinaryFromReader),e.setAcceleration(r);break;case 9:r=new proto.WirelessAccelFile.Gyroscope;t.readMessage(r,proto.WirelessAccelFile.Gyroscope.deserializeBinaryFromReader),e.setGyroscope(r);break;default:t.skipField()}}return e},proto.WirelessAccelFile.File.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelFile.File.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelFile.File.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getTimestamp())&&e.writeUint64(1,t),null!=(t=this.getRemoteDevice())&&e.writeMessage(2,t,proto.WirelessAccelFile.RemoteDevice.serializeBinaryToWriter),null!=(t=this.getRemoteStatus())&&e.writeMessage(3,t,proto.WirelessAccelFile.RemoteStatus.serializeBinaryToWriter),null!=(t=this.getRemoteConfig())&&e.writeMessage(4,t,proto.WirelessAccelFile.RemoteConfig.serializeBinaryToWriter),null!=(t=this.getLocalDevice())&&e.writeMessage(5,t,proto.WirelessAccelFile.LocalDevice.serializeBinaryToWriter),null!=(t=this.getLocalStatus())&&e.writeMessage(6,t,proto.WirelessAccelFile.LocalStatus.serializeBinaryToWriter),null!=(t=this.getLocalConfig())&&e.writeMessage(7,t,proto.WirelessAccelFile.LocalConfig.serializeBinaryToWriter),null!=(t=this.getAcceleration())&&e.writeMessage(8,t,proto.WirelessAccelFile.Acceleration.serializeBinaryToWriter),null!=(t=this.getGyroscope())&&e.writeMessage(9,t,proto.WirelessAccelFile.Gyroscope.serializeBinaryToWriter)},proto.WirelessAccelFile.File.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelFile.File.prototype.getTimestamp=function(){return i.Message.getFieldProto3(this,1,0)},proto.WirelessAccelFile.File.prototype.setTimestamp=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelFile.File.prototype.getRemoteDevice=function(){return i.Message.getWrapperField(this,proto.WirelessAccelFile.RemoteDevice,2)},proto.WirelessAccelFile.File.prototype.setRemoteDevice=function(e){i.Message.setWrapperField(this,2,e)},proto.WirelessAccelFile.File.prototype.clearRemoteDevice=function(){this.setRemoteDevice(void 0)},proto.WirelessAccelFile.File.prototype.hasRemoteDevice=function(){return null!=i.Message.getField(this,2)},proto.WirelessAccelFile.File.prototype.getRemoteStatus=function(){return i.Message.getWrapperField(this,proto.WirelessAccelFile.RemoteStatus,3)},proto.WirelessAccelFile.File.prototype.setRemoteStatus=function(e){i.Message.setWrapperField(this,3,e)},proto.WirelessAccelFile.File.prototype.clearRemoteStatus=function(){this.setRemoteStatus(void 0)},proto.WirelessAccelFile.File.prototype.hasRemoteStatus=function(){return null!=i.Message.getField(this,3)},proto.WirelessAccelFile.File.prototype.getRemoteConfig=function(){return i.Message.getWrapperField(this,proto.WirelessAccelFile.RemoteConfig,4)},proto.WirelessAccelFile.File.prototype.setRemoteConfig=function(e){i.Message.setWrapperField(this,4,e)},proto.WirelessAccelFile.File.prototype.clearRemoteConfig=function(){this.setRemoteConfig(void 0)},proto.WirelessAccelFile.File.prototype.hasRemoteConfig=function(){return null!=i.Message.getField(this,4)},proto.WirelessAccelFile.File.prototype.getLocalDevice=function(){return i.Message.getWrapperField(this,proto.WirelessAccelFile.LocalDevice,5)},proto.WirelessAccelFile.File.prototype.setLocalDevice=function(e){i.Message.setWrapperField(this,5,e)},proto.WirelessAccelFile.File.prototype.clearLocalDevice=function(){this.setLocalDevice(void 0)},proto.WirelessAccelFile.File.prototype.hasLocalDevice=function(){return null!=i.Message.getField(this,5)},proto.WirelessAccelFile.File.prototype.getLocalStatus=function(){return i.Message.getWrapperField(this,proto.WirelessAccelFile.LocalStatus,6)},proto.WirelessAccelFile.File.prototype.setLocalStatus=function(e){i.Message.setWrapperField(this,6,e)},proto.WirelessAccelFile.File.prototype.clearLocalStatus=function(){this.setLocalStatus(void 0)},proto.WirelessAccelFile.File.prototype.hasLocalStatus=function(){return null!=i.Message.getField(this,6)},proto.WirelessAccelFile.File.prototype.getLocalConfig=function(){return i.Message.getWrapperField(this,proto.WirelessAccelFile.LocalConfig,7)},proto.WirelessAccelFile.File.prototype.setLocalConfig=function(e){i.Message.setWrapperField(this,7,e)},proto.WirelessAccelFile.File.prototype.clearLocalConfig=function(){this.setLocalConfig(void 0)},proto.WirelessAccelFile.File.prototype.hasLocalConfig=function(){return null!=i.Message.getField(this,7)},proto.WirelessAccelFile.File.prototype.getAcceleration=function(){return i.Message.getWrapperField(this,proto.WirelessAccelFile.Acceleration,8)},proto.WirelessAccelFile.File.prototype.setAcceleration=function(e){i.Message.setWrapperField(this,8,e)},proto.WirelessAccelFile.File.prototype.clearAcceleration=function(){this.setAcceleration(void 0)},proto.WirelessAccelFile.File.prototype.hasAcceleration=function(){return null!=i.Message.getField(this,8)},proto.WirelessAccelFile.File.prototype.getGyroscope=function(){return i.Message.getWrapperField(this,proto.WirelessAccelFile.Gyroscope,9)},proto.WirelessAccelFile.File.prototype.setGyroscope=function(e){i.Message.setWrapperField(this,9,e)},proto.WirelessAccelFile.File.prototype.clearGyroscope=function(){this.setGyroscope(void 0)},proto.WirelessAccelFile.File.prototype.hasGyroscope=function(){return null!=i.Message.getField(this,9)},proto.WirelessAccelFile.RemoteDevice=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.WirelessAccelFile.RemoteDevice,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelFile.RemoteDevice.displayName="proto.WirelessAccelFile.RemoteDevice"),i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelFile.RemoteDevice.prototype.toObject=function(e){return proto.WirelessAccelFile.RemoteDevice.toObject(e,this)},proto.WirelessAccelFile.RemoteDevice.toObject=function(e,t){var r={address:t.getAddress(),uuid:t.getUuid(),type:t.getType(),name:t.getName(),firmwareVersion:t.getFirmwareVersion()};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelFile.RemoteDevice.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelFile.RemoteDevice;return proto.WirelessAccelFile.RemoteDevice.deserializeBinaryFromReader(r,t)},proto.WirelessAccelFile.RemoteDevice.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setAddress(r);break;case 2:r=t.readString();e.setUuid(r);break;case 3:r=t.readString();e.setType(r);break;case 4:r=t.readString();e.setName(r);break;case 5:r=t.readUint32();e.setFirmwareVersion(r);break;default:t.skipField()}}return e},proto.WirelessAccelFile.RemoteDevice.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelFile.RemoteDevice.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelFile.RemoteDevice.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getAddress()).length>0&&e.writeString(1,t),(t=this.getUuid()).length>0&&e.writeString(2,t),(t=this.getType()).length>0&&e.writeString(3,t),(t=this.getName()).length>0&&e.writeString(4,t),0!==(t=this.getFirmwareVersion())&&e.writeUint32(5,t)},proto.WirelessAccelFile.RemoteDevice.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelFile.RemoteDevice.prototype.getAddress=function(){return i.Message.getFieldProto3(this,1,"")},proto.WirelessAccelFile.RemoteDevice.prototype.setAddress=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelFile.RemoteDevice.prototype.getUuid=function(){return i.Message.getFieldProto3(this,2,"")},proto.WirelessAccelFile.RemoteDevice.prototype.setUuid=function(e){i.Message.setField(this,2,e)},proto.WirelessAccelFile.RemoteDevice.prototype.getType=function(){return i.Message.getFieldProto3(this,3,"")},proto.WirelessAccelFile.RemoteDevice.prototype.setType=function(e){i.Message.setField(this,3,e)},proto.WirelessAccelFile.RemoteDevice.prototype.getName=function(){return i.Message.getFieldProto3(this,4,"")},proto.WirelessAccelFile.RemoteDevice.prototype.setName=function(e){i.Message.setField(this,4,e)},proto.WirelessAccelFile.RemoteDevice.prototype.getFirmwareVersion=function(){return i.Message.getFieldProto3(this,5,0)},proto.WirelessAccelFile.RemoteDevice.prototype.setFirmwareVersion=function(e){i.Message.setField(this,5,e)},proto.WirelessAccelFile.RemoteStatus=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.WirelessAccelFile.RemoteStatus,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelFile.RemoteStatus.displayName="proto.WirelessAccelFile.RemoteStatus"),i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelFile.RemoteStatus.prototype.toObject=function(e){return proto.WirelessAccelFile.RemoteStatus.toObject(e,this)},proto.WirelessAccelFile.RemoteStatus.toObject=function(e,t){var r={rssi:t.getRssi(),packetCounter:t.getPacketCounter(),configNumber:t.getConfigNumber(),temperature:t.getTemperature(),batteryVoltage:t.getBatteryVoltage(),restartsUnknown:t.getRestartsUnknown(),restartsSoftware:t.getRestartsSoftware(),restartsWatchdog:t.getRestartsWatchdog(),event:t.getEvent(),accx:t.getAccx(),accy:t.getAccy(),accz:t.getAccz()};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelFile.RemoteStatus.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelFile.RemoteStatus;return proto.WirelessAccelFile.RemoteStatus.deserializeBinaryFromReader(r,t)},proto.WirelessAccelFile.RemoteStatus.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setRssi(r);break;case 2:r=t.readUint32();e.setPacketCounter(r);break;case 3:r=t.readUint32();e.setConfigNumber(r);break;case 4:r=t.readFloat();e.setTemperature(r);break;case 5:r=t.readFloat();e.setBatteryVoltage(r);break;case 7:r=t.readUint32();e.setRestartsUnknown(r);break;case 8:r=t.readUint32();e.setRestartsSoftware(r);break;case 9:r=t.readUint32();e.setRestartsWatchdog(r);break;case 10:r=t.readUint32();e.setEvent(r);break;case 11:r=t.readFloat();e.setAccx(r);break;case 12:r=t.readFloat();e.setAccy(r);break;case 13:r=t.readFloat();e.setAccz(r);break;default:t.skipField()}}return e},proto.WirelessAccelFile.RemoteStatus.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelFile.RemoteStatus.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelFile.RemoteStatus.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getRssi())&&e.writeInt32(1,t),0!==(t=this.getPacketCounter())&&e.writeUint32(2,t),0!==(t=this.getConfigNumber())&&e.writeUint32(3,t),0!==(t=this.getTemperature())&&e.writeFloat(4,t),0!==(t=this.getBatteryVoltage())&&e.writeFloat(5,t),0!==(t=this.getRestartsUnknown())&&e.writeUint32(7,t),0!==(t=this.getRestartsSoftware())&&e.writeUint32(8,t),0!==(t=this.getRestartsWatchdog())&&e.writeUint32(9,t),0!==(t=this.getEvent())&&e.writeUint32(10,t),0!==(t=this.getAccx())&&e.writeFloat(11,t),0!==(t=this.getAccy())&&e.writeFloat(12,t),0!==(t=this.getAccz())&&e.writeFloat(13,t)},proto.WirelessAccelFile.RemoteStatus.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelFile.RemoteStatus.prototype.getRssi=function(){return i.Message.getFieldProto3(this,1,0)},proto.WirelessAccelFile.RemoteStatus.prototype.setRssi=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelFile.RemoteStatus.prototype.getPacketCounter=function(){return i.Message.getFieldProto3(this,2,0)},proto.WirelessAccelFile.RemoteStatus.prototype.setPacketCounter=function(e){i.Message.setField(this,2,e)},proto.WirelessAccelFile.RemoteStatus.prototype.getConfigNumber=function(){return i.Message.getFieldProto3(this,3,0)},proto.WirelessAccelFile.RemoteStatus.prototype.setConfigNumber=function(e){i.Message.setField(this,3,e)},proto.WirelessAccelFile.RemoteStatus.prototype.getTemperature=function(){return i.Message.getFieldProto3(this,4,0)},proto.WirelessAccelFile.RemoteStatus.prototype.setTemperature=function(e){i.Message.setField(this,4,e)},proto.WirelessAccelFile.RemoteStatus.prototype.getBatteryVoltage=function(){return i.Message.getFieldProto3(this,5,0)},proto.WirelessAccelFile.RemoteStatus.prototype.setBatteryVoltage=function(e){i.Message.setField(this,5,e)},proto.WirelessAccelFile.RemoteStatus.prototype.getRestartsUnknown=function(){return i.Message.getFieldProto3(this,7,0)},proto.WirelessAccelFile.RemoteStatus.prototype.setRestartsUnknown=function(e){i.Message.setField(this,7,e)},proto.WirelessAccelFile.RemoteStatus.prototype.getRestartsSoftware=function(){return i.Message.getFieldProto3(this,8,0)},proto.WirelessAccelFile.RemoteStatus.prototype.setRestartsSoftware=function(e){i.Message.setField(this,8,e)},proto.WirelessAccelFile.RemoteStatus.prototype.getRestartsWatchdog=function(){return i.Message.getFieldProto3(this,9,0)},proto.WirelessAccelFile.RemoteStatus.prototype.setRestartsWatchdog=function(e){i.Message.setField(this,9,e)},proto.WirelessAccelFile.RemoteStatus.prototype.getEvent=function(){return i.Message.getFieldProto3(this,10,0)},proto.WirelessAccelFile.RemoteStatus.prototype.setEvent=function(e){i.Message.setField(this,10,e)},proto.WirelessAccelFile.RemoteStatus.prototype.getAccx=function(){return i.Message.getFieldProto3(this,11,0)},proto.WirelessAccelFile.RemoteStatus.prototype.setAccx=function(e){i.Message.setField(this,11,e)},proto.WirelessAccelFile.RemoteStatus.prototype.getAccy=function(){return i.Message.getFieldProto3(this,12,0)},proto.WirelessAccelFile.RemoteStatus.prototype.setAccy=function(e){i.Message.setField(this,12,e)},proto.WirelessAccelFile.RemoteStatus.prototype.getAccz=function(){return i.Message.getFieldProto3(this,13,0)},proto.WirelessAccelFile.RemoteStatus.prototype.setAccz=function(e){i.Message.setField(this,13,e)},proto.WirelessAccelFile.RemoteConfig=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.WirelessAccelFile.RemoteConfig,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelFile.RemoteConfig.displayName="proto.WirelessAccelFile.RemoteConfig"),i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelFile.RemoteConfig.prototype.toObject=function(e){return proto.WirelessAccelFile.RemoteConfig.toObject(e,this)},proto.WirelessAccelFile.RemoteConfig.toObject=function(e,t){var r={wakeupWindow:t.getWakeupWindow(),sleepTime:t.getSleepTime(),connectionTimeout:t.getConnectionTimeout(),internalPa:t.getInternalPa(),modesEnabled:t.getModesEnabled()};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelFile.RemoteConfig.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelFile.RemoteConfig;return proto.WirelessAccelFile.RemoteConfig.deserializeBinaryFromReader(r,t)},proto.WirelessAccelFile.RemoteConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint32();e.setWakeupWindow(r);break;case 2:r=t.readUint32();e.setSleepTime(r);break;case 3:r=t.readUint32();e.setConnectionTimeout(r);break;case 4:r=t.readUint32();e.setInternalPa(r);break;case 5:r=t.readUint32();e.setModesEnabled(r);break;default:t.skipField()}}return e},proto.WirelessAccelFile.RemoteConfig.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelFile.RemoteConfig.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelFile.RemoteConfig.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getWakeupWindow())&&e.writeUint32(1,t),0!==(t=this.getSleepTime())&&e.writeUint32(2,t),0!==(t=this.getConnectionTimeout())&&e.writeUint32(3,t),0!==(t=this.getInternalPa())&&e.writeUint32(4,t),0!==(t=this.getModesEnabled())&&e.writeUint32(5,t)},proto.WirelessAccelFile.RemoteConfig.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelFile.RemoteConfig.prototype.getWakeupWindow=function(){return i.Message.getFieldProto3(this,1,0)},proto.WirelessAccelFile.RemoteConfig.prototype.setWakeupWindow=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelFile.RemoteConfig.prototype.getSleepTime=function(){return i.Message.getFieldProto3(this,2,0)},proto.WirelessAccelFile.RemoteConfig.prototype.setSleepTime=function(e){i.Message.setField(this,2,e)},proto.WirelessAccelFile.RemoteConfig.prototype.getConnectionTimeout=function(){return i.Message.getFieldProto3(this,3,0)},proto.WirelessAccelFile.RemoteConfig.prototype.setConnectionTimeout=function(e){i.Message.setField(this,3,e)},proto.WirelessAccelFile.RemoteConfig.prototype.getInternalPa=function(){return i.Message.getFieldProto3(this,4,0)},proto.WirelessAccelFile.RemoteConfig.prototype.setInternalPa=function(e){i.Message.setField(this,4,e)},proto.WirelessAccelFile.RemoteConfig.prototype.getModesEnabled=function(){return i.Message.getFieldProto3(this,5,0)},proto.WirelessAccelFile.RemoteConfig.prototype.setModesEnabled=function(e){i.Message.setField(this,5,e)},proto.WirelessAccelFile.LocalDevice=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.WirelessAccelFile.LocalDevice,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelFile.LocalDevice.displayName="proto.WirelessAccelFile.LocalDevice"),i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelFile.LocalDevice.prototype.toObject=function(e){return proto.WirelessAccelFile.LocalDevice.toObject(e,this)},proto.WirelessAccelFile.LocalDevice.toObject=function(e,t){var r={identifier:t.getIdentifier(),firmwareVersion:t.getFirmwareVersion()};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelFile.LocalDevice.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelFile.LocalDevice;return proto.WirelessAccelFile.LocalDevice.deserializeBinaryFromReader(r,t)},proto.WirelessAccelFile.LocalDevice.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setIdentifier(r);break;case 2:r=t.readUint32();e.setFirmwareVersion(r);break;default:t.skipField()}}return e},proto.WirelessAccelFile.LocalDevice.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelFile.LocalDevice.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelFile.LocalDevice.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getIdentifier()).length>0&&e.writeString(1,t),0!==(t=this.getFirmwareVersion())&&e.writeUint32(2,t)},proto.WirelessAccelFile.LocalDevice.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelFile.LocalDevice.prototype.getIdentifier=function(){return i.Message.getFieldProto3(this,1,"")},proto.WirelessAccelFile.LocalDevice.prototype.setIdentifier=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelFile.LocalDevice.prototype.getFirmwareVersion=function(){return i.Message.getFieldProto3(this,2,0)},proto.WirelessAccelFile.LocalDevice.prototype.setFirmwareVersion=function(e){i.Message.setField(this,2,e)},proto.WirelessAccelFile.LocalStatus=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.WirelessAccelFile.LocalStatus,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelFile.LocalStatus.displayName="proto.WirelessAccelFile.LocalStatus"),i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelFile.LocalStatus.prototype.toObject=function(e){return proto.WirelessAccelFile.LocalStatus.toObject(e,this)},proto.WirelessAccelFile.LocalStatus.toObject=function(e,t){var r={uptime:t.getUptime()};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelFile.LocalStatus.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelFile.LocalStatus;return proto.WirelessAccelFile.LocalStatus.deserializeBinaryFromReader(r,t)},proto.WirelessAccelFile.LocalStatus.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint64();e.setUptime(r);break;default:t.skipField()}}return e},proto.WirelessAccelFile.LocalStatus.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelFile.LocalStatus.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelFile.LocalStatus.prototype.serializeBinaryToWriter=function(e){var t;0!==(t=this.getUptime())&&e.writeUint64(1,t)},proto.WirelessAccelFile.LocalStatus.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelFile.LocalStatus.prototype.getUptime=function(){return i.Message.getFieldProto3(this,1,0)},proto.WirelessAccelFile.LocalStatus.prototype.setUptime=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelFile.LocalConfig=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.WirelessAccelFile.LocalConfig,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelFile.LocalConfig.displayName="proto.WirelessAccelFile.LocalConfig"),i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelFile.LocalConfig.prototype.toObject=function(e){return proto.WirelessAccelFile.LocalConfig.toObject(e,this)},proto.WirelessAccelFile.LocalConfig.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelFile.LocalConfig.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelFile.LocalConfig;return proto.WirelessAccelFile.LocalConfig.deserializeBinaryFromReader(r,t)},proto.WirelessAccelFile.LocalConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){t.getFieldNumber();t.skipField()}return e},proto.WirelessAccelFile.LocalConfig.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelFile.LocalConfig.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelFile.LocalConfig.prototype.serializeBinaryToWriter=function(e){},proto.WirelessAccelFile.LocalConfig.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelFile.Data=function(e){i.Message.initialize(this,e,0,-1,proto.WirelessAccelFile.Data.repeatedFields_,null)},o.inherits(proto.WirelessAccelFile.Data,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelFile.Data.displayName="proto.WirelessAccelFile.Data"),proto.WirelessAccelFile.Data.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelFile.Data.prototype.toObject=function(e){return proto.WirelessAccelFile.Data.toObject(e,this)},proto.WirelessAccelFile.Data.toObject=function(e,t){var r={valuesList:i.Message.getField(t,1)};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelFile.Data.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelFile.Data;return proto.WirelessAccelFile.Data.deserializeBinaryFromReader(r,t)},proto.WirelessAccelFile.Data.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readPackedSint32();e.setValuesList(r);break;default:t.skipField()}}return e},proto.WirelessAccelFile.Data.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelFile.Data.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelFile.Data.prototype.serializeBinaryToWriter=function(e){var t;(t=this.getValuesList()).length>0&&e.writePackedSint32(1,t)},proto.WirelessAccelFile.Data.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelFile.Data.prototype.getValuesList=function(){return i.Message.getField(this,1)},proto.WirelessAccelFile.Data.prototype.setValuesList=function(e){i.Message.setField(this,1,e||[])},proto.WirelessAccelFile.Data.prototype.clearValuesList=function(){i.Message.setField(this,1,[])},proto.WirelessAccelFile.Acceleration=function(e){i.Message.initialize(this,e,0,-1,proto.WirelessAccelFile.Acceleration.repeatedFields_,null)},o.inherits(proto.WirelessAccelFile.Acceleration,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelFile.Acceleration.displayName="proto.WirelessAccelFile.Acceleration"),proto.WirelessAccelFile.Acceleration.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelFile.Acceleration.prototype.toObject=function(e){return proto.WirelessAccelFile.Acceleration.toObject(e,this)},proto.WirelessAccelFile.Acceleration.toObject=function(e,t){var r={samplesList:i.Message.toObjectList(t.getSamplesList(),proto.WirelessAccelFile.Data.toObject,e),samplingRate:t.getSamplingRate()};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelFile.Acceleration.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelFile.Acceleration;return proto.WirelessAccelFile.Acceleration.deserializeBinaryFromReader(r,t)},proto.WirelessAccelFile.Acceleration.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.WirelessAccelFile.Data;t.readMessage(r,proto.WirelessAccelFile.Data.deserializeBinaryFromReader),e.getSamplesList().push(r),e.setSamplesList(e.getSamplesList());break;case 2:r=t.readUint32();e.setSamplingRate(r);break;default:t.skipField()}}return e},proto.WirelessAccelFile.Acceleration.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelFile.Acceleration.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelFile.Acceleration.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getSamplesList()).length>0&&e.writeRepeatedMessage(1,t,proto.WirelessAccelFile.Data.serializeBinaryToWriter),0!==(t=this.getSamplingRate())&&e.writeUint32(2,t)},proto.WirelessAccelFile.Acceleration.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelFile.Acceleration.prototype.getSamplesList=function(){return i.Message.getRepeatedWrapperField(this,proto.WirelessAccelFile.Data,1)},proto.WirelessAccelFile.Acceleration.prototype.setSamplesList=function(e){i.Message.setRepeatedWrapperField(this,1,e)},proto.WirelessAccelFile.Acceleration.prototype.clearSamplesList=function(){this.setSamplesList([])},proto.WirelessAccelFile.Acceleration.prototype.getSamplingRate=function(){return i.Message.getFieldProto3(this,2,0)},proto.WirelessAccelFile.Acceleration.prototype.setSamplingRate=function(e){i.Message.setField(this,2,e)},proto.WirelessAccelFile.Gyroscope=function(e){i.Message.initialize(this,e,0,-1,proto.WirelessAccelFile.Gyroscope.repeatedFields_,null)},o.inherits(proto.WirelessAccelFile.Gyroscope,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelFile.Gyroscope.displayName="proto.WirelessAccelFile.Gyroscope"),proto.WirelessAccelFile.Gyroscope.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelFile.Gyroscope.prototype.toObject=function(e){return proto.WirelessAccelFile.Gyroscope.toObject(e,this)},proto.WirelessAccelFile.Gyroscope.toObject=function(e,t){var r={samplesList:i.Message.toObjectList(t.getSamplesList(),proto.WirelessAccelFile.Data.toObject,e),samplingRate:t.getSamplingRate()};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelFile.Gyroscope.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelFile.Gyroscope;return proto.WirelessAccelFile.Gyroscope.deserializeBinaryFromReader(r,t)},proto.WirelessAccelFile.Gyroscope.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.WirelessAccelFile.Data;t.readMessage(r,proto.WirelessAccelFile.Data.deserializeBinaryFromReader),e.getSamplesList().push(r),e.setSamplesList(e.getSamplesList());break;case 2:r=t.readUint32();e.setSamplingRate(r);break;default:t.skipField()}}return e},proto.WirelessAccelFile.Gyroscope.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelFile.Gyroscope.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelFile.Gyroscope.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getSamplesList()).length>0&&e.writeRepeatedMessage(1,t,proto.WirelessAccelFile.Data.serializeBinaryToWriter),0!==(t=this.getSamplingRate())&&e.writeUint32(2,t)},proto.WirelessAccelFile.Gyroscope.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelFile.Gyroscope.prototype.getSamplesList=function(){return i.Message.getRepeatedWrapperField(this,proto.WirelessAccelFile.Data,1)},proto.WirelessAccelFile.Gyroscope.prototype.setSamplesList=function(e){i.Message.setRepeatedWrapperField(this,1,e)},proto.WirelessAccelFile.Gyroscope.prototype.clearSamplesList=function(){this.setSamplesList([])},proto.WirelessAccelFile.Gyroscope.prototype.getSamplingRate=function(){return i.Message.getFieldProto3(this,2,0)},proto.WirelessAccelFile.Gyroscope.prototype.setSamplingRate=function(e){i.Message.setField(this,2,e)},o.object.extend(t,proto.WirelessAccelFile)},function(e,t,r){var i=r(5),o=i,n=Function("return this")();o.exportSymbol("proto.CarbonWearFile.Acceleration",null,n),o.exportSymbol("proto.CarbonWearFile.Data",null,n),o.exportSymbol("proto.CarbonWearFile.File",null,n),o.exportSymbol("proto.CarbonWearFile.Gyroscope",null,n),o.exportSymbol("proto.CarbonWearFile.LocalConfig",null,n),o.exportSymbol("proto.CarbonWearFile.LocalDevice",null,n),o.exportSymbol("proto.CarbonWearFile.LocalStatus",null,n),o.exportSymbol("proto.CarbonWearFile.RemoteConfig",null,n),o.exportSymbol("proto.CarbonWearFile.RemoteDevice",null,n),o.exportSymbol("proto.CarbonWearFile.RemoteStatus",null,n),proto.CarbonWearFile.File=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.CarbonWearFile.File,i.Message),o.DEBUG&&!COMPILED&&(proto.CarbonWearFile.File.displayName="proto.CarbonWearFile.File"),i.Message.GENERATE_TO_OBJECT&&(proto.CarbonWearFile.File.prototype.toObject=function(e){return proto.CarbonWearFile.File.toObject(e,this)},proto.CarbonWearFile.File.toObject=function(e,t){var r,i={timestamp:t.getTimestamp(),remoteDevice:(r=t.getRemoteDevice())&&proto.CarbonWearFile.RemoteDevice.toObject(e,r),remoteStatus:(r=t.getRemoteStatus())&&proto.CarbonWearFile.RemoteStatus.toObject(e,r),remoteConfig:(r=t.getRemoteConfig())&&proto.CarbonWearFile.RemoteConfig.toObject(e,r),localDevice:(r=t.getLocalDevice())&&proto.CarbonWearFile.LocalDevice.toObject(e,r),localStatus:(r=t.getLocalStatus())&&proto.CarbonWearFile.LocalStatus.toObject(e,r),localConfig:(r=t.getLocalConfig())&&proto.CarbonWearFile.LocalConfig.toObject(e,r),acceleration:(r=t.getAcceleration())&&proto.CarbonWearFile.Acceleration.toObject(e,r),gyroscope:(r=t.getGyroscope())&&proto.CarbonWearFile.Gyroscope.toObject(e,r)};return e&&(i.$jspbMessageInstance=t),i}),proto.CarbonWearFile.File.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.CarbonWearFile.File;return proto.CarbonWearFile.File.deserializeBinaryFromReader(r,t)},proto.CarbonWearFile.File.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint64();e.setTimestamp(r);break;case 2:r=new proto.CarbonWearFile.RemoteDevice;t.readMessage(r,proto.CarbonWearFile.RemoteDevice.deserializeBinaryFromReader),e.setRemoteDevice(r);break;case 3:r=new proto.CarbonWearFile.RemoteStatus;t.readMessage(r,proto.CarbonWearFile.RemoteStatus.deserializeBinaryFromReader),e.setRemoteStatus(r);break;case 4:r=new proto.CarbonWearFile.RemoteConfig;t.readMessage(r,proto.CarbonWearFile.RemoteConfig.deserializeBinaryFromReader),e.setRemoteConfig(r);break;case 5:r=new proto.CarbonWearFile.LocalDevice;t.readMessage(r,proto.CarbonWearFile.LocalDevice.deserializeBinaryFromReader),e.setLocalDevice(r);break;case 6:r=new proto.CarbonWearFile.LocalStatus;t.readMessage(r,proto.CarbonWearFile.LocalStatus.deserializeBinaryFromReader),e.setLocalStatus(r);break;case 7:r=new proto.CarbonWearFile.LocalConfig;t.readMessage(r,proto.CarbonWearFile.LocalConfig.deserializeBinaryFromReader),e.setLocalConfig(r);break;case 8:r=new proto.CarbonWearFile.Acceleration;t.readMessage(r,proto.CarbonWearFile.Acceleration.deserializeBinaryFromReader),e.setAcceleration(r);break;case 9:r=new proto.CarbonWearFile.Gyroscope;t.readMessage(r,proto.CarbonWearFile.Gyroscope.deserializeBinaryFromReader),e.setGyroscope(r);break;default:t.skipField()}}return e},proto.CarbonWearFile.File.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.CarbonWearFile.File.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.CarbonWearFile.File.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getTimestamp())&&e.writeUint64(1,t),null!=(t=this.getRemoteDevice())&&e.writeMessage(2,t,proto.CarbonWearFile.RemoteDevice.serializeBinaryToWriter),null!=(t=this.getRemoteStatus())&&e.writeMessage(3,t,proto.CarbonWearFile.RemoteStatus.serializeBinaryToWriter),null!=(t=this.getRemoteConfig())&&e.writeMessage(4,t,proto.CarbonWearFile.RemoteConfig.serializeBinaryToWriter),null!=(t=this.getLocalDevice())&&e.writeMessage(5,t,proto.CarbonWearFile.LocalDevice.serializeBinaryToWriter),null!=(t=this.getLocalStatus())&&e.writeMessage(6,t,proto.CarbonWearFile.LocalStatus.serializeBinaryToWriter),null!=(t=this.getLocalConfig())&&e.writeMessage(7,t,proto.CarbonWearFile.LocalConfig.serializeBinaryToWriter),null!=(t=this.getAcceleration())&&e.writeMessage(8,t,proto.CarbonWearFile.Acceleration.serializeBinaryToWriter),null!=(t=this.getGyroscope())&&e.writeMessage(9,t,proto.CarbonWearFile.Gyroscope.serializeBinaryToWriter)},proto.CarbonWearFile.File.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.CarbonWearFile.File.prototype.getTimestamp=function(){return i.Message.getFieldProto3(this,1,0)},proto.CarbonWearFile.File.prototype.setTimestamp=function(e){i.Message.setField(this,1,e)},proto.CarbonWearFile.File.prototype.getRemoteDevice=function(){return i.Message.getWrapperField(this,proto.CarbonWearFile.RemoteDevice,2)},proto.CarbonWearFile.File.prototype.setRemoteDevice=function(e){i.Message.setWrapperField(this,2,e)},proto.CarbonWearFile.File.prototype.clearRemoteDevice=function(){this.setRemoteDevice(void 0)},proto.CarbonWearFile.File.prototype.hasRemoteDevice=function(){return null!=i.Message.getField(this,2)},proto.CarbonWearFile.File.prototype.getRemoteStatus=function(){return i.Message.getWrapperField(this,proto.CarbonWearFile.RemoteStatus,3)},proto.CarbonWearFile.File.prototype.setRemoteStatus=function(e){i.Message.setWrapperField(this,3,e)},proto.CarbonWearFile.File.prototype.clearRemoteStatus=function(){this.setRemoteStatus(void 0)},proto.CarbonWearFile.File.prototype.hasRemoteStatus=function(){return null!=i.Message.getField(this,3)},proto.CarbonWearFile.File.prototype.getRemoteConfig=function(){return i.Message.getWrapperField(this,proto.CarbonWearFile.RemoteConfig,4)},proto.CarbonWearFile.File.prototype.setRemoteConfig=function(e){i.Message.setWrapperField(this,4,e)},proto.CarbonWearFile.File.prototype.clearRemoteConfig=function(){this.setRemoteConfig(void 0)},proto.CarbonWearFile.File.prototype.hasRemoteConfig=function(){return null!=i.Message.getField(this,4)},proto.CarbonWearFile.File.prototype.getLocalDevice=function(){return i.Message.getWrapperField(this,proto.CarbonWearFile.LocalDevice,5)},proto.CarbonWearFile.File.prototype.setLocalDevice=function(e){i.Message.setWrapperField(this,5,e)},proto.CarbonWearFile.File.prototype.clearLocalDevice=function(){this.setLocalDevice(void 0)},proto.CarbonWearFile.File.prototype.hasLocalDevice=function(){return null!=i.Message.getField(this,5)},proto.CarbonWearFile.File.prototype.getLocalStatus=function(){return i.Message.getWrapperField(this,proto.CarbonWearFile.LocalStatus,6)},proto.CarbonWearFile.File.prototype.setLocalStatus=function(e){i.Message.setWrapperField(this,6,e)},proto.CarbonWearFile.File.prototype.clearLocalStatus=function(){this.setLocalStatus(void 0)},proto.CarbonWearFile.File.prototype.hasLocalStatus=function(){return null!=i.Message.getField(this,6)},proto.CarbonWearFile.File.prototype.getLocalConfig=function(){return i.Message.getWrapperField(this,proto.CarbonWearFile.LocalConfig,7)},proto.CarbonWearFile.File.prototype.setLocalConfig=function(e){i.Message.setWrapperField(this,7,e)},proto.CarbonWearFile.File.prototype.clearLocalConfig=function(){this.setLocalConfig(void 0)},proto.CarbonWearFile.File.prototype.hasLocalConfig=function(){return null!=i.Message.getField(this,7)},proto.CarbonWearFile.File.prototype.getAcceleration=function(){return i.Message.getWrapperField(this,proto.CarbonWearFile.Acceleration,8)},proto.CarbonWearFile.File.prototype.setAcceleration=function(e){i.Message.setWrapperField(this,8,e)},proto.CarbonWearFile.File.prototype.clearAcceleration=function(){this.setAcceleration(void 0)},proto.CarbonWearFile.File.prototype.hasAcceleration=function(){return null!=i.Message.getField(this,8)},proto.CarbonWearFile.File.prototype.getGyroscope=function(){return i.Message.getWrapperField(this,proto.CarbonWearFile.Gyroscope,9)},proto.CarbonWearFile.File.prototype.setGyroscope=function(e){i.Message.setWrapperField(this,9,e)},proto.CarbonWearFile.File.prototype.clearGyroscope=function(){this.setGyroscope(void 0)},proto.CarbonWearFile.File.prototype.hasGyroscope=function(){return null!=i.Message.getField(this,9)},proto.CarbonWearFile.RemoteDevice=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.CarbonWearFile.RemoteDevice,i.Message),o.DEBUG&&!COMPILED&&(proto.CarbonWearFile.RemoteDevice.displayName="proto.CarbonWearFile.RemoteDevice"),i.Message.GENERATE_TO_OBJECT&&(proto.CarbonWearFile.RemoteDevice.prototype.toObject=function(e){return proto.CarbonWearFile.RemoteDevice.toObject(e,this)},proto.CarbonWearFile.RemoteDevice.toObject=function(e,t){var r={address:t.getAddress(),uuid:t.getUuid(),type:t.getType(),name:t.getName(),firmwareVersion:t.getFirmwareVersion()};return e&&(r.$jspbMessageInstance=t),r}),proto.CarbonWearFile.RemoteDevice.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.CarbonWearFile.RemoteDevice;return proto.CarbonWearFile.RemoteDevice.deserializeBinaryFromReader(r,t)},proto.CarbonWearFile.RemoteDevice.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setAddress(r);break;case 2:r=t.readString();e.setUuid(r);break;case 3:r=t.readString();e.setType(r);break;case 4:r=t.readString();e.setName(r);break;case 5:r=t.readUint32();e.setFirmwareVersion(r);break;default:t.skipField()}}return e},proto.CarbonWearFile.RemoteDevice.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.CarbonWearFile.RemoteDevice.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.CarbonWearFile.RemoteDevice.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getAddress()).length>0&&e.writeString(1,t),(t=this.getUuid()).length>0&&e.writeString(2,t),(t=this.getType()).length>0&&e.writeString(3,t),(t=this.getName()).length>0&&e.writeString(4,t),0!==(t=this.getFirmwareVersion())&&e.writeUint32(5,t)},proto.CarbonWearFile.RemoteDevice.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.CarbonWearFile.RemoteDevice.prototype.getAddress=function(){return i.Message.getFieldProto3(this,1,"")},proto.CarbonWearFile.RemoteDevice.prototype.setAddress=function(e){i.Message.setField(this,1,e)},proto.CarbonWearFile.RemoteDevice.prototype.getUuid=function(){return i.Message.getFieldProto3(this,2,"")},proto.CarbonWearFile.RemoteDevice.prototype.setUuid=function(e){i.Message.setField(this,2,e)},proto.CarbonWearFile.RemoteDevice.prototype.getType=function(){return i.Message.getFieldProto3(this,3,"")},proto.CarbonWearFile.RemoteDevice.prototype.setType=function(e){i.Message.setField(this,3,e)},proto.CarbonWearFile.RemoteDevice.prototype.getName=function(){return i.Message.getFieldProto3(this,4,"")},proto.CarbonWearFile.RemoteDevice.prototype.setName=function(e){i.Message.setField(this,4,e)},proto.CarbonWearFile.RemoteDevice.prototype.getFirmwareVersion=function(){return i.Message.getFieldProto3(this,5,0)},proto.CarbonWearFile.RemoteDevice.prototype.setFirmwareVersion=function(e){i.Message.setField(this,5,e)},proto.CarbonWearFile.RemoteStatus=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.CarbonWearFile.RemoteStatus,i.Message),o.DEBUG&&!COMPILED&&(proto.CarbonWearFile.RemoteStatus.displayName="proto.CarbonWearFile.RemoteStatus"),i.Message.GENERATE_TO_OBJECT&&(proto.CarbonWearFile.RemoteStatus.prototype.toObject=function(e){return proto.CarbonWearFile.RemoteStatus.toObject(e,this)},proto.CarbonWearFile.RemoteStatus.toObject=function(e,t){var r={rssi:t.getRssi(),packetCounter:t.getPacketCounter(),configNumber:t.getConfigNumber(),temperature:t.getTemperature(),batteryVoltage:t.getBatteryVoltage(),photoArrayRaw:t.getPhotoArrayRaw(),restartsUnknown:t.getRestartsUnknown(),restartsSoftware:t.getRestartsSoftware(),restartsWatchdog:t.getRestartsWatchdog()};return e&&(r.$jspbMessageInstance=t),r}),proto.CarbonWearFile.RemoteStatus.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.CarbonWearFile.RemoteStatus;return proto.CarbonWearFile.RemoteStatus.deserializeBinaryFromReader(r,t)},proto.CarbonWearFile.RemoteStatus.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setRssi(r);break;case 2:r=t.readUint32();e.setPacketCounter(r);break;case 3:r=t.readUint32();e.setConfigNumber(r);break;case 4:r=t.readFloat();e.setTemperature(r);break;case 5:r=t.readFloat();e.setBatteryVoltage(r);break;case 6:r=t.readUint32();e.setPhotoArrayRaw(r);break;case 7:r=t.readUint32();e.setRestartsUnknown(r);break;case 8:r=t.readUint32();e.setRestartsSoftware(r);break;case 9:r=t.readUint32();e.setRestartsWatchdog(r);break;default:t.skipField()}}return e},proto.CarbonWearFile.RemoteStatus.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.CarbonWearFile.RemoteStatus.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.CarbonWearFile.RemoteStatus.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getRssi())&&e.writeInt32(1,t),0!==(t=this.getPacketCounter())&&e.writeUint32(2,t),0!==(t=this.getConfigNumber())&&e.writeUint32(3,t),0!==(t=this.getTemperature())&&e.writeFloat(4,t),0!==(t=this.getBatteryVoltage())&&e.writeFloat(5,t),0!==(t=this.getPhotoArrayRaw())&&e.writeUint32(6,t),0!==(t=this.getRestartsUnknown())&&e.writeUint32(7,t),0!==(t=this.getRestartsSoftware())&&e.writeUint32(8,t),0!==(t=this.getRestartsWatchdog())&&e.writeUint32(9,t)},proto.CarbonWearFile.RemoteStatus.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.CarbonWearFile.RemoteStatus.prototype.getRssi=function(){return i.Message.getFieldProto3(this,1,0)},proto.CarbonWearFile.RemoteStatus.prototype.setRssi=function(e){i.Message.setField(this,1,e)},proto.CarbonWearFile.RemoteStatus.prototype.getPacketCounter=function(){return i.Message.getFieldProto3(this,2,0)},proto.CarbonWearFile.RemoteStatus.prototype.setPacketCounter=function(e){i.Message.setField(this,2,e)},proto.CarbonWearFile.RemoteStatus.prototype.getConfigNumber=function(){return i.Message.getFieldProto3(this,3,0)},proto.CarbonWearFile.RemoteStatus.prototype.setConfigNumber=function(e){i.Message.setField(this,3,e)},proto.CarbonWearFile.RemoteStatus.prototype.getTemperature=function(){return i.Message.getFieldProto3(this,4,0)},proto.CarbonWearFile.RemoteStatus.prototype.setTemperature=function(e){i.Message.setField(this,4,e)},proto.CarbonWearFile.RemoteStatus.prototype.getBatteryVoltage=function(){return i.Message.getFieldProto3(this,5,0)},proto.CarbonWearFile.RemoteStatus.prototype.setBatteryVoltage=function(e){i.Message.setField(this,5,e)},proto.CarbonWearFile.RemoteStatus.prototype.getPhotoArrayRaw=function(){return i.Message.getFieldProto3(this,6,0)},proto.CarbonWearFile.RemoteStatus.prototype.setPhotoArrayRaw=function(e){i.Message.setField(this,6,e)},proto.CarbonWearFile.RemoteStatus.prototype.getRestartsUnknown=function(){return i.Message.getFieldProto3(this,7,0)},proto.CarbonWearFile.RemoteStatus.prototype.setRestartsUnknown=function(e){i.Message.setField(this,7,e)},proto.CarbonWearFile.RemoteStatus.prototype.getRestartsSoftware=function(){return i.Message.getFieldProto3(this,8,0)},proto.CarbonWearFile.RemoteStatus.prototype.setRestartsSoftware=function(e){i.Message.setField(this,8,e)},proto.CarbonWearFile.RemoteStatus.prototype.getRestartsWatchdog=function(){return i.Message.getFieldProto3(this,9,0)},proto.CarbonWearFile.RemoteStatus.prototype.setRestartsWatchdog=function(e){i.Message.setField(this,9,e)},proto.CarbonWearFile.RemoteConfig=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.CarbonWearFile.RemoteConfig,i.Message),o.DEBUG&&!COMPILED&&(proto.CarbonWearFile.RemoteConfig.displayName="proto.CarbonWearFile.RemoteConfig"),i.Message.GENERATE_TO_OBJECT&&(proto.CarbonWearFile.RemoteConfig.prototype.toObject=function(e){return proto.CarbonWearFile.RemoteConfig.toObject(e,this)},proto.CarbonWearFile.RemoteConfig.toObject=function(e,t){var r={wakeupWindow:t.getWakeupWindow(),sleepTime:t.getSleepTime(),samplingInterval:t.getSamplingInterval()};return e&&(r.$jspbMessageInstance=t),r}),proto.CarbonWearFile.RemoteConfig.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.CarbonWearFile.RemoteConfig;return proto.CarbonWearFile.RemoteConfig.deserializeBinaryFromReader(r,t)},proto.CarbonWearFile.RemoteConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint32();e.setWakeupWindow(r);break;case 2:r=t.readUint32();e.setSleepTime(r);break;case 3:r=t.readUint32();e.setSamplingInterval(r);break;default:t.skipField()}}return e},proto.CarbonWearFile.RemoteConfig.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.CarbonWearFile.RemoteConfig.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.CarbonWearFile.RemoteConfig.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getWakeupWindow())&&e.writeUint32(1,t),0!==(t=this.getSleepTime())&&e.writeUint32(2,t),0!==(t=this.getSamplingInterval())&&e.writeUint32(3,t)},proto.CarbonWearFile.RemoteConfig.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.CarbonWearFile.RemoteConfig.prototype.getWakeupWindow=function(){return i.Message.getFieldProto3(this,1,0)},proto.CarbonWearFile.RemoteConfig.prototype.setWakeupWindow=function(e){i.Message.setField(this,1,e)},proto.CarbonWearFile.RemoteConfig.prototype.getSleepTime=function(){return i.Message.getFieldProto3(this,2,0)},proto.CarbonWearFile.RemoteConfig.prototype.setSleepTime=function(e){i.Message.setField(this,2,e)},proto.CarbonWearFile.RemoteConfig.prototype.getSamplingInterval=function(){return i.Message.getFieldProto3(this,3,0)},proto.CarbonWearFile.RemoteConfig.prototype.setSamplingInterval=function(e){i.Message.setField(this,3,e)},proto.CarbonWearFile.LocalDevice=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.CarbonWearFile.LocalDevice,i.Message),o.DEBUG&&!COMPILED&&(proto.CarbonWearFile.LocalDevice.displayName="proto.CarbonWearFile.LocalDevice"),i.Message.GENERATE_TO_OBJECT&&(proto.CarbonWearFile.LocalDevice.prototype.toObject=function(e){return proto.CarbonWearFile.LocalDevice.toObject(e,this)},proto.CarbonWearFile.LocalDevice.toObject=function(e,t){var r={identifier:t.getIdentifier(),firmwareVersion:t.getFirmwareVersion()};return e&&(r.$jspbMessageInstance=t),r}),proto.CarbonWearFile.LocalDevice.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.CarbonWearFile.LocalDevice;return proto.CarbonWearFile.LocalDevice.deserializeBinaryFromReader(r,t)},proto.CarbonWearFile.LocalDevice.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setIdentifier(r);break;case 2:r=t.readUint32();e.setFirmwareVersion(r);break;default:t.skipField()}}return e},proto.CarbonWearFile.LocalDevice.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.CarbonWearFile.LocalDevice.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.CarbonWearFile.LocalDevice.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getIdentifier()).length>0&&e.writeString(1,t),0!==(t=this.getFirmwareVersion())&&e.writeUint32(2,t)},proto.CarbonWearFile.LocalDevice.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.CarbonWearFile.LocalDevice.prototype.getIdentifier=function(){return i.Message.getFieldProto3(this,1,"")},proto.CarbonWearFile.LocalDevice.prototype.setIdentifier=function(e){i.Message.setField(this,1,e)},proto.CarbonWearFile.LocalDevice.prototype.getFirmwareVersion=function(){return i.Message.getFieldProto3(this,2,0)},proto.CarbonWearFile.LocalDevice.prototype.setFirmwareVersion=function(e){i.Message.setField(this,2,e)},proto.CarbonWearFile.LocalStatus=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.CarbonWearFile.LocalStatus,i.Message),o.DEBUG&&!COMPILED&&(proto.CarbonWearFile.LocalStatus.displayName="proto.CarbonWearFile.LocalStatus"),i.Message.GENERATE_TO_OBJECT&&(proto.CarbonWearFile.LocalStatus.prototype.toObject=function(e){return proto.CarbonWearFile.LocalStatus.toObject(e,this)},proto.CarbonWearFile.LocalStatus.toObject=function(e,t){var r={uptime:t.getUptime()};return e&&(r.$jspbMessageInstance=t),r}),proto.CarbonWearFile.LocalStatus.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.CarbonWearFile.LocalStatus;return proto.CarbonWearFile.LocalStatus.deserializeBinaryFromReader(r,t)},proto.CarbonWearFile.LocalStatus.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint64();e.setUptime(r);break;default:t.skipField()}}return e},proto.CarbonWearFile.LocalStatus.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.CarbonWearFile.LocalStatus.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.CarbonWearFile.LocalStatus.prototype.serializeBinaryToWriter=function(e){var t;0!==(t=this.getUptime())&&e.writeUint64(1,t)},proto.CarbonWearFile.LocalStatus.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.CarbonWearFile.LocalStatus.prototype.getUptime=function(){return i.Message.getFieldProto3(this,1,0)},proto.CarbonWearFile.LocalStatus.prototype.setUptime=function(e){i.Message.setField(this,1,e)},proto.CarbonWearFile.LocalConfig=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.CarbonWearFile.LocalConfig,i.Message),o.DEBUG&&!COMPILED&&(proto.CarbonWearFile.LocalConfig.displayName="proto.CarbonWearFile.LocalConfig"),i.Message.GENERATE_TO_OBJECT&&(proto.CarbonWearFile.LocalConfig.prototype.toObject=function(e){return proto.CarbonWearFile.LocalConfig.toObject(e,this)},proto.CarbonWearFile.LocalConfig.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.CarbonWearFile.LocalConfig.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.CarbonWearFile.LocalConfig;return proto.CarbonWearFile.LocalConfig.deserializeBinaryFromReader(r,t)},proto.CarbonWearFile.LocalConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){t.getFieldNumber();t.skipField()}return e},proto.CarbonWearFile.LocalConfig.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.CarbonWearFile.LocalConfig.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.CarbonWearFile.LocalConfig.prototype.serializeBinaryToWriter=function(e){},proto.CarbonWearFile.LocalConfig.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.CarbonWearFile.Data=function(e){i.Message.initialize(this,e,0,-1,proto.CarbonWearFile.Data.repeatedFields_,null)},o.inherits(proto.CarbonWearFile.Data,i.Message),o.DEBUG&&!COMPILED&&(proto.CarbonWearFile.Data.displayName="proto.CarbonWearFile.Data"),proto.CarbonWearFile.Data.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.CarbonWearFile.Data.prototype.toObject=function(e){return proto.CarbonWearFile.Data.toObject(e,this)},proto.CarbonWearFile.Data.toObject=function(e,t){var r={valuesList:i.Message.getField(t,1)};return e&&(r.$jspbMessageInstance=t),r}),proto.CarbonWearFile.Data.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.CarbonWearFile.Data;return proto.CarbonWearFile.Data.deserializeBinaryFromReader(r,t)},proto.CarbonWearFile.Data.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readPackedSint32();e.setValuesList(r);break;default:t.skipField()}}return e},proto.CarbonWearFile.Data.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.CarbonWearFile.Data.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.CarbonWearFile.Data.prototype.serializeBinaryToWriter=function(e){var t;(t=this.getValuesList()).length>0&&e.writePackedSint32(1,t)},proto.CarbonWearFile.Data.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.CarbonWearFile.Data.prototype.getValuesList=function(){return i.Message.getField(this,1)},proto.CarbonWearFile.Data.prototype.setValuesList=function(e){i.Message.setField(this,1,e||[])},proto.CarbonWearFile.Data.prototype.clearValuesList=function(){i.Message.setField(this,1,[])},proto.CarbonWearFile.Acceleration=function(e){i.Message.initialize(this,e,0,-1,proto.CarbonWearFile.Acceleration.repeatedFields_,null)},o.inherits(proto.CarbonWearFile.Acceleration,i.Message),o.DEBUG&&!COMPILED&&(proto.CarbonWearFile.Acceleration.displayName="proto.CarbonWearFile.Acceleration"),proto.CarbonWearFile.Acceleration.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.CarbonWearFile.Acceleration.prototype.toObject=function(e){return proto.CarbonWearFile.Acceleration.toObject(e,this)},proto.CarbonWearFile.Acceleration.toObject=function(e,t){var r={samplesList:i.Message.toObjectList(t.getSamplesList(),proto.CarbonWearFile.Data.toObject,e),samplingRate:t.getSamplingRate()};return e&&(r.$jspbMessageInstance=t),r}),proto.CarbonWearFile.Acceleration.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.CarbonWearFile.Acceleration;return proto.CarbonWearFile.Acceleration.deserializeBinaryFromReader(r,t)},proto.CarbonWearFile.Acceleration.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.CarbonWearFile.Data;t.readMessage(r,proto.CarbonWearFile.Data.deserializeBinaryFromReader),e.getSamplesList().push(r),e.setSamplesList(e.getSamplesList());break;case 2:r=t.readUint32();e.setSamplingRate(r);break;default:t.skipField()}}return e},proto.CarbonWearFile.Acceleration.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.CarbonWearFile.Acceleration.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.CarbonWearFile.Acceleration.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getSamplesList()).length>0&&e.writeRepeatedMessage(1,t,proto.CarbonWearFile.Data.serializeBinaryToWriter),0!==(t=this.getSamplingRate())&&e.writeUint32(2,t)},proto.CarbonWearFile.Acceleration.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.CarbonWearFile.Acceleration.prototype.getSamplesList=function(){return i.Message.getRepeatedWrapperField(this,proto.CarbonWearFile.Data,1)},proto.CarbonWearFile.Acceleration.prototype.setSamplesList=function(e){i.Message.setRepeatedWrapperField(this,1,e)},proto.CarbonWearFile.Acceleration.prototype.clearSamplesList=function(){this.setSamplesList([])},proto.CarbonWearFile.Acceleration.prototype.getSamplingRate=function(){return i.Message.getFieldProto3(this,2,0)},proto.CarbonWearFile.Acceleration.prototype.setSamplingRate=function(e){i.Message.setField(this,2,e)},proto.CarbonWearFile.Gyroscope=function(e){i.Message.initialize(this,e,0,-1,proto.CarbonWearFile.Gyroscope.repeatedFields_,null)},o.inherits(proto.CarbonWearFile.Gyroscope,i.Message),o.DEBUG&&!COMPILED&&(proto.CarbonWearFile.Gyroscope.displayName="proto.CarbonWearFile.Gyroscope"),proto.CarbonWearFile.Gyroscope.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.CarbonWearFile.Gyroscope.prototype.toObject=function(e){return proto.CarbonWearFile.Gyroscope.toObject(e,this)},proto.CarbonWearFile.Gyroscope.toObject=function(e,t){var r={samplesList:i.Message.toObjectList(t.getSamplesList(),proto.CarbonWearFile.Data.toObject,e),samplingRate:t.getSamplingRate()};return e&&(r.$jspbMessageInstance=t),r}),proto.CarbonWearFile.Gyroscope.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.CarbonWearFile.Gyroscope;return proto.CarbonWearFile.Gyroscope.deserializeBinaryFromReader(r,t)},proto.CarbonWearFile.Gyroscope.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.CarbonWearFile.Data;t.readMessage(r,proto.CarbonWearFile.Data.deserializeBinaryFromReader),e.getSamplesList().push(r),e.setSamplesList(e.getSamplesList());break;case 2:r=t.readUint32();e.setSamplingRate(r);break;default:t.skipField()}}return e},proto.CarbonWearFile.Gyroscope.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.CarbonWearFile.Gyroscope.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.CarbonWearFile.Gyroscope.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getSamplesList()).length>0&&e.writeRepeatedMessage(1,t,proto.CarbonWearFile.Data.serializeBinaryToWriter),0!==(t=this.getSamplingRate())&&e.writeUint32(2,t)},proto.CarbonWearFile.Gyroscope.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.CarbonWearFile.Gyroscope.prototype.getSamplesList=function(){return i.Message.getRepeatedWrapperField(this,proto.CarbonWearFile.Data,1)},proto.CarbonWearFile.Gyroscope.prototype.setSamplesList=function(e){i.Message.setRepeatedWrapperField(this,1,e)},proto.CarbonWearFile.Gyroscope.prototype.clearSamplesList=function(){this.setSamplesList([])},proto.CarbonWearFile.Gyroscope.prototype.getSamplingRate=function(){return i.Message.getFieldProto3(this,2,0)},proto.CarbonWearFile.Gyroscope.prototype.setSamplingRate=function(e){i.Message.setField(this,2,e)},o.object.extend(t,proto.CarbonWearFile)},function(e,t,r){var i=r(5),o=i,n=Function("return this")();o.exportSymbol("proto.AtlFile.Acceleration",null,n),o.exportSymbol("proto.AtlFile.AngularRate",null,n),o.exportSymbol("proto.AtlFile.Data",null,n),o.exportSymbol("proto.AtlFile.File",null,n),o.exportSymbol("proto.AtlFile.LocalConfig",null,n),o.exportSymbol("proto.AtlFile.LocalDevice",null,n),o.exportSymbol("proto.AtlFile.LocalStatus",null,n),o.exportSymbol("proto.AtlFile.RemoteConfig",null,n),o.exportSymbol("proto.AtlFile.RemoteDevice",null,n),o.exportSymbol("proto.AtlFile.RemoteStatus",null,n),proto.AtlFile.File=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.AtlFile.File,i.Message),o.DEBUG&&!COMPILED&&(proto.AtlFile.File.displayName="proto.AtlFile.File"),i.Message.GENERATE_TO_OBJECT&&(proto.AtlFile.File.prototype.toObject=function(e){return proto.AtlFile.File.toObject(e,this)},proto.AtlFile.File.toObject=function(e,t){var r,i={timestamp:t.getTimestamp(),remoteDevice:(r=t.getRemoteDevice())&&proto.AtlFile.RemoteDevice.toObject(e,r),remoteStatus:(r=t.getRemoteStatus())&&proto.AtlFile.RemoteStatus.toObject(e,r),remoteConfig:(r=t.getRemoteConfig())&&proto.AtlFile.RemoteConfig.toObject(e,r),localDevice:(r=t.getLocalDevice())&&proto.AtlFile.LocalDevice.toObject(e,r),localStatus:(r=t.getLocalStatus())&&proto.AtlFile.LocalStatus.toObject(e,r),localConfig:(r=t.getLocalConfig())&&proto.AtlFile.LocalConfig.toObject(e,r),acceleration:(r=t.getAcceleration())&&proto.AtlFile.Acceleration.toObject(e,r),angularRate:(r=t.getAngularRate())&&proto.AtlFile.AngularRate.toObject(e,r)};return e&&(i.$jspbMessageInstance=t),i}),proto.AtlFile.File.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AtlFile.File;return proto.AtlFile.File.deserializeBinaryFromReader(r,t)},proto.AtlFile.File.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint64();e.setTimestamp(r);break;case 2:r=new proto.AtlFile.RemoteDevice;t.readMessage(r,proto.AtlFile.RemoteDevice.deserializeBinaryFromReader),e.setRemoteDevice(r);break;case 3:r=new proto.AtlFile.RemoteStatus;t.readMessage(r,proto.AtlFile.RemoteStatus.deserializeBinaryFromReader),e.setRemoteStatus(r);break;case 4:r=new proto.AtlFile.RemoteConfig;t.readMessage(r,proto.AtlFile.RemoteConfig.deserializeBinaryFromReader),e.setRemoteConfig(r);break;case 5:r=new proto.AtlFile.LocalDevice;t.readMessage(r,proto.AtlFile.LocalDevice.deserializeBinaryFromReader),e.setLocalDevice(r);break;case 6:r=new proto.AtlFile.LocalStatus;t.readMessage(r,proto.AtlFile.LocalStatus.deserializeBinaryFromReader),e.setLocalStatus(r);break;case 7:r=new proto.AtlFile.LocalConfig;t.readMessage(r,proto.AtlFile.LocalConfig.deserializeBinaryFromReader),e.setLocalConfig(r);break;case 8:r=new proto.AtlFile.Acceleration;t.readMessage(r,proto.AtlFile.Acceleration.deserializeBinaryFromReader),e.setAcceleration(r);break;case 9:r=new proto.AtlFile.AngularRate;t.readMessage(r,proto.AtlFile.AngularRate.deserializeBinaryFromReader),e.setAngularRate(r);break;default:t.skipField()}}return e},proto.AtlFile.File.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AtlFile.File.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AtlFile.File.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getTimestamp())&&e.writeUint64(1,t),null!=(t=this.getRemoteDevice())&&e.writeMessage(2,t,proto.AtlFile.RemoteDevice.serializeBinaryToWriter),null!=(t=this.getRemoteStatus())&&e.writeMessage(3,t,proto.AtlFile.RemoteStatus.serializeBinaryToWriter),null!=(t=this.getRemoteConfig())&&e.writeMessage(4,t,proto.AtlFile.RemoteConfig.serializeBinaryToWriter),null!=(t=this.getLocalDevice())&&e.writeMessage(5,t,proto.AtlFile.LocalDevice.serializeBinaryToWriter),null!=(t=this.getLocalStatus())&&e.writeMessage(6,t,proto.AtlFile.LocalStatus.serializeBinaryToWriter),null!=(t=this.getLocalConfig())&&e.writeMessage(7,t,proto.AtlFile.LocalConfig.serializeBinaryToWriter),null!=(t=this.getAcceleration())&&e.writeMessage(8,t,proto.AtlFile.Acceleration.serializeBinaryToWriter),null!=(t=this.getAngularRate())&&e.writeMessage(9,t,proto.AtlFile.AngularRate.serializeBinaryToWriter)},proto.AtlFile.File.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AtlFile.File.prototype.getTimestamp=function(){return i.Message.getFieldProto3(this,1,0)},proto.AtlFile.File.prototype.setTimestamp=function(e){i.Message.setField(this,1,e)},proto.AtlFile.File.prototype.getRemoteDevice=function(){return i.Message.getWrapperField(this,proto.AtlFile.RemoteDevice,2)},proto.AtlFile.File.prototype.setRemoteDevice=function(e){i.Message.setWrapperField(this,2,e)},proto.AtlFile.File.prototype.clearRemoteDevice=function(){this.setRemoteDevice(void 0)},proto.AtlFile.File.prototype.hasRemoteDevice=function(){return null!=i.Message.getField(this,2)},proto.AtlFile.File.prototype.getRemoteStatus=function(){return i.Message.getWrapperField(this,proto.AtlFile.RemoteStatus,3)},proto.AtlFile.File.prototype.setRemoteStatus=function(e){i.Message.setWrapperField(this,3,e)},proto.AtlFile.File.prototype.clearRemoteStatus=function(){this.setRemoteStatus(void 0)},proto.AtlFile.File.prototype.hasRemoteStatus=function(){return null!=i.Message.getField(this,3)},proto.AtlFile.File.prototype.getRemoteConfig=function(){return i.Message.getWrapperField(this,proto.AtlFile.RemoteConfig,4)},proto.AtlFile.File.prototype.setRemoteConfig=function(e){i.Message.setWrapperField(this,4,e)},proto.AtlFile.File.prototype.clearRemoteConfig=function(){this.setRemoteConfig(void 0)},proto.AtlFile.File.prototype.hasRemoteConfig=function(){return null!=i.Message.getField(this,4)},proto.AtlFile.File.prototype.getLocalDevice=function(){return i.Message.getWrapperField(this,proto.AtlFile.LocalDevice,5)},proto.AtlFile.File.prototype.setLocalDevice=function(e){i.Message.setWrapperField(this,5,e)},proto.AtlFile.File.prototype.clearLocalDevice=function(){this.setLocalDevice(void 0)},proto.AtlFile.File.prototype.hasLocalDevice=function(){return null!=i.Message.getField(this,5)},proto.AtlFile.File.prototype.getLocalStatus=function(){return i.Message.getWrapperField(this,proto.AtlFile.LocalStatus,6)},proto.AtlFile.File.prototype.setLocalStatus=function(e){i.Message.setWrapperField(this,6,e)},proto.AtlFile.File.prototype.clearLocalStatus=function(){this.setLocalStatus(void 0)},proto.AtlFile.File.prototype.hasLocalStatus=function(){return null!=i.Message.getField(this,6)},proto.AtlFile.File.prototype.getLocalConfig=function(){return i.Message.getWrapperField(this,proto.AtlFile.LocalConfig,7)},proto.AtlFile.File.prototype.setLocalConfig=function(e){i.Message.setWrapperField(this,7,e)},proto.AtlFile.File.prototype.clearLocalConfig=function(){this.setLocalConfig(void 0)},proto.AtlFile.File.prototype.hasLocalConfig=function(){return null!=i.Message.getField(this,7)},proto.AtlFile.File.prototype.getAcceleration=function(){return i.Message.getWrapperField(this,proto.AtlFile.Acceleration,8)},proto.AtlFile.File.prototype.setAcceleration=function(e){i.Message.setWrapperField(this,8,e)},proto.AtlFile.File.prototype.clearAcceleration=function(){this.setAcceleration(void 0)},proto.AtlFile.File.prototype.hasAcceleration=function(){return null!=i.Message.getField(this,8)},proto.AtlFile.File.prototype.getAngularRate=function(){return i.Message.getWrapperField(this,proto.AtlFile.AngularRate,9)},proto.AtlFile.File.prototype.setAngularRate=function(e){i.Message.setWrapperField(this,9,e)},proto.AtlFile.File.prototype.clearAngularRate=function(){this.setAngularRate(void 0)},proto.AtlFile.File.prototype.hasAngularRate=function(){return null!=i.Message.getField(this,9)},proto.AtlFile.RemoteDevice=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.AtlFile.RemoteDevice,i.Message),o.DEBUG&&!COMPILED&&(proto.AtlFile.RemoteDevice.displayName="proto.AtlFile.RemoteDevice"),i.Message.GENERATE_TO_OBJECT&&(proto.AtlFile.RemoteDevice.prototype.toObject=function(e){return proto.AtlFile.RemoteDevice.toObject(e,this)},proto.AtlFile.RemoteDevice.toObject=function(e,t){var r={address:t.getAddress(),uuid:t.getUuid(),type:t.getType(),name:t.getName(),firmwareVersion:t.getFirmwareVersion()};return e&&(r.$jspbMessageInstance=t),r}),proto.AtlFile.RemoteDevice.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AtlFile.RemoteDevice;return proto.AtlFile.RemoteDevice.deserializeBinaryFromReader(r,t)},proto.AtlFile.RemoteDevice.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setAddress(r);break;case 2:r=t.readString();e.setUuid(r);break;case 3:r=t.readString();e.setType(r);break;case 4:r=t.readString();e.setName(r);break;case 5:r=t.readUint32();e.setFirmwareVersion(r);break;default:t.skipField()}}return e},proto.AtlFile.RemoteDevice.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AtlFile.RemoteDevice.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AtlFile.RemoteDevice.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getAddress()).length>0&&e.writeString(1,t),(t=this.getUuid()).length>0&&e.writeString(2,t),(t=this.getType()).length>0&&e.writeString(3,t),(t=this.getName()).length>0&&e.writeString(4,t),0!==(t=this.getFirmwareVersion())&&e.writeUint32(5,t)},proto.AtlFile.RemoteDevice.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AtlFile.RemoteDevice.prototype.getAddress=function(){return i.Message.getFieldProto3(this,1,"")},proto.AtlFile.RemoteDevice.prototype.setAddress=function(e){i.Message.setField(this,1,e)},proto.AtlFile.RemoteDevice.prototype.getUuid=function(){return i.Message.getFieldProto3(this,2,"")},proto.AtlFile.RemoteDevice.prototype.setUuid=function(e){i.Message.setField(this,2,e)},proto.AtlFile.RemoteDevice.prototype.getType=function(){return i.Message.getFieldProto3(this,3,"")},proto.AtlFile.RemoteDevice.prototype.setType=function(e){i.Message.setField(this,3,e)},proto.AtlFile.RemoteDevice.prototype.getName=function(){return i.Message.getFieldProto3(this,4,"")},proto.AtlFile.RemoteDevice.prototype.setName=function(e){i.Message.setField(this,4,e)},proto.AtlFile.RemoteDevice.prototype.getFirmwareVersion=function(){return i.Message.getFieldProto3(this,5,0)},proto.AtlFile.RemoteDevice.prototype.setFirmwareVersion=function(e){i.Message.setField(this,5,e)},proto.AtlFile.RemoteStatus=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.AtlFile.RemoteStatus,i.Message),o.DEBUG&&!COMPILED&&(proto.AtlFile.RemoteStatus.displayName="proto.AtlFile.RemoteStatus"),i.Message.GENERATE_TO_OBJECT&&(proto.AtlFile.RemoteStatus.prototype.toObject=function(e){return proto.AtlFile.RemoteStatus.toObject(e,this)},proto.AtlFile.RemoteStatus.toObject=function(e,t){var r={packetCounter:t.getPacketCounter(),configNumber:t.getConfigNumber(),rssi:t.getRssi(),restartsUnknown:t.getRestartsUnknown(),temperatureInternal:t.getTemperatureInternal(),temperature:t.getTemperature(),batteryVoltage:t.getBatteryVoltage(),eventType:t.getEventType(),accx:t.getAccx(),accy:t.getAccy(),accz:t.getAccz(),errors:t.getErrors()};return e&&(r.$jspbMessageInstance=t),r}),proto.AtlFile.RemoteStatus.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AtlFile.RemoteStatus;return proto.AtlFile.RemoteStatus.deserializeBinaryFromReader(r,t)},proto.AtlFile.RemoteStatus.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint32();e.setPacketCounter(r);break;case 2:r=t.readUint32();e.setConfigNumber(r);break;case 3:r=t.readInt32();e.setRssi(r);break;case 4:r=t.readUint32();e.setRestartsUnknown(r);break;case 5:r=t.readFloat();e.setTemperatureInternal(r);break;case 6:r=t.readFloat();e.setTemperature(r);break;case 7:r=t.readFloat();e.setBatteryVoltage(r);break;case 8:r=t.readUint32();e.setEventType(r);break;case 9:r=t.readFloat();e.setAccx(r);break;case 10:r=t.readFloat();e.setAccy(r);break;case 11:r=t.readFloat();e.setAccz(r);break;case 12:r=t.readFloat();e.setErrors(r);break;default:t.skipField()}}return e},proto.AtlFile.RemoteStatus.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AtlFile.RemoteStatus.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AtlFile.RemoteStatus.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getPacketCounter())&&e.writeUint32(1,t),0!==(t=this.getConfigNumber())&&e.writeUint32(2,t),0!==(t=this.getRssi())&&e.writeInt32(3,t),0!==(t=this.getRestartsUnknown())&&e.writeUint32(4,t),0!==(t=this.getTemperatureInternal())&&e.writeFloat(5,t),0!==(t=this.getTemperature())&&e.writeFloat(6,t),0!==(t=this.getBatteryVoltage())&&e.writeFloat(7,t),0!==(t=this.getEventType())&&e.writeUint32(8,t),0!==(t=this.getAccx())&&e.writeFloat(9,t),0!==(t=this.getAccy())&&e.writeFloat(10,t),0!==(t=this.getAccz())&&e.writeFloat(11,t),0!==(t=this.getErrors())&&e.writeFloat(12,t)},proto.AtlFile.RemoteStatus.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AtlFile.RemoteStatus.prototype.getPacketCounter=function(){return i.Message.getFieldProto3(this,1,0)},proto.AtlFile.RemoteStatus.prototype.setPacketCounter=function(e){i.Message.setField(this,1,e)},proto.AtlFile.RemoteStatus.prototype.getConfigNumber=function(){return i.Message.getFieldProto3(this,2,0)},proto.AtlFile.RemoteStatus.prototype.setConfigNumber=function(e){i.Message.setField(this,2,e)},proto.AtlFile.RemoteStatus.prototype.getRssi=function(){return i.Message.getFieldProto3(this,3,0)},proto.AtlFile.RemoteStatus.prototype.setRssi=function(e){i.Message.setField(this,3,e)},proto.AtlFile.RemoteStatus.prototype.getRestartsUnknown=function(){return i.Message.getFieldProto3(this,4,0)},proto.AtlFile.RemoteStatus.prototype.setRestartsUnknown=function(e){i.Message.setField(this,4,e)},proto.AtlFile.RemoteStatus.prototype.getTemperatureInternal=function(){return i.Message.getFieldProto3(this,5,0)},proto.AtlFile.RemoteStatus.prototype.setTemperatureInternal=function(e){i.Message.setField(this,5,e)},proto.AtlFile.RemoteStatus.prototype.getTemperature=function(){return i.Message.getFieldProto3(this,6,0)},proto.AtlFile.RemoteStatus.prototype.setTemperature=function(e){i.Message.setField(this,6,e)},proto.AtlFile.RemoteStatus.prototype.getBatteryVoltage=function(){return i.Message.getFieldProto3(this,7,0)},proto.AtlFile.RemoteStatus.prototype.setBatteryVoltage=function(e){i.Message.setField(this,7,e)},proto.AtlFile.RemoteStatus.prototype.getEventType=function(){return i.Message.getFieldProto3(this,8,0)},proto.AtlFile.RemoteStatus.prototype.setEventType=function(e){i.Message.setField(this,8,e)},proto.AtlFile.RemoteStatus.prototype.getAccx=function(){return i.Message.getFieldProto3(this,9,0)},proto.AtlFile.RemoteStatus.prototype.setAccx=function(e){i.Message.setField(this,9,e)},proto.AtlFile.RemoteStatus.prototype.getAccy=function(){return i.Message.getFieldProto3(this,10,0)},proto.AtlFile.RemoteStatus.prototype.setAccy=function(e){i.Message.setField(this,10,e)},proto.AtlFile.RemoteStatus.prototype.getAccz=function(){return i.Message.getFieldProto3(this,11,0)},proto.AtlFile.RemoteStatus.prototype.setAccz=function(e){i.Message.setField(this,11,e)},proto.AtlFile.RemoteStatus.prototype.getErrors=function(){return i.Message.getFieldProto3(this,12,0)},proto.AtlFile.RemoteStatus.prototype.setErrors=function(e){i.Message.setField(this,12,e)},proto.AtlFile.RemoteConfig=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.AtlFile.RemoteConfig,i.Message),o.DEBUG&&!COMPILED&&(proto.AtlFile.RemoteConfig.displayName="proto.AtlFile.RemoteConfig"),i.Message.GENERATE_TO_OBJECT&&(proto.AtlFile.RemoteConfig.prototype.toObject=function(e){return proto.AtlFile.RemoteConfig.toObject(e,this)},proto.AtlFile.RemoteConfig.toObject=function(e,t){var r={wakeupTime:t.getWakeupTime(),wakeupWindow:t.getWakeupWindow(),measMode:t.getMeasMode(),measSamplingRate:t.getMeasSamplingRate(),accRange:t.getAccRange(),gyrRange:t.getGyrRange(),measNumberOfSamples:t.getMeasNumberOfSamples(),checkInterval:t.getCheckInterval(),checkSamplingRate:t.getCheckSamplingRate(),checkNumberOfSamples:t.getCheckNumberOfSamples(),checkThreshold:t.getCheckThreshold(),wakeupsToSendCnt:t.getWakeupsToSendCnt(),sleepAfterAcq:t.getSleepAfterAcq(),accelerationInterval:t.getAccelerationInterval(),temperatureInterval:t.getTemperatureInterval()};return e&&(r.$jspbMessageInstance=t),r}),proto.AtlFile.RemoteConfig.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AtlFile.RemoteConfig;return proto.AtlFile.RemoteConfig.deserializeBinaryFromReader(r,t)},proto.AtlFile.RemoteConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint32();e.setWakeupTime(r);break;case 2:r=t.readUint32();e.setWakeupWindow(r);break;case 3:r=t.readUint32();e.setMeasMode(r);break;case 4:r=t.readUint32();e.setMeasSamplingRate(r);break;case 5:r=t.readUint32();e.setAccRange(r);break;case 6:r=t.readUint32();e.setGyrRange(r);break;case 7:r=t.readUint32();e.setMeasNumberOfSamples(r);break;case 8:r=t.readUint32();e.setCheckInterval(r);break;case 9:r=t.readUint32();e.setCheckSamplingRate(r);break;case 10:r=t.readUint32();e.setCheckNumberOfSamples(r);break;case 11:r=t.readUint32();e.setCheckThreshold(r);break;case 12:r=t.readUint32();e.setWakeupsToSendCnt(r);break;case 13:r=t.readUint32();e.setSleepAfterAcq(r);break;case 14:r=t.readUint32();e.setAccelerationInterval(r);break;case 15:r=t.readUint32();e.setTemperatureInterval(r);break;default:t.skipField()}}return e},proto.AtlFile.RemoteConfig.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AtlFile.RemoteConfig.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AtlFile.RemoteConfig.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getWakeupTime())&&e.writeUint32(1,t),0!==(t=this.getWakeupWindow())&&e.writeUint32(2,t),0!==(t=this.getMeasMode())&&e.writeUint32(3,t),0!==(t=this.getMeasSamplingRate())&&e.writeUint32(4,t),0!==(t=this.getAccRange())&&e.writeUint32(5,t),0!==(t=this.getGyrRange())&&e.writeUint32(6,t),0!==(t=this.getMeasNumberOfSamples())&&e.writeUint32(7,t),0!==(t=this.getCheckInterval())&&e.writeUint32(8,t),0!==(t=this.getCheckSamplingRate())&&e.writeUint32(9,t),0!==(t=this.getCheckNumberOfSamples())&&e.writeUint32(10,t),0!==(t=this.getCheckThreshold())&&e.writeUint32(11,t),0!==(t=this.getWakeupsToSendCnt())&&e.writeUint32(12,t),0!==(t=this.getSleepAfterAcq())&&e.writeUint32(13,t),0!==(t=this.getAccelerationInterval())&&e.writeUint32(14,t),0!==(t=this.getTemperatureInterval())&&e.writeUint32(15,t)},proto.AtlFile.RemoteConfig.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AtlFile.RemoteConfig.prototype.getWakeupTime=function(){return i.Message.getFieldProto3(this,1,0)},proto.AtlFile.RemoteConfig.prototype.setWakeupTime=function(e){i.Message.setField(this,1,e)},proto.AtlFile.RemoteConfig.prototype.getWakeupWindow=function(){return i.Message.getFieldProto3(this,2,0)},proto.AtlFile.RemoteConfig.prototype.setWakeupWindow=function(e){i.Message.setField(this,2,e)},proto.AtlFile.RemoteConfig.prototype.getMeasMode=function(){return i.Message.getFieldProto3(this,3,0)},proto.AtlFile.RemoteConfig.prototype.setMeasMode=function(e){i.Message.setField(this,3,e)},proto.AtlFile.RemoteConfig.prototype.getMeasSamplingRate=function(){return i.Message.getFieldProto3(this,4,0)},proto.AtlFile.RemoteConfig.prototype.setMeasSamplingRate=function(e){i.Message.setField(this,4,e)},proto.AtlFile.RemoteConfig.prototype.getAccRange=function(){return i.Message.getFieldProto3(this,5,0)},proto.AtlFile.RemoteConfig.prototype.setAccRange=function(e){i.Message.setField(this,5,e)},proto.AtlFile.RemoteConfig.prototype.getGyrRange=function(){return i.Message.getFieldProto3(this,6,0)},proto.AtlFile.RemoteConfig.prototype.setGyrRange=function(e){i.Message.setField(this,6,e)},proto.AtlFile.RemoteConfig.prototype.getMeasNumberOfSamples=function(){return i.Message.getFieldProto3(this,7,0)},proto.AtlFile.RemoteConfig.prototype.setMeasNumberOfSamples=function(e){i.Message.setField(this,7,e)},proto.AtlFile.RemoteConfig.prototype.getCheckInterval=function(){return i.Message.getFieldProto3(this,8,0)},proto.AtlFile.RemoteConfig.prototype.setCheckInterval=function(e){i.Message.setField(this,8,e)},proto.AtlFile.RemoteConfig.prototype.getCheckSamplingRate=function(){return i.Message.getFieldProto3(this,9,0)},proto.AtlFile.RemoteConfig.prototype.setCheckSamplingRate=function(e){i.Message.setField(this,9,e)},proto.AtlFile.RemoteConfig.prototype.getCheckNumberOfSamples=function(){return i.Message.getFieldProto3(this,10,0)},proto.AtlFile.RemoteConfig.prototype.setCheckNumberOfSamples=function(e){i.Message.setField(this,10,e)},proto.AtlFile.RemoteConfig.prototype.getCheckThreshold=function(){return i.Message.getFieldProto3(this,11,0)},proto.AtlFile.RemoteConfig.prototype.setCheckThreshold=function(e){i.Message.setField(this,11,e)},proto.AtlFile.RemoteConfig.prototype.getWakeupsToSendCnt=function(){return i.Message.getFieldProto3(this,12,0)},proto.AtlFile.RemoteConfig.prototype.setWakeupsToSendCnt=function(e){i.Message.setField(this,12,e)},proto.AtlFile.RemoteConfig.prototype.getSleepAfterAcq=function(){return i.Message.getFieldProto3(this,13,0)},proto.AtlFile.RemoteConfig.prototype.setSleepAfterAcq=function(e){i.Message.setField(this,13,e)},proto.AtlFile.RemoteConfig.prototype.getAccelerationInterval=function(){return i.Message.getFieldProto3(this,14,0)},proto.AtlFile.RemoteConfig.prototype.setAccelerationInterval=function(e){i.Message.setField(this,14,e)},proto.AtlFile.RemoteConfig.prototype.getTemperatureInterval=function(){return i.Message.getFieldProto3(this,15,0)},proto.AtlFile.RemoteConfig.prototype.setTemperatureInterval=function(e){i.Message.setField(this,15,e)},proto.AtlFile.LocalDevice=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.AtlFile.LocalDevice,i.Message),o.DEBUG&&!COMPILED&&(proto.AtlFile.LocalDevice.displayName="proto.AtlFile.LocalDevice"),i.Message.GENERATE_TO_OBJECT&&(proto.AtlFile.LocalDevice.prototype.toObject=function(e){return proto.AtlFile.LocalDevice.toObject(e,this)},proto.AtlFile.LocalDevice.toObject=function(e,t){var r={identifier:t.getIdentifier(),firmwareVersion:t.getFirmwareVersion()};return e&&(r.$jspbMessageInstance=t),r}),proto.AtlFile.LocalDevice.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AtlFile.LocalDevice;return proto.AtlFile.LocalDevice.deserializeBinaryFromReader(r,t)},proto.AtlFile.LocalDevice.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setIdentifier(r);break;case 2:r=t.readUint32();e.setFirmwareVersion(r);break;default:t.skipField()}}return e},proto.AtlFile.LocalDevice.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AtlFile.LocalDevice.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AtlFile.LocalDevice.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getIdentifier()).length>0&&e.writeString(1,t),0!==(t=this.getFirmwareVersion())&&e.writeUint32(2,t)},proto.AtlFile.LocalDevice.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AtlFile.LocalDevice.prototype.getIdentifier=function(){return i.Message.getFieldProto3(this,1,"")},proto.AtlFile.LocalDevice.prototype.setIdentifier=function(e){i.Message.setField(this,1,e)},proto.AtlFile.LocalDevice.prototype.getFirmwareVersion=function(){return i.Message.getFieldProto3(this,2,0)},proto.AtlFile.LocalDevice.prototype.setFirmwareVersion=function(e){i.Message.setField(this,2,e)},proto.AtlFile.LocalStatus=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.AtlFile.LocalStatus,i.Message),o.DEBUG&&!COMPILED&&(proto.AtlFile.LocalStatus.displayName="proto.AtlFile.LocalStatus"),i.Message.GENERATE_TO_OBJECT&&(proto.AtlFile.LocalStatus.prototype.toObject=function(e){return proto.AtlFile.LocalStatus.toObject(e,this)},proto.AtlFile.LocalStatus.toObject=function(e,t){var r={uptime:t.getUptime()};return e&&(r.$jspbMessageInstance=t),r}),proto.AtlFile.LocalStatus.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AtlFile.LocalStatus;return proto.AtlFile.LocalStatus.deserializeBinaryFromReader(r,t)},proto.AtlFile.LocalStatus.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint64();e.setUptime(r);break;default:t.skipField()}}return e},proto.AtlFile.LocalStatus.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AtlFile.LocalStatus.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AtlFile.LocalStatus.prototype.serializeBinaryToWriter=function(e){var t;0!==(t=this.getUptime())&&e.writeUint64(1,t)},proto.AtlFile.LocalStatus.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AtlFile.LocalStatus.prototype.getUptime=function(){return i.Message.getFieldProto3(this,1,0)},proto.AtlFile.LocalStatus.prototype.setUptime=function(e){i.Message.setField(this,1,e)},proto.AtlFile.LocalConfig=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.AtlFile.LocalConfig,i.Message),o.DEBUG&&!COMPILED&&(proto.AtlFile.LocalConfig.displayName="proto.AtlFile.LocalConfig"),i.Message.GENERATE_TO_OBJECT&&(proto.AtlFile.LocalConfig.prototype.toObject=function(e){return proto.AtlFile.LocalConfig.toObject(e,this)},proto.AtlFile.LocalConfig.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.AtlFile.LocalConfig.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AtlFile.LocalConfig;return proto.AtlFile.LocalConfig.deserializeBinaryFromReader(r,t)},proto.AtlFile.LocalConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){t.getFieldNumber();t.skipField()}return e},proto.AtlFile.LocalConfig.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AtlFile.LocalConfig.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AtlFile.LocalConfig.prototype.serializeBinaryToWriter=function(e){},proto.AtlFile.LocalConfig.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AtlFile.Data=function(e){i.Message.initialize(this,e,0,-1,proto.AtlFile.Data.repeatedFields_,null)},o.inherits(proto.AtlFile.Data,i.Message),o.DEBUG&&!COMPILED&&(proto.AtlFile.Data.displayName="proto.AtlFile.Data"),proto.AtlFile.Data.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.AtlFile.Data.prototype.toObject=function(e){return proto.AtlFile.Data.toObject(e,this)},proto.AtlFile.Data.toObject=function(e,t){var r={valuesList:i.Message.getField(t,1)};return e&&(r.$jspbMessageInstance=t),r}),proto.AtlFile.Data.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AtlFile.Data;return proto.AtlFile.Data.deserializeBinaryFromReader(r,t)},proto.AtlFile.Data.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readPackedSint32();e.setValuesList(r);break;default:t.skipField()}}return e},proto.AtlFile.Data.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AtlFile.Data.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AtlFile.Data.prototype.serializeBinaryToWriter=function(e){var t;(t=this.getValuesList()).length>0&&e.writePackedSint32(1,t)},proto.AtlFile.Data.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AtlFile.Data.prototype.getValuesList=function(){return i.Message.getField(this,1)},proto.AtlFile.Data.prototype.setValuesList=function(e){i.Message.setField(this,1,e||[])},proto.AtlFile.Data.prototype.clearValuesList=function(){i.Message.setField(this,1,[])},proto.AtlFile.Acceleration=function(e){i.Message.initialize(this,e,0,-1,proto.AtlFile.Acceleration.repeatedFields_,null)},o.inherits(proto.AtlFile.Acceleration,i.Message),o.DEBUG&&!COMPILED&&(proto.AtlFile.Acceleration.displayName="proto.AtlFile.Acceleration"),proto.AtlFile.Acceleration.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.AtlFile.Acceleration.prototype.toObject=function(e){return proto.AtlFile.Acceleration.toObject(e,this)},proto.AtlFile.Acceleration.toObject=function(e,t){var r={samplesList:i.Message.toObjectList(t.getSamplesList(),proto.AtlFile.Data.toObject,e),samplingRate:t.getSamplingRate()};return e&&(r.$jspbMessageInstance=t),r}),proto.AtlFile.Acceleration.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AtlFile.Acceleration;return proto.AtlFile.Acceleration.deserializeBinaryFromReader(r,t)},proto.AtlFile.Acceleration.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.AtlFile.Data;t.readMessage(r,proto.AtlFile.Data.deserializeBinaryFromReader),e.getSamplesList().push(r),e.setSamplesList(e.getSamplesList());break;case 2:r=t.readUint32();e.setSamplingRate(r);break;default:t.skipField()}}return e},proto.AtlFile.Acceleration.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AtlFile.Acceleration.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AtlFile.Acceleration.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getSamplesList()).length>0&&e.writeRepeatedMessage(1,t,proto.AtlFile.Data.serializeBinaryToWriter),0!==(t=this.getSamplingRate())&&e.writeUint32(2,t)},proto.AtlFile.Acceleration.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AtlFile.Acceleration.prototype.getSamplesList=function(){return i.Message.getRepeatedWrapperField(this,proto.AtlFile.Data,1)},proto.AtlFile.Acceleration.prototype.setSamplesList=function(e){i.Message.setRepeatedWrapperField(this,1,e)},proto.AtlFile.Acceleration.prototype.clearSamplesList=function(){this.setSamplesList([])},proto.AtlFile.Acceleration.prototype.getSamplingRate=function(){return i.Message.getFieldProto3(this,2,0)},proto.AtlFile.Acceleration.prototype.setSamplingRate=function(e){i.Message.setField(this,2,e)},proto.AtlFile.AngularRate=function(e){i.Message.initialize(this,e,0,-1,proto.AtlFile.AngularRate.repeatedFields_,null)},o.inherits(proto.AtlFile.AngularRate,i.Message),o.DEBUG&&!COMPILED&&(proto.AtlFile.AngularRate.displayName="proto.AtlFile.AngularRate"),proto.AtlFile.AngularRate.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.AtlFile.AngularRate.prototype.toObject=function(e){return proto.AtlFile.AngularRate.toObject(e,this)},proto.AtlFile.AngularRate.toObject=function(e,t){var r={samplesList:i.Message.toObjectList(t.getSamplesList(),proto.AtlFile.Data.toObject,e),samplingRate:t.getSamplingRate()};return e&&(r.$jspbMessageInstance=t),r}),proto.AtlFile.AngularRate.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AtlFile.AngularRate;return proto.AtlFile.AngularRate.deserializeBinaryFromReader(r,t)},proto.AtlFile.AngularRate.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.AtlFile.Data;t.readMessage(r,proto.AtlFile.Data.deserializeBinaryFromReader),e.getSamplesList().push(r),e.setSamplesList(e.getSamplesList());break;case 2:r=t.readUint32();e.setSamplingRate(r);break;default:t.skipField()}}return e},proto.AtlFile.AngularRate.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AtlFile.AngularRate.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AtlFile.AngularRate.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getSamplesList()).length>0&&e.writeRepeatedMessage(1,t,proto.AtlFile.Data.serializeBinaryToWriter),0!==(t=this.getSamplingRate())&&e.writeUint32(2,t)},proto.AtlFile.AngularRate.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AtlFile.AngularRate.prototype.getSamplesList=function(){return i.Message.getRepeatedWrapperField(this,proto.AtlFile.Data,1)},proto.AtlFile.AngularRate.prototype.setSamplesList=function(e){i.Message.setRepeatedWrapperField(this,1,e)},proto.AtlFile.AngularRate.prototype.clearSamplesList=function(){this.setSamplesList([])},proto.AtlFile.AngularRate.prototype.getSamplingRate=function(){return i.Message.getFieldProto3(this,2,0)},proto.AtlFile.AngularRate.prototype.setSamplingRate=function(e){i.Message.setField(this,2,e)},o.object.extend(t,proto.AtlFile)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Advert=class{constructor(){this.timestamp=new Date,this.address="",this.uuid="",this.rssi=-100,this.type=0,this.shortName="UN",this.longName="Unknown"}}},function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DeviceHandler=class{constructor(e,t){this.di=e,this.peripheral=t.peripheral,this.advert=t.advert,this.adapter=e.adapter}handleConnection(){return null}handleData(){return Promise.resolve()}isUserAction(){return!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(259),o=r(1);t.Connection=class{constructor(e,t){this.adapter=e,this.peripheral=t,this.connected=!1,this.discoverDescriptorsFlag=!0,this.logger=o.Logger.getLogger("jrd-ble-connection")}connect(){const e={scanParams:{active:!1,interval:100,window:100,timeout:2},connParams:{min_conn_interval:7.5,max_conn_interval:7.5,slave_latency:0,conn_sup_timeout:4e3}},t={address:this.peripheral.address,type:this.peripheral.addressType};return new Promise((r,i)=>{if(this.services=[],this.characteristics={},!0===this.connected){const e=new Error("Peripheral is already connected.");return this.logger.log("warn",e.message),i(e)}let o,n;o=e=>{if(e.address!==t.address)return;this.adapter.removeListener("connectTimedOut",o),this.adapter.removeListener("deviceConnected",n),this.connected=!1;const r=new Error("Cannot connect to "+t.address+", timeout.");this.logger.log("warn",r.message),i(r)},n=e=>{e.address===t.address&&(this.adapter.removeListener("connectTimedOut",o),this.adapter.removeListener("deviceConnected",n),this.connected=!0,this.peripheral=e,this.logger.log("info","Connected to "+e.address),this.setupOnDisconnectHandler(),r())},this.adapter.on("connectTimedOut",o),this.adapter.on("deviceConnected",n),this.adapter.internal.connect(t,e,e=>{e?(this.adapter.removeListener("connectTimedOut",o),this.adapter.removeListener("deviceConnected",n),this.connected=!1,this.logger.log("warn","Cannot connect",e),i(e)):this.logger.log("info","Connecting to "+t.address+"...")})})}setupOnDisconnectHandler(){const e=t=>{t.address===this.peripheral.address&&(this.adapter.removeListener("deviceDisconnected",e),this.connected=!1)};this.adapter.on("deviceDisconnected",e)}isConnected(){return this.connected}disconnect(){return new Promise((e,t)=>{if(!1===this.connected)return e();const r=t=>{t.address===this.peripheral.address&&(this.adapter.removeListener("deviceDisconnected",r),this.logger.log("info","Disconnected from "+t.address),e())};this.adapter.on("deviceDisconnected",r),this.adapter.internal.disconnect(this.peripheral.instanceId,e=>{e?(this.adapter.removeListener("deviceDisconnected",r),t(e)):this.logger.log("info","Disconnecting from "+this.peripheral.address+"...")})})}discover(e=[],t=!0){return this.discoverDescriptorsFlag=t,this.discoverServices(e)}discoverServices(e=[]){return new Promise((e,t)=>{if(!this.peripheral)return t(new Error("Peripheral does not exists"));this.adapter.internal.getServices(this.peripheral.instanceId,(r,o)=>r?t(r):o?void i.eachSeries(o,(e,t)=>{this.logger.log("info","Service UUID: "+e.uuid+" ("+e.instanceId+")"),this.pushService(e),this.discoverCharacteristics(e).then(()=>t(),e=>t(e))},r=>{r?(this.logger.log("warn","Error during discovering services/characteristics/descriptors: ",r),t(r)):(this.logger.log("info","Services/Characteristics/Descriptors discovered"),e(this.characteristics))}):t(new Error("Cannot discover services")))})}discoverCharacteristics(e){return new Promise((t,r)=>{if(!e)return r(new Error("Service does not exists"));this.adapter.internal.getCharacteristics(e.instanceId,(o,n)=>o?r(o):n?void i.eachSeries(n,(t,r)=>{this.logger.log("info","Characteristic UUID: "+t.uuid+" ("+t.instanceId+")"),this.pushCharacteristic(e.uuid,t),this.discoverDescriptorsFlag?this.discoverDescriptors(t).then(()=>r(),e=>r(e)):r()},e=>{e?r(e):(this.logger.log("info","Characteristics discovered"),t())}):r(new Error("Cannot discover characteristics")))})}discoverDescriptors(e){return new Promise((t,r)=>{if(!e)return r(new Error("Characteristic does not exists"));this.logger.log("info","Discover Descriptors"),this.adapter.internal.getDescriptors(e.instanceId,(e,i)=>e?r(e):i?(i.forEach(e=>{this.logger.log("info","Descriptor UUID: "+e.uuid+" ("+e.instanceId+")")}),this.logger.log("info","Descriptors discovered"),void t()):r(new Error("Cannot discover descriptors")))})}pushService(e){this.services.push(e)}pushCharacteristic(e,t){this.characteristics[e]||(this.characteristics[e]=[]),this.characteristics[e].push(t)}write(e,t,r=!1){return this.adapter.writeCharacteristicValue(e,t,r)}startNotifications(e){return this.adapter.startCharacteristicsNotifications(e)}stopNotifications(e){return this.adapter.stopCharacteristicsNotifications(e)}}},function(e,t,r){"use strict";var i,o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ACK=0]="ACK",e[e.NACK=1]="NACK"}(i=t.CommandResult||(t.CommandResult={}));class n{constructor(e){this.adapter=e}writeChar(e,t){return this.adapter.writeCharacteristicValue(e,t)}startNotifications(e){return this.adapter.startCharacteristicsNotifications(e)}stopNotifications(e){return this.adapter.stopCharacteristicsNotifications(e)}}t.Command=n,function(e){e[e.ConfigCommit=0]="ConfigCommit",e[e.ConfigRestoreDefaults=1]="ConfigRestoreDefaults",e[e.SystemReset=2]="SystemReset",e[e.SystemHeartbeat=3]="SystemHeartbeat",e[e.SystemSetTime=4]="SystemSetTime",e[e.SystemGetTime=5]="SystemGetTime",e[e.DeviceEventRequestStart=128]="DeviceEventRequestStart",e[e.DeviceEventRequestComplete=129]="DeviceEventRequestComplete"}(o||(o={}));const s=r(1);var a,l,c,u,d,g,p;t.CommandV3=class extends n{constructor(e,t){super(e),this.commandChar=t,this.logger=s.Logger.getLogger("cmd3")}storeConfiguration(){let e=new Buffer(1);return this.logger.info("commit "+o.ConfigCommit),e.writeUInt8(o.ConfigCommit,0),this.command(e).then(()=>{})}restoreConfiguration(){let e=new Buffer(1);return this.logger.info("restore "+o.ConfigRestoreDefaults),e.writeUInt8(o.ConfigRestoreDefaults,0),this.command(e).then(()=>{})}restart(){let e=new Buffer(1);return this.logger.info("restart "+o.SystemReset),e.writeUInt8(o.SystemReset,0),this.command(e).then(()=>{})}ping(){let e=new Buffer(1);return this.logger.info("ping "+o.SystemHeartbeat),e.writeUInt8(o.SystemHeartbeat,0),this.command(e).then(()=>{})}eventRequest(){this.logger.info("request event");let e=new Buffer(1);return e.writeUInt8(o.DeviceEventRequestStart,0),this.command(e).then(e=>{if(e.length<12)throw new Error("Invalid event request response");return{delta:e.readUInt32LE(0),timestamp:e.readUInt32LE(4),channel:e.readUInt32LE(8)}})}eventRequestComplete(){let e=new Buffer(1);return this.logger.info("request event complete"),e.writeUInt8(o.DeviceEventRequestComplete,0),this.command(e).then(()=>{})}command(e){let t=null,r=!1;return this.adapter.startCharacteristicsNotifications(this.commandChar).then(()=>(r=!0,this.sendCommand(e))).then(e=>(t=e,r=!1,this.adapter.stopCharacteristicsNotifications(this.commandChar))).then(()=>t).catch(e=>{if(1==r)return this.adapter.stopCharacteristicsNotifications(this.commandChar).then(()=>{throw e},()=>{throw e});throw e})}sendCommand(e){return new Promise((t,r)=>{let o=e=>{if(e.instanceId===this.commandChar.instanceId){this.adapter.removeListener("characteristicValueChanged",o);let n=new Buffer(e.value);n.readUInt8(0)===i.ACK?t(n.slice(1)):r(new Error("Command not acknowledged."))}};this.adapter.on("characteristicValueChanged",o),this.adapter.writeCharacteristicValue(this.commandChar,e).catch(e=>{this.adapter.removeListener("characteristicValueChanged",o),r(e)})})}},function(e){e[e.ConfigManagement=0]="ConfigManagement",e[e.System=1]="System",e[e.Device=2]="Device"}(a||(a={})),function(e){e[e.Commit=0]="Commit",e[e.RestoreDefaults=1]="RestoreDefaults"}(l||(l={})),function(e){e[e.Restart=0]="Restart",e[e.Heartbeat=1]="Heartbeat"}(c||(c={})),function(e){e[e.GoShallowSleep=0]="GoShallowSleep",e[e.GoDeepSleep=1]="GoDeepSleep"}(u||(u={}));t.CommandV2=class extends n{constructor(e,t){super(e),this.commandChar=t}storeConfiguration(e){let t=new Buffer(6);return t.writeUInt8(a.ConfigManagement,0),t.writeUInt8(l.Commit,1),t.writeUInt32LE(e,2),this.command(t)}restoreConfiguration(){let e=new Buffer(2);return e.writeUInt8(a.ConfigManagement,0),e.writeUInt8(l.RestoreDefaults,1),this.command(e)}restart(){let e=new Buffer(2);return e.writeUInt8(a.System,0),e.writeUInt8(c.Restart,1),this.command(e)}ping(){let e=new Buffer(2);return e.writeUInt8(a.System,0),e.writeUInt8(c.Heartbeat,1),this.command(e)}extendShallowSleep(e){let t=new Buffer(6);return t.writeUInt8(a.Device,0),t.writeUInt8(u.GoShallowSleep,1),t.writeUInt32LE(e,2),this.command(t)}goDeepSleep(){let e=new Buffer(6);return e.writeUInt8(a.Device,0),e.writeUInt8(u.GoDeepSleep,1),this.command(e)}command(e){let t=null;return this.adapter.startCharacteristicsNotifications(this.commandChar).then(()=>this.sendCommand(e).then(()=>this.adapter.stopCharacteristicsNotifications(this.commandChar),e=>(t=e,this.adapter.stopCharacteristicsNotifications(this.commandChar))).then(()=>{if(t)throw t}))}sendCommand(e){return new Promise((t,r)=>{let o=e=>{if(e.instanceId===this.commandChar.instanceId){this.adapter.removeListener("characteristicValueChanged",o),new Buffer(e.value).readUInt8(0)===i.ACK?t():r(new Error("Command not acknowledged."))}};this.adapter.on("characteristicValueChanged",o),this.adapter.writeCharacteristicValue(this.commandChar,e).catch(e=>{this.adapter.removeListener("characteristicValueChanged",o),r(e)})})}},function(e){e[e.Config=2e3]="Config",e[e.System=2001]="System"}(d||(d={})),function(e){e[e.Commit=100]="Commit",e[e.Default=101]="Default"}(g||(g={})),function(e){e[e.Reboot=100]="Reboot",e[e.Ping=101]="Ping",e[e.MemoryTest=103]="MemoryTest",e[e.ShallowSleep=104]="ShallowSleep"}(p||(p={}));t.CommandV1=class extends n{constructor(e,t,r){super(e),this.indexChar=t,this.valueChar=r}storeConfiguration(){return this.writeCommand(d.Config,g.Commit)}restart(){return this.writeCommand(d.System,p.Reboot)}extendShallowSleep(e){const t=new Buffer(4);return t.writeUInt32LE(e,0),this.writeCommand(d.System,p.ShallowSleep,t)}memoryTest(){const e=this;return new Promise((t,r)=>{let i=null;const o=()=>{e.readValueChar().then(e=>{const o=e.readUInt16LE(0);if(o!==p.MemoryTest)if(i&&clearInterval(i),1031===o)t();else{const e=new Error("Memory test failed");r(e)}}).catch(e=>r(e))};e.writeCommand(d.System,p.MemoryTest).then(()=>{i=setInterval(o,1e3)}).catch(e=>r(e))})}ping(){return this.writeCommand(d.System,p.Ping)}writeCommand(e,t,r){let i;return r?((i=new Buffer(1+r.length)).writeUInt8(t,0),r.copy(i,1)):(i=new Buffer(1)).writeUInt8(t,0),this.writeBuffer(e,i)}readValueChar(){return this.adapter.readCharacteristicValue(this.valueChar)}writeBuffer(e,t){return this.writeIndexChar(e).then(()=>this.writeValueChar(t))}writeIndexChar(e){let t=new Buffer(2);return t.writeInt16LE(e,0),this.adapter.writeCharacteristicValue(this.indexChar,t)}writeValueChar(e){return this.adapter.writeCharacteristicValue(this.valueChar,e)}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(170),n=r(31),s=r(1);class a{constructor(e,t){this.configMessage=e,this.fields=t,this.logger=s.Logger.getLogger("jrd-ble-config")}readPrimary(){return i(this,void 0,void 0,(function*(){this.logger.log("info","Read configuration"),yield this.configMessage.init("read");try{return this.logger.log("info","Read initialized"),yield this.readPrimaryLoop()}finally{yield this.configMessage.uninit("read")}}))}readAdditional(e){return i(this,void 0,void 0,(function*(){if(!1===this.configMessage.isProtobufSupported())throw new Error("Additional configuration not supported in version 1 of configuration");yield this.configMessage.init("read");try{const t=this.deserializeAdditionalHeader(yield this.configMessage.readBuffer(e));if(this.logger.info("Config header",t),!this.isAdditionalHeaderValid(t))return this.logger.info("Invalid header, resotre additional"),Buffer.alloc(0);e+=a.ADDITIONAL_HEADER_SIZE;const r=yield this.readAdditionalLoop(e,t);return r.length!==t.size?(this.logger.info("Invalid size, resotre additional"),Buffer.alloc(0)):o.crc16ccitt(r)!==t.crc?(this.logger.info("Invalid crc, resotre additional"),Buffer.alloc(0)):r}finally{yield this.configMessage.uninit("read")}}))}writePrimary(e){return i(this,void 0,void 0,(function*(){this.logger.info("Write configuration"),yield this.configMessage.init("write");try{this.logger.info("Write initialized"),yield this.writePrimaryLoop(e)}finally{return this.configMessage.uninit("write")}}))}writeAdditional(e,t){return i(this,void 0,void 0,(function*(){if(!1===this.configMessage.isProtobufSupported())throw new Error("Additional configuration not supported in version 1 of configuration");const r=this.serializeAdditionalHeader({magicNumber:a.ADDITIONAL_MAGIC_NUMBER,crc:o.crc16ccitt(t),size:t.length});this.logger.log("info","Write additional configuration"),yield this.configMessage.init("write");try{yield this.configMessage.writeBuffer(e,r),e+=a.ADDITIONAL_HEADER_SIZE,yield this.writeAdditionalLoop(e,t)}finally{yield this.configMessage.uninit("write")}return a.ADDITIONAL_HEADER_SIZE+t.length}))}isAdditionalHeaderValid(e){return e.magicNumber===a.ADDITIONAL_MAGIC_NUMBER&&e.size<a.ADDITIONAL_MAX_SIZE}serializeAdditionalHeader(e){if(void 0===e.magicNumber||void 0===e.crc||void 0===e.size)throw new Error("Invalid additional header");let t=Buffer.alloc(12);return t.writeUInt32LE(e.magicNumber,0),t.writeUInt32LE(e.crc,4),t.writeUInt32LE(e.size,8),t}deserializeAdditionalHeader(e){let t={};return t.magicNumber=e.readUInt32LE(0),t.crc=e.readUInt32LE(4),t.size=e.readUInt32LE(8),t}readPrimaryLoop(){return i(this,void 0,void 0,(function*(){try{let e={};for(let t=0;t<this.fields.length;t++){const r=this.fields[t],i=r[n.EFieldDescriptor.Name],o=r[n.EFieldDescriptor.Offset],s=yield this.configMessage.readField(t,r);e[i]=s,this.logger.info(`config[${i}] = ${s} at ${o}`)}return this.logger.info("Primary configuration read"),e}catch(e){throw this.logger.error("Cannot read primary configuration",e.message),e}}))}readAdditionalLoop(e,t){return i(this,void 0,void 0,(function*(){try{let r=e+t.size,i=Buffer.alloc(0),o=0;for(;e<r;){const t=yield this.configMessage.readBuffer(e);this.logger.info(`read additional config[${e}], `+`size: ${t.length}, `+`data: ${JSON.stringify(t.toJSON().data)}`),o+=20,i=Buffer.concat([i,t],o),e+=20}return i=i.slice(0,t.size),this.logger.info("Additional configuration read"),this.logger.info(JSON.stringify(i.toJSON().data)),i}catch(e){throw this.logger.error("Cannot read additional configuration",e.message),e}}))}writePrimaryLoop(e){return i(this,void 0,void 0,(function*(){try{const t=Object.keys(e);this.logger.info("Write primary configuration",JSON.stringify(t));for(let r=0;r<t.length;r++){const i=t[r],o=[i,e[i]];yield this.writeConfigEntry(o)}this.logger.info("Primary configuration written")}catch(e){throw this.logger.error("Error while writting primary configuration",e.message),e}}))}writeConfigEntry([e,t]){return i(this,void 0,void 0,(function*(){const r=this.findFieldByName(e);if(null===r)return void this.logger.warn(`Configuration field entry not found (config[${e}] = ${t})!`);const i=r[0],o=r[1];try{yield this.configMessage.writeField(i,o,t),this.logger.info(`config[${e}] = ${t} at ${o[n.EFieldDescriptor.Offset]} written`)}catch(r){throw this.logger.error(`config[${e}] = ${t} error`),r}}))}writeAdditionalLoop(e,t){return i(this,void 0,void 0,(function*(){try{let r=e+t.length,i=0;for(;e<r;){let r=i+20<=t.length?i+20:t.length,o=t.slice(i,r);yield this.configMessage.writeBuffer(e,o),this.logger.info(`write additional config[${e}], `+`size: ${o.length}, `+`data: ${JSON.stringify(o.toJSON().data)}`),e+=20,i+=20}this.logger.info("Additional configuration written")}catch(e){throw this.logger.error("Cannot write additional configuration",e.message),e}}))}findFieldByName(e){let t=this.fields;for(let r=0;r<t.length;++r)if(t[r][n.EFieldDescriptor.Name]===e)return[r,t[r]];return null}isFieldWritable(e){return-1!==this.getFieldAccess(e).indexOf("w")}isFieldReadable(e){return-1!==this.getFieldAccess(e).indexOf("r")}getFieldAccess(e){let t=this.findFieldByName(e);return null===t?"":t[1][2]}}t.Config=a,a.ADDITIONAL_MAX_SIZE=1e3,a.ADDITIONAL_MAGIC_NUMBER=4660,a.ADDITIONAL_HEADER_SIZE=12},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(31);class n{constructor(e,t,r){this.adapter=e,this.indexChar=t,this.valueChar=r}init(e){throw new Error("not implemented")}uninit(e){throw new Error("not implemented")}writeField(e,t,r){throw new Error("not implemented")}readField(e,t){throw new Error("not implemented")}readBuffer(e){throw new Error("not implemented")}writeBuffer(e,t){throw new Error("not implemented")}isProtobufSupported(){return!1}writeIndexChar(e){let t=new Buffer(2);return t.writeInt16LE(e,0),this.adapter.writeCharacteristicValue(this.indexChar,t)}readIndexChar(){return this.adapter.readCharacteristicValue(this.indexChar)}writeValueChar(e){return this.adapter.writeCharacteristicValue(this.valueChar,e)}readValueChar(){return this.adapter.readCharacteristicValue(this.valueChar)}isFieldWritable(e){return-1!==e.indexOf("w")}}t.ConfigMessage=n;class s extends n{constructor(e,t,r){super(e,t,r)}init(e){return"read"===e?this.adapter.startCharacteristicsNotifications(this.valueChar):new Promise(e=>e())}uninit(e){return"read"===e?this.adapter.stopCharacteristicsNotifications(this.valueChar):new Promise(e=>e())}readField(e,t){const r=t[o.EFieldDescriptor.Type],i=t[o.EFieldDescriptor.Offset],n=t[o.EFieldDescriptor.Access];if("number"!=typeof i||"string"!=typeof n||"uint16"!==r&&"string"!==r)throw new Error("Invalid field descriptor");if("string"===r)return this.readString(i);if("uint16"===r)return this.readValue(i);throw new Error("Invalid field type")}writeField(e,t,r){return Promise.resolve().then(()=>{const e=t[o.EFieldDescriptor.Type],i=t[o.EFieldDescriptor.Offset],n=t[o.EFieldDescriptor.Access];if("number"!=typeof i||"string"!=typeof n||"uint16"!==e&&"string"!==e)throw new Error("Invalid field descriptor");if(this.isFieldWritable(n)){if("uint16"===e&&"number"==typeof r)return this.writeValue(i,r);if("string"===e&&"string"==typeof r)return this.writeString(i,r);throw new Error("Invalid value type")}})}readValue(e){return this.readBuffer(e).then(e=>e.readUInt16LE(0))}readString(e){return this.readBuffer(e).then(e=>{let t=e.toString("ascii"),r=t.indexOf("\0");return-1!==r&&(t=t.substring(0,r)),console.log(e.length,e.toString("hex"),"|"+t+"|",r),t})}writeValue(e,t){let r=Buffer.alloc(2);return r.writeUInt16LE(t,0),this.writeBuffer(e,r)}writeString(e,t){let r=Buffer.alloc(20);return r.write(t,0,20,"ascii"),t.length<20&&r.writeUInt8(0,t.length),console.log(r.length,r.toString("hex"),"|"+t+"|"),this.writeBuffer(e,r).then(()=>this.readValueChar()).then(e=>{console.log(e.toString("hex"))})}readBuffer(e){return this.writeIndexChar(e).then(()=>this.readIndexChar()).then(()=>this.readValueChar())}writeBuffer(e,t){return this.writeIndexChar(e).then(()=>this.readIndexChar()).then(()=>this.writeValueChar(t))}}t.ConfigMessageV1=s;t.ConfigMessageV2=class extends n{constructor(e,t,r){super(e,t,r)}init(e){return"read"===e?this.adapter.startCharacteristicsNotifications(this.valueChar):new Promise(e=>e())}uninit(e){return"read"===e?this.adapter.stopCharacteristicsNotifications(this.valueChar):new Promise(e=>e())}readField(e,t){return i(this,void 0,void 0,(function*(){const e=t[o.EFieldDescriptor.Type],r=t[o.EFieldDescriptor.Offset],i=t[o.EFieldDescriptor.Size];if("number"!=typeof r)throw new Error("Invalid field offset");if("uint32"===e)return yield this.readUInt32(r);if("string"===e)return yield this.readString(r,i);throw new Error("Invalid field type")}))}writeField(e,t,r){return i(this,void 0,void 0,(function*(){const e=t[o.EFieldDescriptor.Type],i=t[o.EFieldDescriptor.Offset],n=t[o.EFieldDescriptor.Access],s=t[o.EFieldDescriptor.Size];if("uint32"!==e&&"string"!==e)throw new Error("Invalid field type");if("number"!=typeof i||"string"!=typeof n)throw new Error("Invalid field descriptor");if(this.isFieldWritable(n))if("uint32"!==e||"number"!=typeof r){if("string"!==e||"string"!=typeof r)throw new Error("Invalid field value");yield this.writeString(i,s,r)}else yield this.writeUInt32(i,r)}))}readBuffer(e){let t=this;return new Promise((r,i)=>{this.adapter.on("characteristicValueChanged",(function e(i){i.instanceId===t.valueChar.instanceId&&(t.adapter.removeListener("characteristicValueChanged",e),r(new Buffer(i.value)))})),this.writeIndexChar(e).catch(e=>i(e))})}writeBuffer(e,t){return this.writeIndexChar(e).then(()=>this.readIndexChar()).then(()=>this.writeValueChar(t))}isProtobufSupported(){return!0}writeUInt32(e,t){return i(this,void 0,void 0,(function*(){const r=new Buffer(4);r.writeUInt32LE(t,0),yield this.writeBuffer(e,r)}))}writeString(e,t,r){return i(this,void 0,void 0,(function*(){const i=Buffer.alloc(t);for(let e=0;e<t&&e<r.length;e++)i[e]=r.charCodeAt(e);for(let r=0;r<t;r+=4)yield this.writeBuffer(e+r,i.slice(r,r+4))}))}readUInt32(e){return i(this,void 0,void 0,(function*(){return(yield this.readBuffer(e)).readUInt32LE(0)}))}readString(e,t){return i(this,void 0,void 0,(function*(){const r=[];let i=0;for(;i<t;){const t=yield this.readBuffer(e+i);r.push(t),i+=4}const o=Buffer.concat(r);let n=o.indexOf(0);return n=-1===n?o.length:n,o.slice(0,n).toString("ascii")}))}};t.ConfigMessageDpmBcmMt=class extends s{constructor(e,t,r){super(e,t,r)}init(e){return new Promise(e=>e())}uninit(e){return new Promise(e=>e())}}},function(e,t,r){var i=r(5),o=i,n=Function("return this")();o.exportSymbol("proto.BleAdvert.Data",null,n),o.exportSymbol("proto.BleAdvert.DataArray",null,n),proto.BleAdvert.Data=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.BleAdvert.Data,i.Message),o.DEBUG&&!COMPILED&&(proto.BleAdvert.Data.displayName="proto.BleAdvert.Data"),i.Message.GENERATE_TO_OBJECT&&(proto.BleAdvert.Data.prototype.toObject=function(e){return proto.BleAdvert.Data.toObject(e,this)},proto.BleAdvert.Data.toObject=function(e,t){var r={timestamp:t.getTimestamp(),rssi:t.getRssi(),packetCounter:t.getPacketCounter(),configNumber:t.getConfigNumber(),temperature:t.getTemperature(),batteryVoltage:t.getBatteryVoltage(),restartsUnknown:t.getRestartsUnknown(),restartsSoftware:t.getRestartsSoftware(),restartsWatchdog:t.getRestartsWatchdog(),shallowSleepTimeout:t.getShallowSleepTimeout()};return e&&(r.$jspbMessageInstance=t),r}),proto.BleAdvert.Data.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.BleAdvert.Data;return proto.BleAdvert.Data.deserializeBinaryFromReader(r,t)},proto.BleAdvert.Data.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setTimestamp(r);break;case 2:r=t.readSint32();e.setRssi(r);break;case 3:r=t.readUint32();e.setPacketCounter(r);break;case 4:r=t.readUint32();e.setConfigNumber(r);break;case 5:r=t.readFloat();e.setTemperature(r);break;case 6:r=t.readFloat();e.setBatteryVoltage(r);break;case 7:r=t.readUint32();e.setRestartsUnknown(r);break;case 8:r=t.readUint32();e.setRestartsSoftware(r);break;case 9:r=t.readUint32();e.setRestartsWatchdog(r);break;case 10:r=t.readUint32();e.setShallowSleepTimeout(r);break;default:t.skipField()}}return e},proto.BleAdvert.Data.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.BleAdvert.Data.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.BleAdvert.Data.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getTimestamp())&&e.writeInt64(1,t),0!==(t=this.getRssi())&&e.writeSint32(2,t),0!==(t=this.getPacketCounter())&&e.writeUint32(3,t),0!==(t=this.getConfigNumber())&&e.writeUint32(4,t),0!==(t=this.getTemperature())&&e.writeFloat(5,t),0!==(t=this.getBatteryVoltage())&&e.writeFloat(6,t),0!==(t=this.getRestartsUnknown())&&e.writeUint32(7,t),0!==(t=this.getRestartsSoftware())&&e.writeUint32(8,t),0!==(t=this.getRestartsWatchdog())&&e.writeUint32(9,t),0!==(t=this.getShallowSleepTimeout())&&e.writeUint32(10,t)},proto.BleAdvert.Data.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.BleAdvert.Data.prototype.getTimestamp=function(){return i.Message.getFieldProto3(this,1,0)},proto.BleAdvert.Data.prototype.setTimestamp=function(e){i.Message.setField(this,1,e)},proto.BleAdvert.Data.prototype.getRssi=function(){return i.Message.getFieldProto3(this,2,0)},proto.BleAdvert.Data.prototype.setRssi=function(e){i.Message.setField(this,2,e)},proto.BleAdvert.Data.prototype.getPacketCounter=function(){return i.Message.getFieldProto3(this,3,0)},proto.BleAdvert.Data.prototype.setPacketCounter=function(e){i.Message.setField(this,3,e)},proto.BleAdvert.Data.prototype.getConfigNumber=function(){return i.Message.getFieldProto3(this,4,0)},proto.BleAdvert.Data.prototype.setConfigNumber=function(e){i.Message.setField(this,4,e)},proto.BleAdvert.Data.prototype.getTemperature=function(){return i.Message.getFieldProto3(this,5,0)},proto.BleAdvert.Data.prototype.setTemperature=function(e){i.Message.setField(this,5,e)},proto.BleAdvert.Data.prototype.getBatteryVoltage=function(){return i.Message.getFieldProto3(this,6,0)},proto.BleAdvert.Data.prototype.setBatteryVoltage=function(e){i.Message.setField(this,6,e)},proto.BleAdvert.Data.prototype.getRestartsUnknown=function(){return i.Message.getFieldProto3(this,7,0)},proto.BleAdvert.Data.prototype.setRestartsUnknown=function(e){i.Message.setField(this,7,e)},proto.BleAdvert.Data.prototype.getRestartsSoftware=function(){return i.Message.getFieldProto3(this,8,0)},proto.BleAdvert.Data.prototype.setRestartsSoftware=function(e){i.Message.setField(this,8,e)},proto.BleAdvert.Data.prototype.getRestartsWatchdog=function(){return i.Message.getFieldProto3(this,9,0)},proto.BleAdvert.Data.prototype.setRestartsWatchdog=function(e){i.Message.setField(this,9,e)},proto.BleAdvert.Data.prototype.getShallowSleepTimeout=function(){return i.Message.getFieldProto3(this,10,0)},proto.BleAdvert.Data.prototype.setShallowSleepTimeout=function(e){i.Message.setField(this,10,e)},proto.BleAdvert.DataArray=function(e){i.Message.initialize(this,e,0,-1,proto.BleAdvert.DataArray.repeatedFields_,null)},o.inherits(proto.BleAdvert.DataArray,i.Message),o.DEBUG&&!COMPILED&&(proto.BleAdvert.DataArray.displayName="proto.BleAdvert.DataArray"),proto.BleAdvert.DataArray.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.BleAdvert.DataArray.prototype.toObject=function(e){return proto.BleAdvert.DataArray.toObject(e,this)},proto.BleAdvert.DataArray.toObject=function(e,t){var r={samplesList:i.Message.toObjectList(t.getSamplesList(),proto.BleAdvert.Data.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.BleAdvert.DataArray.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.BleAdvert.DataArray;return proto.BleAdvert.DataArray.deserializeBinaryFromReader(r,t)},proto.BleAdvert.DataArray.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.BleAdvert.Data;t.readMessage(r,proto.BleAdvert.Data.deserializeBinaryFromReader),e.getSamplesList().push(r),e.setSamplesList(e.getSamplesList());break;default:t.skipField()}}return e},proto.BleAdvert.DataArray.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.BleAdvert.DataArray.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.BleAdvert.DataArray.prototype.serializeBinaryToWriter=function(e){var t;(t=this.getSamplesList()).length>0&&e.writeRepeatedMessage(1,t,proto.BleAdvert.Data.serializeBinaryToWriter)},proto.BleAdvert.DataArray.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.BleAdvert.DataArray.prototype.getSamplesList=function(){return i.Message.getRepeatedWrapperField(this,proto.BleAdvert.Data,1)},proto.BleAdvert.DataArray.prototype.setSamplesList=function(e){i.Message.setRepeatedWrapperField(this,1,e)},proto.BleAdvert.DataArray.prototype.clearSamplesList=function(){this.setSamplesList([])},o.object.extend(t,proto.BleAdvert)},function(e,t,r){var i=r(10),o=r(16),n=parseInt("0777",8);function s(e,t,r,a){"function"==typeof t?(r=t,t={}):t&&"object"==typeof t||(t={mode:t});var l=t.mode,c=t.fs||o;void 0===l&&(l=n&~process.umask()),a||(a=null);var u=r||function(){};e=i.resolve(e),c.mkdir(e,l,(function(r){if(!r)return u(null,a=a||e);switch(r.code){case"ENOENT":s(i.dirname(e),t,(function(r,i){r?u(r,i):s(e,t,u,i)}));break;default:c.stat(e,(function(e,t){e||!t.isDirectory()?u(r,a):u(null,a)}))}}))}e.exports=s.mkdirp=s.mkdirP=s,s.sync=function e(t,r,s){r&&"object"==typeof r||(r={mode:r});var a=r.mode,l=r.fs||o;void 0===a&&(a=n&~process.umask()),s||(s=null),t=i.resolve(t);try{l.mkdirSync(t,a),s=s||t}catch(o){switch(o.code){case"ENOENT":s=e(i.dirname(t),r,s),e(t,r,s);break;default:var c;try{c=l.statSync(t)}catch(e){throw o}if(!c.isDirectory())throw o}}return s}},function(e,t){e.exports=require("os")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NormalOperation=0]="NormalOperation",e[e.PoweredDown=1]="PoweredDown"}(t.ChannelPowerDown||(t.ChannelPowerDown={}));class i{constructor(e){if(this._value=this.fromGain(e),null===this._value)throw new Error("Invalid gain: "+e)}get Value(){return this._value}get Gain(){switch(this._value){case i.GAIN_1:return 1;case i.GAIN_2:return 2;case i.GAIN_3:return 3;case i.GAIN_4:return 4;case i.GAIN_6:return 6;case i.GAIN_8:return 8;case i.GAIN_12:return 12}return null}fromGain(e){switch(e){case 1:return i.GAIN_1;case 2:return i.GAIN_2;case 3:return i.GAIN_3;case 4:return i.GAIN_4;case 6:return i.GAIN_6;case 8:return i.GAIN_8;case 12:return i.GAIN_12}return null}}t.ChannelGain=i,i.GAIN_6=0,i.GAIN_1=1,i.GAIN_2=2,i.GAIN_3=3,i.GAIN_4=4,i.GAIN_8=5,i.GAIN_12=6,function(e){e[e.NormalElectrodeInput=0]="NormalElectrodeInput",e[e.InputShorted=1]="InputShorted",e[e.SupplyMeasurement=3]="SupplyMeasurement",e[e.TemperatureSensor=4]="TemperatureSensor",e[e.TestSignal=5]="TestSignal"}(t.ChannelInput||(t.ChannelInput={})),function(e){e[e.External=0]="External",e[e.Internal=1]="Internal"}(t.TestSource||(t.TestSource={})),function(e){e[e.Amp_1mV=0]="Amp_1mV",e[e.Amp_2mV=1]="Amp_2mV"}(t.TestSignalAmplitude||(t.TestSignalAmplitude={})),function(e){e[e.Freq_0_977Hz=0]="Freq_0_977Hz",e[e.Freq_1_953Hz=1]="Freq_1_953Hz",e[e.AtDC=3]="AtDC"}(t.TestSignalFrequency||(t.TestSignalFrequency={})),t.buildRegister_CHxSET=function(e){return(1&e.powerDown)<<7|(7&e.pgaGain.Value)<<4|(7&e.input)<<0},t.buildRegister_CONFIG2=function(e){return(1&e.testSource)<<4|(1&e.testSignalAmplitude)<<2|(3&e.testSignalFrequency)<<0}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(167);class n extends o.DownloadDataMessage{constructor(e,t,r,i,o){super(e,t,r,i,o)}download(){return i(this,void 0,void 0,(function*(){yield this.setNotifications(!0),yield this.ping();const e=yield this.runDownload();return yield this.ping(),yield this.setNotifications(!1),e}))}runDownload(){return i(this,void 0,void 0,(function*(){const e=yield this.requestSize();return yield this.ping(),yield this.requestData(0,e)}))}setNotifications(e){return i(this,void 0,void 0,(function*(){yield this.setControlPointNotification(e),yield this.setDataNotification(e)}))}}t.DownloadData=n},function(e,t){e.exports=require("zlib")},function(e,t){e.exports=require("events")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{static sensTempToDegC(e){return e/2048-4096}static sensAccelToG(e){return e*i.accFactor}static sensGyroToDps(e){return e*i.gyrFactor}static intTempToDegC(e){return e/4}static vbatToVolts(e){return e/1023*.6*10+.15}static map(e,t,r,i,o){return(e-t)*(o-i)/(r-t)+i}}t.Converter=i,i.accFactor=16/Math.pow(2,15),i.gyrFactor=250/Math.pow(2,15)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{static decodeInt12Array(e){if(e.length%3!=0)throw new Error("Invalid data, cannot decode.");const t=[];let r=0;for(;r<e.length;){const o=e.readUInt8(r);r++;const n=e.readUInt8(r);r++;const s=e.readUInt8(r);r++;const a=(255&o)+16*(240&n),l=(15&n)+16*(255&s);t.push(i.decodeInt12(a)),t.push(i.decodeInt12(l))}return t}static decodeInt12(e){return Math.round((-2049&e)-(2048&e))}}t.BinaryDecoder=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Name=0]="Name",e[e.Type=1]="Type",e[e.Access=2]="Access",e[e.Offset=3]="Offset",e[e.Size=4]="Size"}(t.EFieldDescriptor||(t.EFieldDescriptor={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(22),o=r(286),n=r(12),s=r(12),a=r(12),l=r(12),c=r(12),u=r(12),d=r(12),g=r(12),p=r(12),h=r(12),m=r(7),f=r(7),y=r(7),_=r(7),S=r(7),v=r(7),w=r(7),b=r(7),M=r(7),T=r(7),A=r(7),D=r(7),L=r(169);class E{static advert(e){const t=new i.Data;return t.setTimestamp(e.timestamp.getTime()),t.setRssi(e.rssi),t.setPacketCounter(e.packetCounter),t.setConfigNumber(e.configNumber),t.setTemperature(e.temperature),t.setBatteryVoltage(e.batteryVoltage),t.setRestartsUnknown(e.restartsUnknown),t.setRestartsSoftware(e.restartsSoftware),t.setRestartsWatchdog(e.restartsWatchdog),t.setShallowSleepTimeout(0),t}static sample(e){const t=new o.Data;return t.setUuid(e.uuid),t.setTimestamp(e.timestamp.getTime()),t.setRssi(e.rssi),t.setPacketCounter(e.packetCounter),t.setConfigNumber(e.configNumber),t.setBatteryVoltage(e.batteryVoltage),t.setTemperature(e.temperature),t.setRestartsUnknown(e.restartsUnknown),t.setRestartsSoftware(e.restartsSoftware),t.setRestartsWatchdog(e.restartsWatchdog),t.setErrors(e.errors),t.setEvent(e.event),t.setAccx(e.accx),t.setAccy(e.accy),t.setAccz(e.accz),t}static file(e){const t=new n.File;return t.setTimestamp(e.timestamp.getTime()),t.setRemoteDevice(e.remoteDevice),t.setRemoteStatus(e.remoteStatus),t.setRemoteConfig(e.remoteConfig),t.setLocalDevice(e.localDevice),t.setLocalStatus(e.localStatus),t.setLocalConfig(e.localConfig),t.setAcceleration(e.acceleration),t.setGyroscope(e.gyroscope),t}static remoteDevice(e){const t=e.remoteConfig.primary,r=new s.RemoteDevice;return r.setAddress(e.address),r.setUuid(e.uuid),r.setType(e.type),r.setName(e.type),r.setFirmwareVersion(t.firmwareVersion),r}static remoteStatus(e){const t=new a.RemoteStatus;return t.setRssi(e.rssi),t.setPacketCounter(e.packetCounter),t.setConfigNumber(e.configNumber),t.setTemperature(e.temperature),t.setBatteryVoltage(e.batteryVoltage),t.setRestartsUnknown(e.restartsUnknown),t.setRestartsSoftware(e.restartsSoftware),t.setRestartsWatchdog(e.restartsWatchdog),t.setEvent(e.event),t.setAccx(e.accx),t.setAccy(e.accy),t.setAccz(e.accz),t}static remoteConfig(e){const t=new l.RemoteConfig,r=e.remoteConfig.primary;return t.setWakeupWindow(r.advertInterval),t.setSleepTime(r.advertWindow),t.setModesEnabled(r.modesEnabled),t.setConnectionTimeout(0),t.setInternalPa(0),t}static localDevice(e){const t=new c.LocalDevice;return t.setIdentifier(e.identifier),t.setFirmwareVersion(e.firmwareVersion),t}static localStatus(e){const t=new u.LocalStatus;return t.setUptime(e.uptime),t}static localConfig(){return new d.LocalConfig}static accelData(e,t){const r=new Array;for(const e of t){const t=new h.Data;t.setValuesList(e),r.push(t)}const i=new g.Acceleration;return i.setSamplesList(r),i.setSamplingRate(e),i}static gyroData(e,t){const r=new Array;for(const e of t){const t=new h.Data;t.setValuesList(e),r.push(t)}const i=new p.Gyroscope;return i.setSamplesList(r),i.setSamplingRate(e),i}static event(e){const t=new m.Event;return t.setTimestamp(e.timestamp),t.setRemoteDevice(e.remoteDevice),t.setRemoteStatus(e.remoteStatus),t.setRemoteConfig(e.remoteConfig),t.setLocalDevice(e.localDevice),t.setLocalStatus(e.localStatus),t.setLocalConfig(e.localConfig),t.setData(e.data),t}static eventRemoteDevice(e){const t=e.remoteConfig.primary,r=new f.RemoteDevice;return r.setAddress(e.address),r.setUuid(e.uuid),r.setType(e.type),r.setName(e.type),r.setFirmwareVersion(t.firmwareVersion),r}static eventRemoteStatus(e){const t=new y.RemoteStatus;return t.setRssi(e.rssi),t.setPacketCounter(e.packetCounter),t.setConfigNumber(e.configNumber),t.setTemperature(e.temperature),t.setBatteryVoltage(e.batteryVoltage),t.setRestartsUnknown(e.restartsUnknown),t.setRestartsSoftware(e.restartsSoftware),t.setRestartsWatchdog(e.restartsWatchdog),t.setEvent(e.event),t.setAccx(e.accx),t.setAccy(e.accy),t.setAccz(e.accz),t}static eventRemoteConfig(e){const t=e.remoteConfig.primary,r=new _.RemoteConfig;r.setWakeupWindow(t.advertWindow),r.setSleepTime(t.advertInterval),r.setConnectionTimeout(0),r.setInternalPa(0),r.setModesEnabled(t.modesEnabled);const i=[];for(let t=1;t<=E.numberOfChannels;t++)i.push(E.eventChannelDescriptor(e,t));return r.setChannelsList(i),r}static eventChannelDescriptor(e,t){const r=e.remoteConfig.primary,i=new T.ChannelDescriptor;return i.setConfig(r[`ch${t}Config`]),i.setOffset(r[`ch${t}Offset`]),i.setMinDelta(r[`ch${t}MinDelta`]),i.setEmiRejRatio(r[`ch${t}EmiRejRatio`]),i.setFilter(E.eventFilter(e,t)),i}static eventFilter(e,t){const r=e.remoteConfig.primary,i=new A.Filter;i.setConfig(r[`ch${t}FiltConfig`]);const o=[];for(let r=1;r<=3;r++)o.push(E.eventFilterSection(e,t,r));return i.setSectionsList(o),i}static eventFilterSection(e,t,r){const i=e.remoteConfig.primary,o=new D.FilterSection;return o.setB0(i[`ch${t}FiltS${r}B0`]),o.setB1(i[`ch${t}FiltS${r}B1`]),o.setB2(i[`ch${t}FiltS${r}B2`]),o.setA0(i[`ch${t}FiltS${r}A0`]),o.setA1(i[`ch${t}FiltS${r}A1`]),o.setA2(i[`ch${t}FiltS${r}A2`]),o.setGain(i[`ch${t}FiltS${r}Gain`]),o}static eventLocalDevice(e){const t=new S.LocalDevice;return t.setIdentifier(e.identifier),t.setFirmwareVersion(e.firmwareVersion),t}static eventLocalStatus(e){const t=new v.LocalStatus;return t.setOrientation(e.orientation),t}static eventLocalConfig(e){const t=e.localConfig,r=new w.LocalConfig;return r.setSpeedThreshold(t.speedThreshold),r.setAntennaDistance(t.antennaDistance),r.setLowAlarmThresholdList([t.lowAlarmThresholds.x,t.lowAlarmThresholds.y,t.lowAlarmThresholds.z]),r.setHighAlarmThresholdList([t.highAlarmThresholds.x,t.highAlarmThresholds.y,t.highAlarmThresholds.z]),r}static eventData(e){const t=new b.Data;t.setTimestamp(e.timestamp.getTime()),t.setChannel(e.channel),t.setDelta(e.delta),t.setLocationsList(e.locations);const r=[];for(const t of e.allSamples){const e=new M.Values;e.setValuesList(t),r.push(e)}return t.setSamplesList(r),t}static location(e){const t=new L.Location;return t.setTimestamp(e.timestamp.getTime()),t.setValidDate(e.valid.date),t.setValidTime(e.valid.time),t.setFullyResolved(e.valid.fullyResolved),t.setGnssFixOk(e.gnssFixOk),t.setGnssFixType(e.gnssFixType),t.setDiffCorrApplied(e.diffCorrApplied),t.setValidWeekNumber(e.weekNumberValid),t.setValidTimeOfWeek(e.timeOfWeekValid),t.setValidVehicleHeading(e.vehicleHeadingValid),t.setLongitude(e.longitude),t.setLatitude(e.latitude),t.setAltitudeEllipsoid(e.altitudeEllipsoid),t.setAltitudeMeanSeaLevel(e.altitudeMeanSeaLevel),t.setGroundSpeed(e.groundSpeed),t.setSpeed(e.speed),t.setHeadingMotion(e.headingMotion),t.setHeadingVehicle(e.headingVehicle),t.setHorizontalAccuracy(e.horizontalAccuracy),t.setVerticalAccuracy(e.verticalAccuracy),t.setSpeedAccuracy(e.speedAccuracy),t.setHeadingAccuracy(e.headingAccuracy),t.setSatNum(e.satNum),t.setSatNumAge(e.satNumAge),t.setPositionDop(e.positionDOP),t.setGeometricDop(e.geometricDOP),t.setTimeDop(e.timeDOP),t.setHorizontalDop(e.horizontalDOP),t.setDopAge(e.dopAge),t}}t.Serializer=E,E.numberOfChannels=3},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{static sensTempToDegC(e){return e/2048-4096}static sensCapToPikoFarad(e,t=0,r=0){let o=0;return o=e>=8388608?i.map(e,8388608,16777215,0,8.192):i.map(e,0,8388608,-8.192,0),t>=128?(t-=128,t=i.map(t,0,63,0,17)):t=0,r>=128?(r-=128,r=i.map(r,0,63,0,17)):r=0,o=o+t-r}static sensAccelToG(e){return e/10}static intTempToDegC(e){return e/4}static vbatToVolts(e){return 2*e/255+2}static map(e,t,r,i,o){return(e-t)*(o-i)/(r-t)+i}}t.Converter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Converter=class{static sensTempToDegC(e){return e/2048-4096}static sensAccelToG(e){return e/10}static intTempToDegC(e){return e/4}static vbatToVolts(e){return e/1024*3.6}static map(e,t,r,i,o){return(e-t)*(o-i)/(r-t)+i}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Converter=class{constructor(e,t){this.setRange(e,t)}setRange(e,t){this.accFactor=e/Math.pow(2,15),this.gyrFactor=t/Math.pow(2,15)}sensTempToDegC(e){const t=1.83/(Math.pow(2,10)-1)*e/(1.83*(1+100/16.2))+.5,r=909*t/(1-t);return 140.41*Math.sqrt(1+.00764*r)-412.6+-625e-19*Math.pow(r,5)+-125e-26*Math.pow(r,7)}sensAccelToG(e){return e*this.accFactor}sensGyroToDps(e){return e*this.gyrFactor}intTempToDegC(e){return e/4}vbatToVolts(e){return 3.6*e/1024}map(e,t,r,i,o){return(e-t)*(o-i)/(r-t)+i}}},function(e,t,r){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,r){return e<12?r?"vm":"VM":r?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},o={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},n=function(e){return function(t,r,n,s){var a=i(t),l=o[e][i(t)];return 2===a&&(l=l[r?0:1]),l.replace(/%d/i,t)}},s=["","","","","","","","","","","",""];e.defineLocale("ar",{months:s,monthsShort:s,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:n("s"),ss:n("s"),m:n("m"),mm:n("m"),h:n("h"),hh:n("h"),d:n("d"),dd:n("d"),M:n("M"),MM:n("M"),y:n("y"),yy:n("y")},preparse:function(e){return e.replace(/[]/g,(function(e){return r[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(e){return function(t,o,n,s){var a=r(t),l=i[e][r(t)];return 2===a&&(l=l[o?0:1]),l.replace(/%d/i,t)}},n=["","","","","","","","","","","",""];e.defineLocale("ar-ly",{months:n,monthsShort:n,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return r[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:0,doy:6}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,r){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var r=e%10;return e+(t[r]||t[e%100-r]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e,t,r){var i,o;return"m"===r?t?"":"":"h"===r?t?"":"":e+" "+(i=+e,o={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[r].split("_"),i%10==1&&i%100!=11?o[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?o[1]:o[2])}e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:t,mm:t,h:t,hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,r){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,r=e%100;return 0===e?e+"-":0===r?e+"-":r>10&&r<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return r[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return r[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e,t,r){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[r],e)}e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(function e(t){return t>9?e(t%10):t}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){return e+(1===e?"a":"vet")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e,t,r){var i=e+" ";switch(r){case"ss":return i+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var r=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(r="a"),e+r},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),r="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),i=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],o=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function n(e){return e>1&&e<5&&1!=~~(e/10)}function s(e,t,r,i){var o=e+" ";switch(r){case"s":return t||i?"pr sekund":"pr sekundami";case"ss":return t||i?o+(n(e)?"sekundy":"sekund"):o+"sekundami";case"m":return t?"minuta":i?"minutu":"minutou";case"mm":return t||i?o+(n(e)?"minuty":"minut"):o+"minutami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?o+(n(e)?"hodiny":"hodin"):o+"hodinami";case"d":return t||i?"den":"dnem";case"dd":return t||i?o+(n(e)?"dny":"dn"):o+"dny";case"M":return t||i?"msc":"mscem";case"MM":return t||i?o+(n(e)?"msce":"msc"):o+"msci";case"y":return t||i?"rok":"rokem";case"yy":return t||i?o+(n(e)?"roky":"let"):o+"lety"}}e.defineLocale("cs",{months:t,monthsShort:r,monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:s,ss:s,m:s,mm:s,h:s,hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){return e+(/$/i.exec(e)?"":/$/i.exec(e)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e,t,r,i){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?o[r][0]:o[r][1]}e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e,t,r,i){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?o[r][0]:o[r][1]}e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e,t,r,i){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?o[r][0]:o[r][1]}e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t=["","","","","","","","","","","",""],r=["","","","","","",""];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:r,weekdaysShort:r,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,r){return e>11?r?"":"":r?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var r,i=this._calendarEl[e],o=t&&t.hours();return((r=i)instanceof Function||"[object Function]"===Object.prototype.toString.call(r))&&(i=i.apply(t)),i.replace("{}",o%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("en-SG",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,r){return e>11?r?"p.t.m.":"P.T.M.":r?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),r="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?r[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),r="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?r[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),r="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?r[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e,t,r,i){var o={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?o[r][2]?o[r][2]:o[r][1]:i?o[r][0]:o[r][1]}e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,r){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:" d%",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,(function(e){return r[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(r(0))},function(e,t,r){!function(e){"use strict";var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),r=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]];function i(e,i,o,n){var s="";switch(o){case"s":return n?"muutaman sekunnin":"muutama sekunti";case"ss":return n?"sekunnin":"sekuntia";case"m":return n?"minuutin":"minuutti";case"mm":s=n?"minuutin":"minuuttia";break;case"h":return n?"tunnin":"tunti";case"hh":s=n?"tunnin":"tuntia";break;case"d":return n?"pivn":"piv";case"dd":s=n?"pivn":"piv";break;case"M":return n?"kuukauden":"kuukausi";case"MM":s=n?"kuukauden":"kuukautta";break;case"y":return n?"vuoden":"vuosi";case"yy":s=n?"vuoden":"vuotta"}return s=function(e,i){return e<10?i?r[e]:t[e]:e}(e,n)+" "+s}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),r="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?r[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("ga",{months:["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Mitheamh","Iil","Lnasa","Men Fmhair","Deaireadh Fmhair","Samhain","Nollaig"],monthsShort:["Ean","Feab","Mrt","Aibr","Beal","Mit","Iil","Lna","Men","Deai","Samh","Noll"],monthsParseExact:!0,weekdays:["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Satharn"],weekdaysShort:["Dom","Lua","Mi","Ca","Da","hAo","Sat"],weekdaysMin:["Do","Lu","M","Ce","D","hA","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn aig] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d m",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e,t,r,i){var o={s:["thodde secondanim","thodde second"],ss:[e+" secondanim",e+" second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voranim",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?o[r][0]:o[r][1]}e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return r[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10==0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,r){return e<5?" ":e<10?"":e<12?r?'"':" ":e<18?r?'"':" ":""}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return r[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e,t,r){var i=e+" ";switch(r){case"ss":return i+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function r(e,t,r,i){var o=e;switch(r){case"s":return i||t?"nhny msodperc":"nhny msodperce";case"ss":return o+(i||t)?" msodperc":" msodperce";case"m":return"egy"+(i||t?" perc":" perce");case"mm":return o+(i||t?" perc":" perce");case"h":return"egy"+(i||t?" ra":" rja");case"hh":return o+(i||t?" ra":" rja");case"d":return"egy"+(i||t?" nap":" napja");case"dd":return o+(i||t?" nap":" napja");case"M":return"egy"+(i||t?" hnap":" hnapja");case"MM":return o+(i||t?" hnap":" hnapja");case"y":return"egy"+(i||t?" v":" ve");case"yy":return o+(i||t?" v":" ve")}return""}function i(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,r){return e<12?!0===r?"de":"DE":!0===r?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,r){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function r(e,r,i,o){var n=e+" ";switch(i){case"s":return r||o?"nokkrar sekndur":"nokkrum sekndum";case"ss":return t(e)?n+(r||o?"sekndur":"sekndum"):n+"seknda";case"m":return r?"mnta":"mntu";case"mm":return t(e)?n+(r||o?"mntur":"mntum"):r?n+"mnta":n+"mntu";case"hh":return t(e)?n+(r||o?"klukkustundir":"klukkustundum"):n+"klukkustund";case"d":return r?"dagur":o?"dag":"degi";case"dd":return t(e)?r?n+"dagar":n+(o?"daga":"dgum"):r?n+"dagur":n+(o?"dag":"degi");case"M":return r?"mnuur":o?"mnu":"mnui";case"MM":return t(e)?r?n+"mnuir":n+(o?"mnui":"mnuum"):r?n+"mnuur":n+(o?"mnu":"mnui");case"y":return r||o?"r":"ri";case"yy":return t(e)?n+(r||o?"r":"rum"):n+(r||o?"r":"ri")}}e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:r,ss:r,m:r,mm:r,h:"klukkustund",hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("ja",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(e){return e.week()<this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(e){return this.week()<e.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,r){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):void 0},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20==0||e%100==0?"-"+e:e+"-"},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(e){return e.replace(/[]/g,(function(e){return r[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return r[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=[" ","","","","","","","",""," "," "," "];e.defineLocale("ku",{months:i,monthsShort:i,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return//.test(e)},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return r[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e,t,r,i){var o={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?o[r][0]:o[r][1]}function r(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return r(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return r(e)}return r(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return r(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return r(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function r(e,t,r,i){return t?o(r)[0]:i?o(r)[1]:o(r)[2]}function i(e){return e%10==0||e>10&&e<20}function o(e){return t[e].split("_")}function n(e,t,n,s){var a=e+" ";return 1===e?a+r(0,t,n[0],s):t?a+(i(e)?o(n)[1]:o(n)[0]):s?a+o(n)[1]:a+(i(e)?o(n)[1]:o(n)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(e,t,r,i){return t?"kelios sekunds":i?"keli sekundi":"kelias sekundes"},ss:n,m:r,mm:n,h:r,hh:n,d:r,dd:n,M:r,MM:n,y:r,yy:n},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function r(e,t,r){return r?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function i(e,i,o){return e+" "+r(t[o],e,i)}function o(e,i,o){return r(t[o],e,i)}e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(e,t){return t?"daas sekundes":"dam sekundm"},ss:i,m:o,mm:i,h:o,hh:i,d:o,dd:i,M:o,MM:i,y:o,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,r,i){var o=t.words[i];return 1===i.length?r?o[0]:o[1]:e+" "+t.correctGrammaticalCase(e,o)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,r=e%100;return 0===e?e+"-":0===r?e+"-":r>10&&r<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,r){return e<4?"":e<12?"":e<17?" ":e<20?"":""}})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e,t,r,i){switch(r){case"s":return t?" ":" ";case"ss":return e+(t?" ":" ");case"m":case"mm":return e+(t?" ":" ");case"h":case"hh":return e+(t?" ":" ");case"d":case"dd":return e+(t?" ":" ");case"M":case"MM":return e+(t?" ":" ");case"y":case"yy":return e+(t?" ":" ");default:return e}}e.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" ";default:return e}}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function i(e,t,r,i){var o="";if(t)switch(r){case"s":o=" ";break;case"ss":o="%d ";break;case"m":o=" ";break;case"mm":o="%d ";break;case"h":o=" ";break;case"hh":o="%d ";break;case"d":o=" ";break;case"dd":o="%d ";break;case"M":o=" ";break;case"MM":o="%d ";break;case"y":o=" ";break;case"yy":o="%d "}else switch(r){case"s":o=" ";break;case"ss":o="%d ";break;case"m":o=" ";break;case"mm":o="%d ";break;case"h":o=" ";break;case"hh":o="%d ";break;case"d":o=" ";break;case"dd":o="%d ";break;case"M":o=" ";break;case"MM":o="%d ";break;case"y":o=" ";break;case"yy":o="%d "}return o.replace(/%d/i,e)}e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},preparse:function(e){return e.replace(/[]/g,(function(e){return r[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,r){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,r){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return r[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,(function(e){return r[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(r(0))},function(e,t,r){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),r="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],o=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?r[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),r="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],o=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?r[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return r[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(r(0))},function(e,t,r){!function(e){"use strict";var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),r="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function i(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function o(e,t,r){var o=e+" ";switch(r){case"ss":return o+(i(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return o+(i(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return o+(i(e)?"godziny":"godzin");case"MM":return o+(i(e)?"miesice":"miesicy");case"yy":return o+(i(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,i){return e?""===i?"("+r[e.month()]+"|"+t[e.month()]+")":/D MMMM/.test(i)?r[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:o,m:o,mm:o,h:o,hh:o,d:"1 dzie",dd:"%d dni",M:"miesic",MM:o,y:"rok",yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e,t,r){var i=" ";return(e%100>=20||e>=100&&e%100==0)&&(i=" de "),e+i+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[r]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:t,m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e,t,r){var i,o;return"m"===r?t?"":"":e+" "+(i=+e,o={ss:t?"__":"__",mm:t?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[r].split("_"),i%10==1&&i%100!=11?o[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?o[1]:o[2])}var r=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,r){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t=["","","","","","","","","","","",""],r=["","","","","","",""];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:r,weekdaysShort:r,weekdaysMin:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,r){return e>11?r?"..":" ":r?"..":" "}})}(r(0))},function(e,t,r){!function(e){"use strict";var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),r="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function i(e){return e>1&&e<5}function o(e,t,r,o){var n=e+" ";switch(r){case"s":return t||o?"pr seknd":"pr sekundami";case"ss":return t||o?n+(i(e)?"sekundy":"seknd"):n+"sekundami";case"m":return t?"minta":o?"mintu":"mintou";case"mm":return t||o?n+(i(e)?"minty":"mint"):n+"mintami";case"h":return t?"hodina":o?"hodinu":"hodinou";case"hh":return t||o?n+(i(e)?"hodiny":"hodn"):n+"hodinami";case"d":return t||o?"de":"dom";case"dd":return t||o?n+(i(e)?"dni":"dn"):n+"dami";case"M":return t||o?"mesiac":"mesiacom";case"MM":return t||o?n+(i(e)?"mesiace":"mesiacov"):n+"mesiacmi";case"y":return t||o?"rok":"rokom";case"yy":return t||o?n+(i(e)?"roky":"rokov"):n+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:r,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e,t,r,i){var o=e+" ";switch(r){case"s":return t||i?"nekaj sekund":"nekaj sekundami";case"ss":return o+=1===e?t?"sekundo":"sekundi":2===e?t||i?"sekundi":"sekundah":e<5?t||i?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return o+=1===e?t?"minuta":"minuto":2===e?t||i?"minuti":"minutama":e<5?t||i?"minute":"minutami":t||i?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return o+=1===e?t?"ura":"uro":2===e?t||i?"uri":"urama":e<5?t||i?"ure":"urami":t||i?"ur":"urami";case"d":return t||i?"en dan":"enim dnem";case"dd":return o+=1===e?t||i?"dan":"dnem":2===e?t||i?"dni":"dnevoma":t||i?"dni":"dnevi";case"M":return t||i?"en mesec":"enim mesecem";case"MM":return o+=1===e?t||i?"mesec":"mesecem":2===e?t||i?"meseca":"mesecema":e<5?t||i?"mesece":"meseci":t||i?"mesecev":"meseci";case"y":return t||i?"eno leto":"enim letom";case"yy":return o+=1===e?t||i?"leto":"letom":2===e?t||i?"leti":"letoma":e<5?t||i?"leta":"leti":t||i?"let":"leti"}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,r){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,r,i){var o=t.words[i];return 1===i.length?r?o[0]:o[1]:e+" "+t.correctGrammaticalCase(e,o)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,r,i){var o=t.words[i];return 1===i.length?r?o[0]:o[1]:e+" "+t.correctGrammaticalCase(e,o)}};e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,r){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,(function(e){return r[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||||/,meridiem:function(e,t,r){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t?e:""===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("tg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=11?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<11?"":e<16?"":e<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function r(e,r,i,o){var n=function(e){var r=Math.floor(e%1e3/100),i=Math.floor(e%100/10),o=e%10,n="";return r>0&&(n+=t[r]+"vatlh"),i>0&&(n+=(""!==n?" ":"")+t[i]+"maH"),o>0&&(n+=(""!==n?" ":"")+t[o]),""===n?"pagh":n}(e);switch(i){case"ss":return n+" lup";case"mm":return n+" tup";case"hh":return n+" rep";case"dd":return n+" jaj";case"MM":return n+" jar";case"yy":return n+" DIS"}}e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:r,m:"wa tup",mm:r,h:"wa rep",hh:r,d:"wa jaj",dd:r,M:"wa jar",MM:r,y:"wa DIS",yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,r){switch(r){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var i=e%10;return e+(t[i]||t[e%100-i]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e,t,r,i){var o={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return i?o[r][0]:t?o[r][0]:o[r][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,r){return e>11?r?"d'o":"D'O":r?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(e,t){return 12===e&&(e=0)," "===t||""===t||" "===t?e:" "===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,r){var i=100*e+t;return i<600?" ":i<900?"":i<1130?" ":i<1230?"":i<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";function t(e,t,r){var i,o;return"m"===r?t?"":"":"h"===r?t?"":"":e+" "+(i=+e,o={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[r].split("_"),i%10==1&&i%100!=11?o[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?o[1]:o[2])}function r(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(e,t){var r={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===e?r.nominative.slice(1,7).concat(r.nominative.slice(0,1)):e?r[/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:r.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:r("[ "),nextDay:r("[ "),lastDay:r("[ "),nextWeek:r("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return r("[] dddd [").call(this);case 1:case 2:case 4:return r("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,r){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";var t=["","","","","","","","","","","",""],r=["","","","","","",""];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:r,weekdaysShort:r,weekdaysMin:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,r){return e<12?r?"sa":"SA":r?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,r){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,r){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(r(0))},function(e,t,r){!function(e){"use strict";e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,r){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(r(0))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4),o=r(262),n=r(1),s=r(25);var a;!function(e){e[e.Okay=0]="Okay",e[e.InvalidConfig=1]="InvalidConfig",e[e.AdcFailure=2]="AdcFailure",e[e.AdcLocked=3]="AdcLocked"}(a||(a={}));class l{constructor(e){this._value=this.fromFrequency(e)}get Value(){return this._value}get Frequency(){switch(this._value){case l.FREQ_50HZ:return 50;case l.FREQ_25HZ:return 25;case l.FREQ_20HZ:return 20;case l.FREQ_10HZ:return 10;case l.FREQ_5HZ:return 5;case l.FREQ_4HZ:return 4;case l.FREQ_2HZ:return 2;case l.FREQ_1HZ:return 1}throw new Error("Invalid sampling frequency")}fromFrequency(e){switch(e){case 50:return l.FREQ_50HZ;case 25:return l.FREQ_25HZ;case 20:return l.FREQ_20HZ;case 10:return l.FREQ_10HZ;case 5:return l.FREQ_5HZ;case 4:return l.FREQ_4HZ;case 2:return l.FREQ_2HZ;case 1:return l.FREQ_1HZ}throw new Error("Invalid sampling frequency")}}t.StreamFrequency=l,l.FREQ_50HZ=10,l.FREQ_25HZ=20,l.FREQ_20HZ=25,l.FREQ_10HZ=50,l.FREQ_5HZ=100,l.FREQ_4HZ=125,l.FREQ_2HZ=250,l.FREQ_1HZ=500;t.Stream=class{constructor(e,t,r){this.adapter=e,this.peripheral=t,this.chars=r,this.NUMBER_OF_CHANNELS=8,this.logger=n.Logger.getLogger("jrd-dev-ast-stream"),this.totalGain=[o.Const.DEFAULT_GAIN,o.Const.DEFAULT_GAIN,o.Const.DEFAULT_GAIN,o.Const.DEFAULT_GAIN,o.Const.DEFAULT_GAIN,o.Const.DEFAULT_GAIN,o.Const.DEFAULT_GAIN,o.Const.DEFAULT_GAIN],this.onNotificationReference=null,this.value={samples:[0,0,0,0,0,0,0,0],batteryVoltage:0,temperature:0,tacho:!1},this.onDataCallback=null}start(e,t){this.onDataCallback=t;for(let t=0;t<this.NUMBER_OF_CHANNELS;++t)this.totalGain[t]=e.hardwareGain[t]*e.softwareGain[t].Gain;return Promise.resolve().then(()=>this.enableStream(e)).then(()=>this.enableDataNotifications()).then(()=>{this.onNotificationReference=this.onNotification.bind(this),this.adapter.on("characteristicValueChanged",this.onNotificationReference)}).catch(e=>{throw this.logger.log("warn",e),e})}stop(){return this.onNotificationReference&&(this.adapter.removeListener("characteristicValueChanged",this.onNotificationReference),this.onNotificationReference=null),Promise.resolve().then(()=>this.disableDataNotifications()).then(()=>this.disableStream())}onNotification(e){if(e.instanceId===this.chars.data1.instanceId){const t=new Buffer(e.value);this.value.samples[0]=this.parseSample(t,0,this.totalGain[0]),this.value.samples[1]=this.parseSample(t,3,this.totalGain[1]),this.value.samples[2]=this.parseSample(t,6,this.totalGain[2]),this.value.samples[3]=this.parseSample(t,9,this.totalGain[3]),this.value.batteryVoltage=this.parseBatteryVoltage(t,12),this.value.temperature=this.parseTemperature(t,14),this.value.tacho=this.parseTacho(t,16)}if(e.instanceId===this.chars.data2.instanceId){const t=new Buffer(e.value);this.value.samples[4]=this.parseSample(t,0,this.totalGain[4]),this.value.samples[5]=this.parseSample(t,3,this.totalGain[5]),this.value.samples[6]=this.parseSample(t,6,this.totalGain[6]),this.value.samples[7]=this.parseSample(t,9,this.totalGain[7]),this.onDataCallback(i.clone(this.value))}}parseSample(e,t,r){let i=new Buffer(4);return i[0]=0,e.copy(i,1,t,t+3),2.4*i.readInt32LE(0)/2147483647/r*1e3}parseTemperature(e,t){return e.readInt16LE(t)/4}parseBatteryVoltage(e,t){return e.readInt16LE(t)/1024*.6*8}parseTacho(e,t){return 1!==e.readUInt8(t)}enableStream(e){let t=null,r=this.prepareStartMessage(e);return Promise.resolve().then(()=>this.adapter.startCharacteristicsNotifications(this.chars.config)).then(()=>this.sendCommandReceiveResponse(r)).catch(e=>{this.logger.log("info","send command error",e),t=e}).then(()=>this.adapter.stopCharacteristicsNotifications(this.chars.config)).then(()=>{if(t)throw this.logger.log("info","error re-throw"),t})}prepareStartMessage(e){let t=new Buffer(12),r=0;t.writeUInt8(1,r++),t.writeUInt16LE(e.frequency.Value,r),r+=2;for(let i=0;i<this.NUMBER_OF_CHANNELS;++i)t.writeUInt8(s.buildRegister_CHxSET({powerDown:s.ChannelPowerDown.NormalOperation,pgaGain:e.softwareGain[i],input:s.ChannelInput.NormalElectrodeInput}),r++);return t.writeUInt8(s.buildRegister_CONFIG2({testSource:s.TestSource.Internal,testSignalAmplitude:s.TestSignalAmplitude.Amp_1mV,testSignalFrequency:s.TestSignalFrequency.Freq_0_977Hz}),r++),t}disableStream(){let e=null,t=new Buffer(1);return t.writeUInt8(0,0),Promise.resolve().then(()=>this.adapter.startCharacteristicsNotifications(this.chars.config)).then(()=>this.sendCommandReceiveResponse(t)).catch(t=>{e=t}).then(()=>this.adapter.stopCharacteristicsNotifications(this.chars.config)).then(()=>{if(e)throw e})}sendCommandReceiveResponse(e){return new Promise((t,r)=>{let i=e=>{if(e.instanceId===this.chars.config.instanceId){this.adapter.removeListener("characteristicValueChanged",i);let o=e.value[0];if(o===a.Okay)t();else{let e=this.getErrorMessage(o);r(new Error(e))}}};this.adapter.on("characteristicValueChanged",i),this.adapter.writeCharacteristicValue(this.chars.config,e).catch(e=>{this.adapter.removeListener("characteristicValueChanged",i),r(e)})})}getErrorMessage(e){switch(e){case a.InvalidConfig:return"Invalid sampling frequency.";case a.AdcFailure:return"Cannot start analog to digital converter.";case a.AdcFailure:return"Analog to digital converter has been already started."}return"Unknown error"}enableDataNotifications(){return this.adapter.startCharacteristicsNotifications(this.chars.data1).then(()=>this.adapter.startCharacteristicsNotifications(this.chars.data2))}disableDataNotifications(){return this.adapter.stopCharacteristicsNotifications(this.chars.data1).then(()=>this.adapter.stopCharacteristicsNotifications(this.chars.data2))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4),o=r(1),n=r(25);var s,a;!function(e){e[e.Okay=0]="Okay",e[e.InvalidConfig=1]="InvalidConfig",e[e.AdcFailure=2]="AdcFailure",e[e.AdcLocked=3]="AdcLocked"}(s||(s={}));class l{constructor(e){if(this._value=this.fromFrequency(e),null===this._value)throw new Error("Invalid sampling frequency")}get Value(){return this._value}get Frequency(){switch(this._value){case l.FREQ_16K:return 16e3;case l.FREQ_8K:return 8e3;case l.FREQ_4K:return 4e3;case l.FREQ_2K:return 2e3;case l.FREQ_1K:return 1e3;case l.FREQ_500:return 500;case l.FREQ_250:return 250}return null}fromFrequency(e){switch(e){case 16e3:return l.FREQ_16K;case 8e3:return l.FREQ_8K;case 4e3:return l.FREQ_4K;case 2e3:return l.FREQ_2K;case 1e3:return l.FREQ_1K;case 500:return l.FREQ_500;case 250:return l.FREQ_250}return null}}t.SamplingFrequency=l,l.FREQ_16K=0,l.FREQ_8K=1,l.FREQ_4K=2,l.FREQ_2K=3,l.FREQ_1K=4,l.FREQ_500=5,l.FREQ_250=6,function(e){e[e.MODE_TIME=0]="MODE_TIME",e[e.MODE_REVS=1]="MODE_REVS"}(a=t.LoggingMode||(t.LoggingMode={}));t.LoggingOptions=class{};t.Logging=class{constructor(e,t){this.di=e,this.char=t,this.NUMBER_OF_CHANNELS=8,this.logger=o.Logger.getLogger("jrd-dev-ast-log")}start(e){return this.logger.log("info","Starting..."),Promise.resolve().then(()=>this.configureLogging(e)).then(()=>this.di.scanner.setAutoScanMode(!1)).then(()=>this.di.scanner.stop()).then(()=>this.di.connection.disconnect()).then(()=>(this.logger.log("info","Enable shock burst"),this.enableShockBurst())).catch(e=>(this.logger.log("warn","start logging",e),this.di.scanner.setAutoScanMode(!0).then(()=>{throw e},()=>{throw e})))}configureLogging(e){let t=null;this.options=i.clone(e),this.validateOptions(this.options);let r=this.prepareStartMessage(this.options);return this.logger.log("info","configuration: ",JSON.stringify(e),JSON.stringify(r)),Promise.resolve().then(()=>this.di.connection.startNotifications(this.char)).then(()=>this.sendCommandReceiveResponse(r)).catch(e=>{t=e}).then(()=>this.di.connection.stopNotifications(this.char)).then(()=>{if(t)throw t})}sendCommandReceiveResponse(e){return new Promise((t,r)=>{let i=e=>{if(e.instanceId!==this.char.instanceId)return;this.di.adapter.removeListener("characteristicValueChanged",i);let o=e.value[0];if(o===s.Okay)this.logger.log("info","Configuration: success"),t();else{let e=this.getErrorMessage(o);this.logger.log("warn",e),r(new Error(e))}};return this.di.adapter.on("characteristicValueChanged",i),this.di.connection.write(this.char,e).catch(e=>{this.logger.log("warn","Configuration: cannot write configuration"),this.di.adapter.removeListener("characteristicValueChanged",i),r(e)})})}getErrorMessage(e){switch(e){case s.InvalidConfig:return"Invalid logging configuration.";case s.AdcFailure:return"Cannot start analog to digital converter.";case s.AdcFailure:return"Analog to digital converter has been already started."}return"Unknown error"}stop(){return this.disableShockBurst().then(()=>this.enableBle()).then(()=>this.di.scanner.setAutoScanMode(!0)).catch(e=>{throw this.logger.log("warn","stop logging",e),e})}enableShockBurst(){const e=this.options,t=e.softwareGain.map((t,r)=>t.Gain*e.hardwareGain[r]),r={rf_channel:e.rfChannel,rf_data_rate:e.rfDataRate,rf_use_lna:e.rfUseLna,sampling_rate:e.frequency.Frequency,decimation_ratio:e.decimation,samples:e.samples,total_gain:t};return this.logger.log("info",JSON.stringify(r)),this.di.adapter.enableDataStream(r)}disableShockBurst(){return this.di.adapter.disableDataStream()}enableBle(){return this.di.adapter.enableBLE()}validateOptions(e){if(!e)throw new Error("Logging options are missing");const t=e.samples;if("number"!=typeof t||t<1)throw new Error("Invalid number of samples");if(e.mode!==a.MODE_TIME)throw new Error("Invalid logging mode");const r=e.frequency;if("object"!=typeof r||!(r instanceof l))throw new Error("Invalid sampling frequency");const o=e.decimation;if("number"!=typeof o||o<=0)throw new Error("Invalid decimation ratio");const s=e.rfChannel;if(s<0||s>255)throw new Error("Invalid radio channel");const c=e.rfDataRate;if(c<0||c>2)throw new Error("Invalid radio data rate");const u=e.rfAlwaysOn;if(u<0||u>1)throw new Error("Invalid radio always on parameter");const d=e.rfTxPower;if(d<0||d>255)throw new Error("Invalid tx power parameter");const g=e.sleepDuringLogging;if(g<0||g>1)throw new Error("Invalid sleep during logging");const p=e.softwareGain;if(!i.isArray(p)||8!==p.length)throw new Error("Invalid software gain");for(let e=0;e<p.length;++e)if("object"!=typeof p[e]||!(p[e]instanceof n.ChannelGain))throw new Error("Invalid software gain value for channel "+e);const h=e.hardwareGain;if(!i.isArray(h)||8!==h.length)throw new Error("Invalid hardware gain")}prepareStartMessage(e){const t=e.samples,r=e.mode,i=e.frequency.Value,o=e.rfChannel,s=e.rfTxPower,a=e.rfDataRate,l=e.rfAlwaysOn,c=e.softwareGain,u=e.sleepDuringLogging;let d=new Buffer(20),g=0;d.writeUInt32LE(t,g),g+=4,d.writeUInt8(r,g++),d.writeUInt8(i,g++),d.writeUInt8(o,g++),d.writeUInt8(s,g++),d.writeUInt8(a,g++),d.writeUInt8(l,g++),d.writeUInt8(u,g++);for(let e=0;e<this.NUMBER_OF_CHANNELS;++e)d.writeUInt8(this.buildRegister_CHxSET({powerDown:n.ChannelPowerDown.NormalOperation,pgaGain:c[e],input:n.ChannelInput.NormalElectrodeInput}),g++);return d.writeUInt8(this.buildRegister_CONFIG2({testSource:n.TestSource.Internal,testSignalAmplitude:n.TestSignalAmplitude.Amp_1mV,testSignalFrequency:n.TestSignalFrequency.Freq_0_977Hz}),g++),d}buildRegister_CHxSET(e){return(1&e.powerDown)<<7|(7&e.pgaGain.Value)<<4|(7&e.input)<<0}buildRegister_CONFIG2(e){return(1&e.testSource)<<4|(1&e.testSignalAmplitude)<<2|(3&e.testSignalFrequency)<<0}}},function(e,t,r){var i=r(5),o=i,n=Function("return this")();o.exportSymbol("proto.BcmSample.Data",null,n),o.exportSymbol("proto.BcmSample.DataArray",null,n),proto.BcmSample.Data=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.BcmSample.Data,i.Message),o.DEBUG&&!COMPILED&&(proto.BcmSample.Data.displayName="proto.BcmSample.Data"),i.Message.GENERATE_TO_OBJECT&&(proto.BcmSample.Data.prototype.toObject=function(e){return proto.BcmSample.Data.toObject(e,this)},proto.BcmSample.Data.toObject=function(e,t){var r={uuid:t.getUuid(),timestamp:t.getTimestamp(),rssi:t.getRssi(),packetCounter:t.getPacketCounter(),configNumber:t.getConfigNumber(),temperature:t.getTemperature(),batteryVoltage:t.getBatteryVoltage(),tensionAdc:t.getTensionAdc(),maximumRange:t.getMaximumRange(),minimumRange:t.getMinimumRange(),maximumUnit:t.getMaximumUnit(),minimumUnit:t.getMinimumUnit(),maximumAdc:t.getMaximumAdc(),minimumAdc:t.getMinimumAdc(),restartsUnknown:t.getRestartsUnknown(),restartsSoftware:t.getRestartsSoftware(),restartsWatchdog:t.getRestartsWatchdog()};return e&&(r.$jspbMessageInstance=t),r}),proto.BcmSample.Data.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.BcmSample.Data;return proto.BcmSample.Data.deserializeBinaryFromReader(r,t)},proto.BcmSample.Data.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setUuid(r);break;case 2:r=t.readInt64();e.setTimestamp(r);break;case 3:r=t.readSint32();e.setRssi(r);break;case 4:r=t.readUint32();e.setPacketCounter(r);break;case 5:r=t.readUint32();e.setConfigNumber(r);break;case 6:r=t.readFloat();e.setTemperature(r);break;case 7:r=t.readFloat();e.setBatteryVoltage(r);break;case 8:r=t.readUint32();e.setTensionAdc(r);break;case 9:r=t.readUint32();e.setMaximumRange(r);break;case 10:r=t.readUint32();e.setMinimumRange(r);break;case 11:r=t.readUint32();e.setMaximumUnit(r);break;case 12:r=t.readUint32();e.setMinimumUnit(r);break;case 13:r=t.readUint32();e.setMaximumAdc(r);break;case 14:r=t.readUint32();e.setMinimumAdc(r);break;case 15:r=t.readUint32();e.setRestartsUnknown(r);break;case 16:r=t.readUint32();e.setRestartsSoftware(r);break;case 17:r=t.readUint32();e.setRestartsWatchdog(r);break;default:t.skipField()}}return e},proto.BcmSample.Data.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.BcmSample.Data.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.BcmSample.Data.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getUuid()).length>0&&e.writeString(1,t),0!==(t=this.getTimestamp())&&e.writeInt64(2,t),0!==(t=this.getRssi())&&e.writeSint32(3,t),0!==(t=this.getPacketCounter())&&e.writeUint32(4,t),0!==(t=this.getConfigNumber())&&e.writeUint32(5,t),0!==(t=this.getTemperature())&&e.writeFloat(6,t),0!==(t=this.getBatteryVoltage())&&e.writeFloat(7,t),0!==(t=this.getTensionAdc())&&e.writeUint32(8,t),0!==(t=this.getMaximumRange())&&e.writeUint32(9,t),0!==(t=this.getMinimumRange())&&e.writeUint32(10,t),0!==(t=this.getMaximumUnit())&&e.writeUint32(11,t),0!==(t=this.getMinimumUnit())&&e.writeUint32(12,t),0!==(t=this.getMaximumAdc())&&e.writeUint32(13,t),0!==(t=this.getMinimumAdc())&&e.writeUint32(14,t),0!==(t=this.getRestartsUnknown())&&e.writeUint32(15,t),0!==(t=this.getRestartsSoftware())&&e.writeUint32(16,t),0!==(t=this.getRestartsWatchdog())&&e.writeUint32(17,t)},proto.BcmSample.Data.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.BcmSample.Data.prototype.getUuid=function(){return i.Message.getFieldProto3(this,1,"")},proto.BcmSample.Data.prototype.setUuid=function(e){i.Message.setField(this,1,e)},proto.BcmSample.Data.prototype.getTimestamp=function(){return i.Message.getFieldProto3(this,2,0)},proto.BcmSample.Data.prototype.setTimestamp=function(e){i.Message.setField(this,2,e)},proto.BcmSample.Data.prototype.getRssi=function(){return i.Message.getFieldProto3(this,3,0)},proto.BcmSample.Data.prototype.setRssi=function(e){i.Message.setField(this,3,e)},proto.BcmSample.Data.prototype.getPacketCounter=function(){return i.Message.getFieldProto3(this,4,0)},proto.BcmSample.Data.prototype.setPacketCounter=function(e){i.Message.setField(this,4,e)},proto.BcmSample.Data.prototype.getConfigNumber=function(){return i.Message.getFieldProto3(this,5,0)},proto.BcmSample.Data.prototype.setConfigNumber=function(e){i.Message.setField(this,5,e)},proto.BcmSample.Data.prototype.getTemperature=function(){return i.Message.getFieldProto3(this,6,0)},proto.BcmSample.Data.prototype.setTemperature=function(e){i.Message.setField(this,6,e)},proto.BcmSample.Data.prototype.getBatteryVoltage=function(){return i.Message.getFieldProto3(this,7,0)},proto.BcmSample.Data.prototype.setBatteryVoltage=function(e){i.Message.setField(this,7,e)},proto.BcmSample.Data.prototype.getTensionAdc=function(){return i.Message.getFieldProto3(this,8,0)},proto.BcmSample.Data.prototype.setTensionAdc=function(e){i.Message.setField(this,8,e)},proto.BcmSample.Data.prototype.getMaximumRange=function(){return i.Message.getFieldProto3(this,9,0)},proto.BcmSample.Data.prototype.setMaximumRange=function(e){i.Message.setField(this,9,e)},proto.BcmSample.Data.prototype.getMinimumRange=function(){return i.Message.getFieldProto3(this,10,0)},proto.BcmSample.Data.prototype.setMinimumRange=function(e){i.Message.setField(this,10,e)},proto.BcmSample.Data.prototype.getMaximumUnit=function(){return i.Message.getFieldProto3(this,11,0)},proto.BcmSample.Data.prototype.setMaximumUnit=function(e){i.Message.setField(this,11,e)},proto.BcmSample.Data.prototype.getMinimumUnit=function(){return i.Message.getFieldProto3(this,12,0)},proto.BcmSample.Data.prototype.setMinimumUnit=function(e){i.Message.setField(this,12,e)},proto.BcmSample.Data.prototype.getMaximumAdc=function(){return i.Message.getFieldProto3(this,13,0)},proto.BcmSample.Data.prototype.setMaximumAdc=function(e){i.Message.setField(this,13,e)},proto.BcmSample.Data.prototype.getMinimumAdc=function(){return i.Message.getFieldProto3(this,14,0)},proto.BcmSample.Data.prototype.setMinimumAdc=function(e){i.Message.setField(this,14,e)},proto.BcmSample.Data.prototype.getRestartsUnknown=function(){return i.Message.getFieldProto3(this,15,0)},proto.BcmSample.Data.prototype.setRestartsUnknown=function(e){i.Message.setField(this,15,e)},proto.BcmSample.Data.prototype.getRestartsSoftware=function(){return i.Message.getFieldProto3(this,16,0)},proto.BcmSample.Data.prototype.setRestartsSoftware=function(e){i.Message.setField(this,16,e)},proto.BcmSample.Data.prototype.getRestartsWatchdog=function(){return i.Message.getFieldProto3(this,17,0)},proto.BcmSample.Data.prototype.setRestartsWatchdog=function(e){i.Message.setField(this,17,e)},proto.BcmSample.DataArray=function(e){i.Message.initialize(this,e,0,-1,proto.BcmSample.DataArray.repeatedFields_,null)},o.inherits(proto.BcmSample.DataArray,i.Message),o.DEBUG&&!COMPILED&&(proto.BcmSample.DataArray.displayName="proto.BcmSample.DataArray"),proto.BcmSample.DataArray.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.BcmSample.DataArray.prototype.toObject=function(e){return proto.BcmSample.DataArray.toObject(e,this)},proto.BcmSample.DataArray.toObject=function(e,t){var r={samplesList:i.Message.toObjectList(t.getSamplesList(),proto.BcmSample.Data.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.BcmSample.DataArray.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.BcmSample.DataArray;return proto.BcmSample.DataArray.deserializeBinaryFromReader(r,t)},proto.BcmSample.DataArray.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.BcmSample.Data;t.readMessage(r,proto.BcmSample.Data.deserializeBinaryFromReader),e.getSamplesList().push(r),e.setSamplesList(e.getSamplesList());break;default:t.skipField()}}return e},proto.BcmSample.DataArray.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.BcmSample.DataArray.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.BcmSample.DataArray.prototype.serializeBinaryToWriter=function(e){var t;(t=this.getSamplesList()).length>0&&e.writeRepeatedMessage(1,t,proto.BcmSample.Data.serializeBinaryToWriter)},proto.BcmSample.DataArray.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.BcmSample.DataArray.prototype.getSamplesList=function(){return i.Message.getRepeatedWrapperField(this,proto.BcmSample.Data,1)},proto.BcmSample.DataArray.prototype.setSamplesList=function(e){i.Message.setRepeatedWrapperField(this,1,e)},proto.BcmSample.DataArray.prototype.clearSamplesList=function(){this.setSamplesList([])},o.object.extend(t,proto.BcmSample)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(1);var o,n;!function(e){e[e.Header=0]="Header",e[e.Data=1]="Data"}(o||(o={})),function(e){e[e.ACK=0]="ACK",e[e.NACK=1]="NACK"}(n||(n={}));t.DownloadDataMessage=class{constructor(e,t,r,o,n){this.adapter=e,this.device=t,this.controlPoint=r,this.packet=o,this.ping=n,this.logger=i.Logger.getLogger("dld-msg")}setControlPointNotification(e){return null===this.controlPoint?Promise.reject(new Error("Cannot enable control point notification")):this.adapter.startCharacteristicsNotifications(this.controlPoint)}setDataNotification(e){return null===this.packet?Promise.reject(new Error("Cannot enable packet notification")):e?this.adapter.startCharacteristicsNotifications(this.packet):this.adapter.stopCharacteristicsNotifications(this.packet)}requestSize(){return this.sendAndReceive(this.buildRequestHeader()).then(e=>e.readUInt32LE(0))}buildRequestHeader(){const e=new Buffer(2);return e.writeUInt16LE(o.Header,0),e}sendAndReceive(e){return new Promise((t,r)=>{if(null===this.controlPoint||null===this.packet)return r(new Error("Cannot send and receive data"));const i=()=>{this.adapter.removeListener("deviceDisconnected",o),this.adapter.removeListener("characteristicValueChanged",s)},o=e=>{e.instanceId===this.device.instanceId&&(i(),r(new Error("Device disconnected during data download")))},s=e=>{e.instanceId===this.controlPoint.instanceId&&(e=>{e.readUInt8(0)!==n.ACK&&(i(),r(new Error("Cannot download header: no ack")))})(new Buffer(e.value)),e.instanceId===this.packet.instanceId&&(e=>{i(),t(e)})(new Buffer(e.value))};this.adapter.on("deviceDisconnected",o),this.adapter.on("characteristicValueChanged",s),this.adapter.writeCharacteristicValue(this.controlPoint,e).catch(e=>{i(),r(e)})})}requestData(e,t,r=6e4){return new Promise((i,o)=>{if(null===this.controlPoint||null===this.packet)return o(new Error("Cannot download data"));const s=()=>{this.adapter.removeListener("deviceDisconnected",a),this.adapter.removeListener("characteristicValueChanged",p),clearInterval(h),clearTimeout(l)},a=e=>{e.instanceId===this.device.instanceId&&(s(),o(new Error("Device disconnected during data download")))},l=setTimeout(()=>{s(),o(new Error("Timeout during data download."))},r),c=Buffer.alloc(t);let u=0,d=0;const g=e=>{let r=e.length;u+r<t?u=this.addDataChunk(c,u,e,r):(u+r>t&&(r=t-u),u=this.addDataChunk(c,u,e,r),this.logger.info(`data size: ${c.length}`),s(),i(c)),d!==r&&(d=r,this.logger.info(`Chunk size: ${r}`))},p=e=>{e.instanceId===this.controlPoint.instanceId&&(e=>{e.readUInt8(0)!==n.ACK&&(s(),o(new Error("Cannot download data: no ack")))})(new Buffer(e.value)),e.instanceId===this.packet.instanceId&&g(new Buffer(e.value))};this.adapter.on("deviceDisconnected",a),this.adapter.on("characteristicValueChanged",p);const h=setInterval(()=>{this.logger.info(`Progress: ${u} / ${t}`)},5e3);this.adapter.writeCharacteristicValue(this.controlPoint,this.buildRequestData(e,t)).catch(e=>{s(),o(e)})})}buildRequestData(e,t){const r=new Buffer(10);return r.writeUInt16LE(o.Data,0),r.writeUInt32LE(e,2),r.writeUInt32LE(t,6),r}addDataChunk(e,t,r,i){return r.copy(e,t,0,i),t+i}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(16),o=r(10),n=r(27),s=r(23),a=r(0);class l{static buildFileName(e,t,r,i){const n=a(r).format("YYYYMMDD"),s=a(r).format("YYYYMMDDHHmmss"),l=o.join(e,t,n);return o.join(l,`${s}.${i}`)}static mkdirp(e){return new Promise((t,r)=>{s(e,e=>e?r(e):t())})}static saveFile(e,t){return e=`${e}.gz`,l.compress(t).then(t=>l.writeFile(e,t)).then(()=>e)}static compress(e){return new Promise((t,r)=>{n.gzip(e,(e,i)=>{e?r(e):t(i)})})}static writeFile(e,t){return new Promise((r,o)=>{i.writeFile(e,t,e=>{e?o(e):r()})})}}t.Utils=l},function(e,t,r){var i=r(5),o=i,n=Function("return this")();o.exportSymbol("proto.Location",null,n),proto.Location=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.Location,i.Message),o.DEBUG&&!COMPILED&&(proto.Location.displayName="proto.Location"),i.Message.GENERATE_TO_OBJECT&&(proto.Location.prototype.toObject=function(e){return proto.Location.toObject(e,this)},proto.Location.toObject=function(e,t){var r={timestamp:t.getTimestamp(),validDate:t.getValidDate(),validTime:t.getValidTime(),fullyResolved:t.getFullyResolved(),gnssFixOk:t.getGnssFixOk(),gnssFixType:t.getGnssFixType(),diffCorrApplied:t.getDiffCorrApplied(),validWeekNumber:t.getValidWeekNumber(),validTimeOfWeek:t.getValidTimeOfWeek(),validVehicleHeading:t.getValidVehicleHeading(),longitude:t.getLongitude(),latitude:t.getLatitude(),altitudeEllipsoid:t.getAltitudeEllipsoid(),altitudeMeanSeaLevel:t.getAltitudeMeanSeaLevel(),groundSpeed:t.getGroundSpeed(),speed:t.getSpeed(),headingMotion:t.getHeadingMotion(),headingVehicle:t.getHeadingVehicle(),horizontalAccuracy:t.getHorizontalAccuracy(),verticalAccuracy:t.getVerticalAccuracy(),speedAccuracy:t.getSpeedAccuracy(),headingAccuracy:t.getHeadingAccuracy(),satNum:t.getSatNum(),satNumAge:t.getSatNumAge(),positionDop:t.getPositionDop(),geometricDop:t.getGeometricDop(),timeDop:t.getTimeDop(),horizontalDop:t.getHorizontalDop(),dopAge:t.getDopAge()};return e&&(r.$jspbMessageInstance=t),r}),proto.Location.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.Location;return proto.Location.deserializeBinaryFromReader(r,t)},proto.Location.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readUint64();e.setTimestamp(r);break;case 2:r=t.readBool();e.setValidDate(r);break;case 3:r=t.readBool();e.setValidTime(r);break;case 4:r=t.readBool();e.setFullyResolved(r);break;case 5:r=t.readBool();e.setGnssFixOk(r);break;case 6:r=t.readUint32();e.setGnssFixType(r);break;case 7:r=t.readBool();e.setDiffCorrApplied(r);break;case 8:r=t.readBool();e.setValidWeekNumber(r);break;case 9:r=t.readBool();e.setValidTimeOfWeek(r);break;case 10:r=t.readBool();e.setValidVehicleHeading(r);break;case 11:r=t.readFloat();e.setLongitude(r);break;case 12:r=t.readFloat();e.setLatitude(r);break;case 13:r=t.readFloat();e.setAltitudeEllipsoid(r);break;case 14:r=t.readFloat();e.setAltitudeMeanSeaLevel(r);break;case 15:r=t.readFloat();e.setGroundSpeed(r);break;case 16:r=t.readFloat();e.setSpeed(r);break;case 17:r=t.readFloat();e.setHeadingMotion(r);break;case 18:r=t.readFloat();e.setHeadingVehicle(r);break;case 19:r=t.readFloat();e.setHorizontalAccuracy(r);break;case 20:r=t.readFloat();e.setVerticalAccuracy(r);break;case 21:r=t.readFloat();e.setSpeedAccuracy(r);break;case 22:r=t.readFloat();e.setHeadingAccuracy(r);break;case 23:r=t.readUint32();e.setSatNum(r);break;case 24:r=t.readFloat();e.setSatNumAge(r);break;case 25:r=t.readFloat();e.setPositionDop(r);break;case 26:r=t.readFloat();e.setGeometricDop(r);break;case 27:r=t.readFloat();e.setTimeDop(r);break;case 28:r=t.readFloat();e.setHorizontalDop(r);break;case 29:r=t.readFloat();e.setDopAge(r);break;default:t.skipField()}}return e},proto.Location.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.Location.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.Location.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getTimestamp())&&e.writeUint64(1,t),(t=this.getValidDate())&&e.writeBool(2,t),(t=this.getValidTime())&&e.writeBool(3,t),(t=this.getFullyResolved())&&e.writeBool(4,t),(t=this.getGnssFixOk())&&e.writeBool(5,t),0!==(t=this.getGnssFixType())&&e.writeUint32(6,t),(t=this.getDiffCorrApplied())&&e.writeBool(7,t),(t=this.getValidWeekNumber())&&e.writeBool(8,t),(t=this.getValidTimeOfWeek())&&e.writeBool(9,t),(t=this.getValidVehicleHeading())&&e.writeBool(10,t),0!==(t=this.getLongitude())&&e.writeFloat(11,t),0!==(t=this.getLatitude())&&e.writeFloat(12,t),0!==(t=this.getAltitudeEllipsoid())&&e.writeFloat(13,t),0!==(t=this.getAltitudeMeanSeaLevel())&&e.writeFloat(14,t),0!==(t=this.getGroundSpeed())&&e.writeFloat(15,t),0!==(t=this.getSpeed())&&e.writeFloat(16,t),0!==(t=this.getHeadingMotion())&&e.writeFloat(17,t),0!==(t=this.getHeadingVehicle())&&e.writeFloat(18,t),0!==(t=this.getHorizontalAccuracy())&&e.writeFloat(19,t),0!==(t=this.getVerticalAccuracy())&&e.writeFloat(20,t),0!==(t=this.getSpeedAccuracy())&&e.writeFloat(21,t),0!==(t=this.getHeadingAccuracy())&&e.writeFloat(22,t),0!==(t=this.getSatNum())&&e.writeUint32(23,t),0!==(t=this.getSatNumAge())&&e.writeFloat(24,t),0!==(t=this.getPositionDop())&&e.writeFloat(25,t),0!==(t=this.getGeometricDop())&&e.writeFloat(26,t),0!==(t=this.getTimeDop())&&e.writeFloat(27,t),0!==(t=this.getHorizontalDop())&&e.writeFloat(28,t),0!==(t=this.getDopAge())&&e.writeFloat(29,t)},proto.Location.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.Location.prototype.getTimestamp=function(){return i.Message.getFieldProto3(this,1,0)},proto.Location.prototype.setTimestamp=function(e){i.Message.setField(this,1,e)},proto.Location.prototype.getValidDate=function(){return i.Message.getFieldProto3(this,2,!1)},proto.Location.prototype.setValidDate=function(e){i.Message.setField(this,2,e)},proto.Location.prototype.getValidTime=function(){return i.Message.getFieldProto3(this,3,!1)},proto.Location.prototype.setValidTime=function(e){i.Message.setField(this,3,e)},proto.Location.prototype.getFullyResolved=function(){return i.Message.getFieldProto3(this,4,!1)},proto.Location.prototype.setFullyResolved=function(e){i.Message.setField(this,4,e)},proto.Location.prototype.getGnssFixOk=function(){return i.Message.getFieldProto3(this,5,!1)},proto.Location.prototype.setGnssFixOk=function(e){i.Message.setField(this,5,e)},proto.Location.prototype.getGnssFixType=function(){return i.Message.getFieldProto3(this,6,0)},proto.Location.prototype.setGnssFixType=function(e){i.Message.setField(this,6,e)},proto.Location.prototype.getDiffCorrApplied=function(){return i.Message.getFieldProto3(this,7,!1)},proto.Location.prototype.setDiffCorrApplied=function(e){i.Message.setField(this,7,e)},proto.Location.prototype.getValidWeekNumber=function(){return i.Message.getFieldProto3(this,8,!1)},proto.Location.prototype.setValidWeekNumber=function(e){i.Message.setField(this,8,e)},proto.Location.prototype.getValidTimeOfWeek=function(){return i.Message.getFieldProto3(this,9,!1)},proto.Location.prototype.setValidTimeOfWeek=function(e){i.Message.setField(this,9,e)},proto.Location.prototype.getValidVehicleHeading=function(){return i.Message.getFieldProto3(this,10,!1)},proto.Location.prototype.setValidVehicleHeading=function(e){i.Message.setField(this,10,e)},proto.Location.prototype.getLongitude=function(){return i.Message.getFieldProto3(this,11,0)},proto.Location.prototype.setLongitude=function(e){i.Message.setField(this,11,e)},proto.Location.prototype.getLatitude=function(){return i.Message.getFieldProto3(this,12,0)},proto.Location.prototype.setLatitude=function(e){i.Message.setField(this,12,e)},proto.Location.prototype.getAltitudeEllipsoid=function(){return i.Message.getFieldProto3(this,13,0)},proto.Location.prototype.setAltitudeEllipsoid=function(e){i.Message.setField(this,13,e)},proto.Location.prototype.getAltitudeMeanSeaLevel=function(){return i.Message.getFieldProto3(this,14,0)},proto.Location.prototype.setAltitudeMeanSeaLevel=function(e){i.Message.setField(this,14,e)},proto.Location.prototype.getGroundSpeed=function(){return i.Message.getFieldProto3(this,15,0)},proto.Location.prototype.setGroundSpeed=function(e){i.Message.setField(this,15,e)},proto.Location.prototype.getSpeed=function(){return i.Message.getFieldProto3(this,16,0)},proto.Location.prototype.setSpeed=function(e){i.Message.setField(this,16,e)},proto.Location.prototype.getHeadingMotion=function(){return i.Message.getFieldProto3(this,17,0)},proto.Location.prototype.setHeadingMotion=function(e){i.Message.setField(this,17,e)},proto.Location.prototype.getHeadingVehicle=function(){return i.Message.getFieldProto3(this,18,0)},proto.Location.prototype.setHeadingVehicle=function(e){i.Message.setField(this,18,e)},proto.Location.prototype.getHorizontalAccuracy=function(){return i.Message.getFieldProto3(this,19,0)},proto.Location.prototype.setHorizontalAccuracy=function(e){i.Message.setField(this,19,e)},proto.Location.prototype.getVerticalAccuracy=function(){return i.Message.getFieldProto3(this,20,0)},proto.Location.prototype.setVerticalAccuracy=function(e){i.Message.setField(this,20,e)},proto.Location.prototype.getSpeedAccuracy=function(){return i.Message.getFieldProto3(this,21,0)},proto.Location.prototype.setSpeedAccuracy=function(e){i.Message.setField(this,21,e)},proto.Location.prototype.getHeadingAccuracy=function(){return i.Message.getFieldProto3(this,22,0)},proto.Location.prototype.setHeadingAccuracy=function(e){i.Message.setField(this,22,e)},proto.Location.prototype.getSatNum=function(){return i.Message.getFieldProto3(this,23,0)},proto.Location.prototype.setSatNum=function(e){i.Message.setField(this,23,e)},proto.Location.prototype.getSatNumAge=function(){return i.Message.getFieldProto3(this,24,0)},proto.Location.prototype.setSatNumAge=function(e){i.Message.setField(this,24,e)},proto.Location.prototype.getPositionDop=function(){return i.Message.getFieldProto3(this,25,0)},proto.Location.prototype.setPositionDop=function(e){i.Message.setField(this,25,e)},proto.Location.prototype.getGeometricDop=function(){return i.Message.getFieldProto3(this,26,0)},proto.Location.prototype.setGeometricDop=function(e){i.Message.setField(this,26,e)},proto.Location.prototype.getTimeDop=function(){return i.Message.getFieldProto3(this,27,0)},proto.Location.prototype.setTimeDop=function(e){i.Message.setField(this,27,e)},proto.Location.prototype.getHorizontalDop=function(){return i.Message.getFieldProto3(this,28,0)},proto.Location.prototype.setHorizontalDop=function(e){i.Message.setField(this,28,e)},proto.Location.prototype.getDopAge=function(){return i.Message.getFieldProto3(this,29,0)},proto.Location.prototype.setDopAge=function(e){i.Message.setField(this,29,e)},o.object.extend(t,proto)},function(e,t,r){"use strict";r.r(t);var i=r(2);var o=i.Buffer.from&&i.Buffer.alloc&&i.Buffer.allocUnsafe&&i.Buffer.allocUnsafeSlow?i.Buffer.from:e=>new i.Buffer(e),n=function(e,t){const r=(e,r)=>t(e,r)>>>0;return r.signed=t,r.unsigned=r,r.model=e,r};var s=n("crc1",(function(e,t){i.Buffer.isBuffer(e)||(e=o(e));let r=~~t,n=0;for(let t=0;t<e.length;t++){n+=e[t]}return(r+=n%256)%256}));let a=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];"undefined"!=typeof Int32Array&&(a=new Int32Array(a));var l=n("crc-8",(function(e,t){i.Buffer.isBuffer(e)||(e=o(e));let r=~~t;for(let t=0;t<e.length;t++){const i=e[t];r=255&a[255&(r^i)]}return r}));let c=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];"undefined"!=typeof Int32Array&&(c=new Int32Array(c));var u=n("dallas-1-wire",(function(e,t){i.Buffer.isBuffer(e)||(e=o(e));let r=~~t;for(let t=0;t<e.length;t++){const i=e[t];r=255&c[255&(r^i)]}return r}));let d=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!=typeof Int32Array&&(d=new Int32Array(d));var g=n("crc-16",(function(e,t){i.Buffer.isBuffer(e)||(e=o(e));let r=~~t;for(let t=0;t<e.length;t++){const i=e[t];r=65535&(d[255&(r^i)]^r>>8)}return r}));let p=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];"undefined"!=typeof Int32Array&&(p=new Int32Array(p));var h=n("ccitt",(function(e,t){i.Buffer.isBuffer(e)||(e=o(e));let r=void 0!==t?~~t:65535;for(let t=0;t<e.length;t++){const i=e[t];r=65535&(p[255&(r>>8^i)]^r<<8)}return r}));let m=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!=typeof Int32Array&&(m=new Int32Array(m));var f=n("crc-16-modbus",(function(e,t){i.Buffer.isBuffer(e)||(e=o(e));let r=void 0!==t?~~t:65535;for(let t=0;t<e.length;t++){const i=e[t];r=65535&(m[255&(r^i)]^r>>8)}return r}));var y=n("xmodem",(function(e,t){i.Buffer.isBuffer(e)||(e=o(e));let r=void 0!==t?~~t:0;for(let t=0;t<e.length;t++){let i=r>>>8&255;i^=255&e[t],r=r<<8&65535,r^=i^=i>>>4,r^=i=i<<5&65535,r^=i=i<<7&65535}return r}));let _=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];"undefined"!=typeof Int32Array&&(_=new Int32Array(_));var S=n("kermit",(function(e,t){i.Buffer.isBuffer(e)||(e=o(e));let r=void 0!==t?~~t:0;for(let t=0;t<e.length;t++){const i=e[t];r=65535&(_[255&(r^i)]^r>>8)}return r}));let v=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];"undefined"!=typeof Int32Array&&(v=new Int32Array(v));var w=n("crc-24",(function(e,t){i.Buffer.isBuffer(e)||(e=o(e));let r=void 0!==t?~~t:11994318;for(let t=0;t<e.length;t++){const i=e[t];r=16777215&(v[255&(r>>16^i)]^r<<8)}return r}));let b=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!=typeof Int32Array&&(b=new Int32Array(b));var M=n("crc-32",(function(e,t){i.Buffer.isBuffer(e)||(e=o(e));let r=0===t?0:-1^~~t;for(let t=0;t<e.length;t++){const i=e[t];r=b[255&(r^i)]^r>>>8}return-1^r}));let T=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!=typeof Int32Array&&(T=new Int32Array(T));var A=n("jam",(function(e,t=-1){i.Buffer.isBuffer(e)||(e=o(e));let r=0===t?0:~~t;for(let t=0;t<e.length;t++){const i=e[t];r=T[255&(r^i)]^r>>>8}return r}));r.d(t,"crc1",(function(){return s})),r.d(t,"crc8",(function(){return l})),r.d(t,"crc81wire",(function(){return u})),r.d(t,"crc16",(function(){return g})),r.d(t,"crc16ccitt",(function(){return h})),r.d(t,"crc16modbus",(function(){return f})),r.d(t,"crc16xmodem",(function(){return y})),r.d(t,"crc16kermit",(function(){return S})),r.d(t,"crc24",(function(){return w})),r.d(t,"crc32",(function(){return M})),r.d(t,"crcjam",(function(){return A}));t.default={crc1:s,crc8:l,crc81wire:u,crc16:g,crc16ccitt:h,crc16modbus:f,crc16xmodem:y,crc16kermit:S,crc24:w,crc32:M,crcjam:A}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(24),n=r(16),s=r(10),a=r(172),l=r(23),c=r(173),u=r(1),d=r(11),g=r(175),p=r(239),h=r(243),m=r(244),f=r(255);class y{static log(e,t,...r){y._logger?y._logger.log(e,t,r):console.log(e+": "+t)}static main(){return i(this,void 0,void 0,(function*(){try{y.log("info","Start!"),yield y.initSignals(),yield y.initConfiguration(),yield y.initSocketIo(),yield y.initIdentifier(),yield y.initFolders(),yield y.initLogger(),yield y.initDatabase(),yield y.initBle(),yield y.startBleScanning(),y.log("info","Application initialized"),d.TdEvent.emitApp("startup"),y.log("info",`uptime: ${o.uptime()}`),y.setupDeviceDetectTimeout()}catch(e){y.log("error","Cannot initialize application",e),y.cleanupAndExit(e,"Cannot initialize application")}return 0}))}static initSignals(){return new Promise(e=>{process.on("uncaughtException",e=>{console.log("message: "+e.message),console.log("stack: "+e.stack),y.cleanupAndExit(e,"Uncaught Exception")}),process.on("SIGINT",()=>{y.cleanupAndExit(null,"CLOSING [SIGINT]")}),process.on("SIGTERM",()=>{y.cleanupAndExit(null,"CLOSING [SIGTERM]")}),process.on("SIGHUP",()=>{y.cleanupAndExit(null,"CLOSING [SIGHUP]")}),e()})}static initConfiguration(){return new Promise((e,t)=>{let r=s.join(__dirname,"config.json");n.readFile(r,"utf8",(r,i)=>{r?t(new Error("Cannot read configuration file")):(y.di.config=JSON.parse(i),y.log("info","Configuration loaded"),e())})})}static initSocketIo(){const e=y.di.config.Socket.Url,t=y.di.config.Socket.Timeout;return new Promise(r=>{let i=c(e,{timeout:t});d.TdEvent.init(i),i.on("connect",()=>{y.log("info","io connected"),d.TdEvent.emitGeneric("name","app")}),i.on("connect_error",e=>{y.log("warn","io connect error:",e)}),i.on("reconnect",e=>{y.log("info","io reconnect attempt:",e)}),i.on("reconnect_error",e=>{y.log("warn","io reconnect error:",e)}),y.log("info","io initialized"),r()})}static initIdentifier(){return new Promise((e,t)=>{a.getMac((r,i)=>{if(r)t(r);else{const t="CR-"+i.replace(/-|:/g,"").substr(6,6);y.di.config.Transceiver.Identifier=t,y.log("info","mac address: "+i),y.log("info","System identifier: "+t),e()}})})}static initFolders(){return i(this,void 0,void 0,(function*(){const e=s.dirname(y.di.config.Logger.File.filename),t=y.di.config.Transceiver.DataStoragePath;yield Promise.all([y.mkdirpAsync(e),y.mkdirpAsync(t),y.mkdirpAsync("/media/sdcard/tables/")]),y.log("info","System folders initialized")}))}static mkdirpAsync(e){return new Promise((t,r)=>{l(e,e=>e?r(e):t())})}static initLogger(){return new Promise(e=>{let t=y.di.config.Logger.Console,r=y.di.config.Logger.File;u.Logger.init(t,r),y._logger=u.Logger.getLogger("jrd-main"),e()})}static initDatabase(){return y.di.db=g.DbFactory.create(y.di.config.DB.Url),y.di.db.connect().then(()=>{y.log("info","Data base initialized")})}static initBle(){return y.log("info","Looking for a adapter"),p.AdapterFactory.findAdapter().then(e=>(y.log("info",`Adapter found ${e.portName}`),y.adapter=e,y.di.adapter=y.adapter,y.adapter.open(y.adapterOptions).then(()=>{y.log("info","Adapter opened")}))).then(()=>y.adapter.getState().then(e=>{y.log("info",`Adapter state ${JSON.stringify(e)}`)})).then(()=>y.adapter.enablePaLna()).then(()=>{y.di.scanner=new h.Scanner(y.adapter),y.di.scanner.on("td-targ",y.onDevice),y.di.scanner.on("dfu-targ",y.onDfuTarget),y.adapter.on("deviceDisconnected",y.onDisconnect),y.adapter.on("error",e=>{null===e.message.match(/BLE_EVT_TX_COMPLETE/)?e.description&&12290===e.description.errno?y.log("info","adapter error ignored: 2"):y.cleanupAndExit(e,"Adapter Error"):y.log("info","adapter error ignored: 1")}),p.AdapterFactory.on("error",e=>{y.log("info","AdapterFactory "+e.message),y.cleanupAndExit(e,"Adapter Factory Error")}),p.AdapterFactory.on("removed",e=>{y.cleanupAndExit(new Error("Adapter removed"),"Adapter Error")})}).catch(e=>{throw y.log("error","Cannot initialize BLE device",e),e})}static initExtFlash(){return y.adapter.extFlashGetInfo().then(e=>{if(y.log("info",`Flash info: ${JSON.stringify(e)}`),157===e.manufactureId[2])return y.log("info","Ext flash erase"),y.adapter.extFlashChipErase()})}static onDisconnect(e,t,r){e.address===y.processingDevice&&(y.log("info","Device disconnected",e.address,t,r),"BLE_HCI_CONNECTION_TIMEOUT"===t&&y.completeHandler(y.processingDevice))}static onDevice(e){try{if(y.processingDevice)return void y.log("warn",`device skipped, processing in progress ${e.address}`);y.processingDevice=e.address;const t=y.advertParse(e);if(null===t)return void(y.processingDevice=null);if(y.setupDeviceDetectTimeout(),y.advertWasHandled(e,t))return void(y.processingDevice=null);y.advertHandle(e,t)}catch(e){y.log("error","Cannot handle advertisement"),y.log("error",e.message)}}static setupDeviceDetectTimeout(){null!==y.detectDeviceTimeout&&clearTimeout(y.detectDeviceTimeout),y.detectDeviceTimeout=setTimeout(()=>{this._logger.info("No device detected for 1h"),process.exit()},36e5)}static advertParse(e){const t=m.AdvertFactory.create(e);return t||(y.log("warn","Cannot parse advertisement",e.address),null)}static advertWasHandled(e,t){if(!y.di.scanner.isAdvertisementHandled(t))return!1;return!0}static advertHandle(e,t){Promise.resolve().then(()=>{return y.startHandler(e.address),new f.GenericHandler(y.di).handle(e,t)}).then(()=>(y.log("info","Device handled"),y.completeHandler(e.address)),t=>(y.log("error",`Device handler error: ${t.message}`),y.completeHandler(e.address))).catch(()=>{y.log("error","Device handler fatal")})}static startHandler(e){d.TdEvent.emitTransceiver("data",!0)}static completeHandler(e){if(y.processingDevice===e)return d.TdEvent.emitTransceiver("data",!1),y.processingDevice=null,y.startBleScanning().catch(e=>{y.log("error","Cannot start scanning"),y.cleanupAndExit(e,"Cannot start scanning")})}static onDfuTarget(e){y.processingDevice||(y.processingDevice=e.address,y.processingDevice=null)}static startBleScanning(){return y.di.scanner.isScanning().then(e=>{if(!1===e)return y.di.scanner.start()})}static cleanupAndExit(e,t){if(e){let t=e.stack;y.log("error","cleanupAndExit - stack: "+JSON.stringify(t))}y.emitOnExit(e,t),y.cleanup().then(()=>{y.log("info","cleanup ok"),y.exit(0)}).catch(e=>{y.log("error","cleanup - error: "+e.message),y.exit(1)})}static emitOnExit(e,t){e||t?(y.log("info","emitOnExit",e,t),y.emitClose(e,t)):(y.log("info","emitOnExit, unknown reason"),y.emitClose(null,"Unknown reason"))}static emitClose(e,t){d.TdEvent.emitApp("close",e,t)}static cleanup(){return new Promise((e,t)=>{let r=[y.closeAdapter(y.di.adapter.internal)];y.di.db&&r.push(y.di.db.disconnect());let i=setTimeout(()=>{t(new Error("Cannot complete application cleanup, timeout"))},5e3);Promise.all(r.map(y.reflect)).then(t=>{t.length>=1&&("resolved"===t[0].status?y.log("info","BLE adapter closed"):y.log("error","Cannot close BLE adapter")),t.length>=2&&("resolved"===t[1].status?y.log("info","Data base closed"):y.log("error","Cannot close data base")),y.log("info","Application ready to close"),clearTimeout(i),e()})})}static closeAdapter(e){return new Promise((t,r)=>{e.close(e=>{e?r(e):t()})})}static reflect(e){return e.then(e=>({v:e,status:"resolved"})).catch(e=>({e:e,status:"rejected"}))}static exit(e){y.log("info","exit"),process.exit(e)}}y._logger=null,y.detectDeviceTimeout=null,y.di={socket:null,db:null,config:null,scanner:null,tdAdapter:null,adapter:null},y.adapterOptions={baudRate:115200,enableBLE:!0,logLevel:"error"},y.processingDevice=null,y.adapter=null,y.main(),process.on("unhandledRejection",(e,t)=>{console.error("Unhandled Rejection at:",t,"reason:",e)})},function(e,t){e.exports=require("getmac")},function(e,t){e.exports=require("socket.io-client")},function(e,t){e.exports=require("winston")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3),o=r(10),n=r(176),s=r(216),a=r(219),l=r(221),c=r(223),u=r(225),d=r(227),g=r(229),p=r(231),h=r(233),m=r(235),f=r(237);class y{static create(e,t){const r=new n.DataBaseImpl(e||y.MongoDbPath);return i.Promise=Promise,y.initSQLite(t),r.AdvertDAO=s.AdvertImpl,r.FileDAO=a.FileImpl,r.GsmDataDAO=l.GsmDataImpl,r.BcmSampleDAO=c.BcmSampleImpl,r.MtSampleDAO=u.MtSampleImpl,r.SopSampleDAO=d.SopSampleImpl,r.CarbonWearSampleDAO=g.CarbonWearSampleImpl,r.WirelessAccelSampleDAO=p.WirelessAccelSampleImpl,r.DpmSampleDAO=h.DpmSampleImpl,r.DpmSlowSampleDAO=m.DpmSlowSampleImpl,r.AtlSampleDAO=f.AtlSampleImpl,r}static initSQLite(e){e=e||y.SQLitePath,s.AdvertImpl.init(o.join(e,"advert.db")),a.FileImpl.init(o.join(e,"file.db")),l.GsmDataImpl.init(o.join(e,"gsmdata.db")),c.BcmSampleImpl.init(o.join(e,"bcm-sample.db")),u.MtSampleImpl.init(o.join(e,"mt-sample.db")),d.SopSampleImpl.init(o.join(e,"sop-sample.db")),g.CarbonWearSampleImpl.init(o.join(e,"cw-sample.db")),p.WirelessAccelSampleImpl.init(o.join(e,"wa-sample.db")),h.DpmSampleImpl.init(o.join(e,"dpm-sample.db")),m.DpmSlowSampleImpl.init(o.join(e,"dpm-slowsample.db")),f.AtlSampleImpl.init(o.join(e,"atl-sample.db"))}}t.DbFactory=y,y.SQLitePath="/media/sdcard/tables/",y.MongoDbPath="mongodb://localhost/remote-transceiver-dev"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3),o=r(177),n=r(178),s=r(180),a=r(182),l=r(184),c=r(186),u=r(188),d=r(190),g=r(192),p=r(194),h=r(196),m=r(198),f=r(200),y=r(202),_=r(204),S=r(206),v=r(208),w=r(210),b=r(212),M=r(214);class T extends o.DataBase{constructor(e){super(),this.url=e,this.FirmwareUpdateDAO=a.FirmwareUpdateImpl,this.LastDeviceDAO=s.LastDeviceImpl,this.LocationDAO=n.LocationImpl,this.LicenseDAO=l.LicenseImpl,this.AstuteDAO=c.AstuteImpl,this.AstuteBatchTaskDAO=u.AstuteBatchTaskImpl,this.NetworkGsmProviderDAO=d.NetworkGsmProviderImpl,this.NetworkGsmConfigDAO=g.NetworkGsmConfigImpl,this.TaskDAO=p.TaskImpl,this.BcmDAO=h.BcmImpl,this.GdnActionDAO=m.GdnActionImpl,this.GdnWakeUpDAO=f.GdnWakeUpImpl,this.MtDAO=y.MtImpl,this.SopDAO=_.SopImpl,this.CarbonWearDAO=S.CarbonWearImpl,this.WirelessAccelDAO=v.WirelessAccelImpl,this.GnssLocationDAO=w.GnssLocationImpl,this.DpmDAO=b.DpmImpl,this.AtlDAO=M.AtlImpl}connect(e){return e&&(this.url=e),new Promise((e,t)=>{i.connect(this.url,r=>{r?t(r):e()})})}disconnect(){return new Promise((e,t)=>{i.disconnect(r=>{r?t(r):e()})})}}t.DataBaseImpl=T},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DataBase=class{connect(e){return null}disconnect(){return null}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(3),n=r(179),s=o.model("Location",new o.Schema({timestamp:Date,latitude:Number,longitude:Number,speed:Number,direction:Number,status:String,numSat:Number,horDilution:Number,alt:Number},{capped:5242880}));class a extends n.LocationDAO{static create(e){return new s({timestamp:e.timestamp,latitude:e.latitude,longitude:e.longitude,speed:e.speed,direction:e.direction,status:e.status,numSat:e.numSat,horDilution:e.horDilution,alt:e.alt}).save()}static findById(e){return new Promise((t,r)=>{s.findOne({_id:e}).exec((e,i)=>{e?r(e):t(i)})})}static findAll(){return new Promise((e,t)=>{s.find({}).exec((r,i)=>{r?t(r):e(i)})})}static findBetween(e,t){return new Promise((r,i)=>{s.find({timestamp:{$gt:e,$lt:t}},(e,t)=>{e?i(e):r(t)})})}static count(){return new Promise((e,t)=>{s.count({},(r,i)=>{r?t(r):e(i)})})}static findByDate(e){return i(this,void 0,void 0,(function*(){const t=yield s.findOne({timestamp:{$lt:e}}).exec(),r=yield s.findOne({timestamp:{$gt:e}}).exec(),i=yield s.findOne({timestamp:{$eq:e}}).exec();if(null!==i)return i;if(null===t&&null===r)throw new Error("Cannot find location");if(null===t&&null!==r)return r;if(null!==t&&null===r)return t;if(null===t||null===r)throw new Error("Cannot find location");return e.getTime()-t.timestamp.getTime()<r.timestamp.getTime()-e.getTime()?t:r}))}static drop(){return new Promise((e,t)=>{o.connection.db.dropCollection("locations",r=>{r&&"ns not found"!==r.message?t(r):e()})})}static findAtTrigger(e){var t=new Date(e.getTime());t.setSeconds(e.getSeconds()-1);var r=new Date(e.getTime());return r.setSeconds(e.getSeconds()+1),a.findBetween(t,r)}static findAtEvent(e){var t=new Date(e.getTime());t.setSeconds(e.getSeconds()-3);var r=new Date(e.getTime());return r.setSeconds(e.getSeconds()+5),a.findBetween(t,r)}}t.LocationImpl=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LocationDAO=class{static create(e){throw new Error("not implemented")}static findById(e){throw new Error("not implemented")}static findAll(){throw new Error("not implemented")}static findBetween(e,t){throw new Error("not implemented")}static count(){throw new Error("not implemented")}static findByDate(e){throw new Error("not implemented")}static drop(){throw new Error("not implemented")}static findAtTrigger(e){throw new Error("not implemented")}static findAtEvent(e){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3),o=r(181),n=i.model("LastDevice",new i.Schema({timestamp:{type:Date,default:Date.now},uuid:{type:String,trim:!0,required:!0},type:{type:String,required:!0},rssi:{type:Number,required:!0},temperature:{type:Number,required:!0},batteryVoltage:{type:Number,required:!0}},{capped:8192}));class s extends o.LastDeviceDAO{static create(e){return new n(e).save()}static findById(e){return new Promise((t,r)=>{n.findOne({_id:e}).exec((e,i)=>{e?r(e):t(i)})})}static findAll(){return new Promise((e,t)=>{n.find({}).exec((r,i)=>{r?t(r):e(i)})})}static findByUuid(e){return new Promise((t,r)=>{n.findOne({uuid:e}).exec((e,i)=>{e?r(e):t(i)})})}}t.LastDeviceImpl=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LastDeviceDAO=class{static create(e){throw new Error("not implemented")}static findById(e){throw new Error("not implemented")}static findAll(){throw new Error("not implemented")}static findByUuid(e){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3),o=r(183),n=i.model("FirmwareUpdate",new i.Schema({uuid:{type:String,required:!0,unique:!0},deviceType:{type:Number,required:!0},firmwareVersion:{type:Number,required:!0},fileName:{type:String,required:!0},fileData:{type:String,required:!0},timestamp:{default:Date.now,type:Date},status:{default:"Start",type:String}}));class s extends o.FirmwareUpdateDAO{static findAll(){return new Promise((e,t)=>{n.find({}).exec((r,i)=>{r?t(r):e(i)})})}static findByUuid(e){return new Promise((t,r)=>{n.findOne({uuid:e}).exec((e,i)=>{e?r(e):t(i)})})}}t.FirmwareUpdateImpl=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FirmwareUpdateDAO=class{static findAll(){throw new Error("not implemented")}static findByUuid(e){throw new Error("not implemented")}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(3),n=r(185),s=o.model("License",new o.Schema({deviceId:{type:String},untilEnd:{type:Date},lastCheck:{type:Date}}));class a extends n.LicenseDAO{static createOrUpdate(e){return a.find().then(t=>null!==t?a.updateById(t._id,e):a.create(e))}static find(){return new Promise((e,t)=>{s.findOne({}).exec((r,i)=>{r?t(r):e(i)})})}static updateById(e,t){return new Promise((r,i)=>{s.update({_id:e},{$set:t},e=>{e?i(e):r(t)})})}static create(e){return new s(e).save()}static validate(){return i(this,void 0,void 0,(function*(){const e=yield a.find();if(null===e||!e.untilEnd)throw new Error("License Empty");if(new Date>e.untilEnd)throw new Error("License Expired")}))}}t.LicenseImpl=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LicenseDAO=class{static createOrUpdate(e){throw new Error("not implemented")}static find(){throw new Error("not implemented")}static validate(){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3),o=r(187),n=new i.Schema({hardwareGain:{type:Number,default:29.72093},softwareGain:{type:Number,default:29.72093},offset:{type:Number,default:0},engUnitFactor:{type:Number,default:0},engUnit:{type:Number,default:0}}),s=i.model("Astute",new i.Schema({uuid:{type:String,trim:!0,unique:!0,required:!0},address:{type:String,trim:!0,required:!0},enabled:{type:Boolean,default:!0,required:!0},hidden:{type:Boolean,default:!1,required:!0},type:{type:String,default:"AST",trim:!0},connection:{status:{timestamp:{type:Date},label:{type:String},message:{type:String}}},advertisement:{timestamp:{type:Date},rssi:{type:Number},packetCounter:{type:Number},configNumber:{type:Number},temperature:{type:Number},batteryVoltage:{type:Number},restartsUnknown:{type:Number},restartsSoftware:{type:Number},restartsWatchdog:{type:Number},shallowSleepTimeout:{type:Number}},config:{timestamp:{type:Date,default:null},actual:{primary:{deviceType:{type:Number,default:8},firmwareVersion:{type:Number,default:1},configNumber:{type:Number,default:65535},advertWindow:{type:Number,default:7e3},deepSleep:{type:Number,default:15},shallowSleep:{type:Number,default:6}},additional:{channelEntry:{type:[n],default:[{hardwareGain:29.72093,softwareGain:2,offset:0,engUnitFactor:1,engUnit:0},{hardwareGain:29.72093,softwareGain:2,offset:0,engUnitFactor:1,engUnit:0},{hardwareGain:29.72093,softwareGain:2,offset:0,engUnitFactor:1,engUnit:0},{hardwareGain:29.72093,softwareGain:2,offset:0,engUnitFactor:1,engUnit:0},{hardwareGain:29.72093,softwareGain:2,offset:0,engUnitFactor:1,engUnit:0},{hardwareGain:29.72093,softwareGain:2,offset:0,engUnitFactor:1,engUnit:0},{hardwareGain:29.72093,softwareGain:2,offset:0,engUnitFactor:1,engUnit:0},{hardwareGain:29.72093,softwareGain:2,offset:0,engUnitFactor:1,engUnit:0}]},name:{type:String,default:"Astute"},serialNumber:{type:String,default:""},description:{type:String,default:""}}}}}));class a extends o.AstuteDAO{static create(e){return new s(e).save()}static updateById(e,t){return new Promise((r,i)=>{s.update({_id:e},t,e=>{e?i(e):r()})})}static findAll(e){return new Promise((t,r)=>{let i=e&&e.criteria||{},o=s.find(i);e&&(e.order&&e.order.length>0&&(o=o.sort(e.order)),e.skip&&(o=o.skip(e.skip)),e.limit&&(o=o.limit(e.limit))),o.exec((e,i)=>{e?r(e):t(i)})})}static findById(e){return s.findOne({_id:e}).exec()}static findByUuid(e){return s.findOne({uuid:e}).exec()}static save(e){return new Promise((t,r)=>{e.save((e,i)=>{e?r(e):t(i)})})}static remove(e){return new Promise((t,r)=>{e.remove(e=>{e?r(e):t()})})}static count(){return new Promise((e,t)=>{s.count({},(r,i)=>{r?t(r):e(i)})})}}t.AstuteImpl=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AstuteDAO=class{static create(e){throw new Error("not implemented")}static updateById(e,t){throw new Error("not implemented")}static findAll(e){throw new Error("not implemented")}static findById(e){throw new Error("not implemented")}static findByUuid(e){throw new Error("not implemented")}static save(e){throw new Error("not implemented")}static remove(e){throw new Error("not implemented")}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(3),n=r(189),s=o.model("AstuteBatchTask",new o.Schema({name:{type:String,trim:!0,required:!0,unique:!0},description:{type:String},active:{type:Number,default:0},test:{name:{type:String},description:{type:String}},actions:[{astute:{uuid:{type:String,trim:!0},type:{type:String},name:{type:String},description:{type:String}},tryout:{type:Number,default:0},type:{type:String,trim:!0},state:{type:Number,default:0},options:{type:o.Schema.Types.Mixed}}]}));class a extends n.AstuteBatchTaskDAO{static create(e){return new s(e).save()}static removeByName(e){return new Promise((t,r)=>{s.remove({name:e},e=>{e?r(e):t()})})}static updateById(e,t){return new Promise((r,i)=>{s.update({_id:e},t,e=>{e?i(e):r()})})}static findAll(){return new Promise((e,t)=>{s.find({}).exec((r,i)=>{r?t(r):e(i)})})}static findByName(e){return new Promise((t,r)=>{s.find({name:e}).exec((e,i)=>{e?r(e):t(i)})})}static findByAstuteUuid(e){return new Promise((t,r)=>{s.find({}).elemMatch("actions",{"astute.uuid":e}).exec((e,i)=>{e?r(e):t(i)})})}static findActiveByAstuteUuid(e){return new Promise((t,r)=>{s.find({active:1}).elemMatch("actions",{"astute.uuid":e,state:1}).exec((e,i)=>{e?r(e):t(i)})})}static save(e){return new Promise((t,r)=>{e.save((e,i)=>{e?r(e):t(i)})})}static addActionToTask(e,t){return s.findOneAndUpdate({name:e},{$push:{actions:t}},{new:!0}).exec()}static removeActionFromTask(e,t){return i(this,void 0,void 0,(function*(){if(!t.astute)throw new Error("Astute is undefined");return s.update({name:e},{$pull:{actions:{"astute.uuid":t.astute.uuid}}}).exec().then(()=>{})}))}static updateActionInTask(e,t){return new Promise((r,i)=>{s.update({name:e,"actions._id":t._id},{$set:{"actions.$":t}}).exec((e,t)=>{e?i(e):r(t)})})}}t.AstuteBatchTaskImpl=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AstuteBatchTaskDAO=class{static create(e){throw new Error("not implemented")}static removeByName(e){throw new Error("not implemented")}static updateById(e,t){throw new Error("not implemented")}static findAll(){throw new Error("not implemented")}static findByName(e){throw new Error("not implemented")}static findByAstuteUuid(e){throw new Error("not implemented")}static findActiveByAstuteUuid(e){throw new Error("not implemented")}static save(e){throw new Error("not implemented")}static addActionToTask(e,t){throw new Error("not implemented")}static removeActionFromTask(e,t){throw new Error("not implemented")}static updateActionInTask(e,t){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3),o=r(191),n=i.model("NetworkGsmProvider",new i.Schema({name:{type:String,trim:!0,unique:!0,required:!0},type:{type:String,enum:["GSM","CDMA"],default:"GSM",required:!0},apn:{type:String,default:"internet",required:!0,trim:!0},phone:{type:String,default:"",required:!0,trim:!0},username:{type:String,default:"na",required:!0,trim:!0},password:{type:String,default:"na",required:!0,trim:!0}}));class s extends o.NetworkGsmProviderDAO{static create(e){return new n(e).save()}static findAll(){return new Promise((e,t)=>{n.find({}).exec((r,i)=>{r?t(r):e(i)})})}static findById(e){return new Promise((t,r)=>{n.findOne({_id:e}).exec((e,i)=>{e?r(e):t(i)})})}}t.NetworkGsmProviderImpl=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NetworkGsmProviderDAO=class{static create(e){throw new Error("not implemented")}static findAll(){throw new Error("not implemented")}static findById(e){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3),o=r(193),n=i.model("NetworkGsmConfig",new i.Schema({provider:{type:i.Schema.Types.ObjectId,ref:"NetworkGsmProvider"},type:{type:String,enum:["GSM","CDMA"],default:"GSM",required:!0},apn:{type:String,default:"internet",trim:!0},phone:{type:String,default:"",trim:!0},username:{type:String,default:"na",trim:!0},password:{type:String,default:"na",trim:!0}}));class s extends o.NetworkGsmConfigDAO{static findOrCreate(){return s.findOne().then(e=>e||s.create())}static update(e){return n.update({},e).then(e=>e)}static create(){return n.create({}).then(e=>e.populate("provider").execPopulate())}static findOne(e={}){return n.findOne(e).populate("provider").then(e=>e)}}t.NetworkGsmConfigImpl=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NetworkGsmConfigDAO=class{static findOrCreate(){throw new Error("not implemented")}static update(e){throw new Error("not implemented")}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(3),n=r(195),s=o.model("Task",new o.Schema({uuid:{type:String,trim:!0,required:!0},command:{type:String,trim:!0,required:!0},createdOn:{type:Date,required:!0,default:Date.now},lastTryOn:{type:Date},tryout:{type:Number,required:!0,default:0},active:{type:Boolean,required:!0,default:!1},mode:{type:String,enum:["Individual","Batch"],required:!0},batchName:{type:String},options:{type:o.Schema.Types.Mixed}}));class a extends n.TaskDAO{static create(e){return s.create(e)}static findById(e){return s.findById(e).then(e=>e)}static findAll(){return s.find({}).then(e=>e)}static findByUuid(e){return s.find({uuid:e}).then(e=>e)}static find(e){const t=e&&e.criteria||{};let r=s.find(t);return e&&(e.order&&e.order.length>0&&(r=r.sort(e.order)),Number.isInteger(e.skip)&&(r=r.skip(e.skip)),Number.isInteger(e.limit)&&(r=r.limit(e.limit))),r.then(e=>e)}static remove(e){return a.removeById(e._id)}static removeById(e){return s.remove({_id:e}).then(()=>{})}static update(e){return i(this,void 0,void 0,(function*(){return s.update({uuid:e.uuid},e).exec()}))}static count(e){const t=e&&e.criteria||{};return s.count(t).then(e=>e)}}t.TaskImpl=a},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});t.TaskDAO=class{static create(e){throw new Error("not implemented")}static findById(e){throw new Error("not implemented")}static findAll(){throw new Error("not implemented")}static findByUuid(e){throw new Error("not implemented")}static find(e){throw new Error("not implemented")}static remove(e){throw new Error("not implemented")}static removeById(e){throw new Error("not implemented")}static update(e){return i(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3),o=r(197),n=i.model("Bcm",new i.Schema({uuid:{type:String,trim:!0,unique:!0,required:!0},address:{type:String,trim:!0,required:!0},enabled:{type:Boolean,default:!0,required:!0},hidden:{type:Boolean,default:!1,required:!0},sendToGdn:{type:Boolean,default:!1,required:!0},type:{type:String,default:"BCM",trim:!0},connection:{status:{timestamp:{type:Date},label:{type:String},message:{type:String}}},advertisement:{timestamp:{type:Date},rssi:{type:Number},packetCounter:{type:Number},configNumber:{type:Number},temperature:{type:Number},batteryVoltage:{type:Number},restartsUnknown:{type:Number},restartsSoftware:{type:Number},restartsWatchdog:{type:Number},shallowSleepTimeout:{type:Number}},config:{timestamp:{type:Date,default:null},primary:{deviceType:{type:Number,default:8},firmwareVersion:{type:Number,default:1},configNumber:{type:Number,default:65535},advertInterval:{type:Number,default:60},advertWindowNonContactable:{type:Number,default:320},advertWindowContactable:{type:Number,default:1e3},nonContactableAdverts:{type:Number,default:0},samplingInterval:{type:Number,default:1e3},minimumRange:{type:Number,default:0},maximumRange:{type:Number,default:65535},minimumUnit:{type:Number,default:0},maximumUnit:{type:Number,default:65535},minimumAdc:{type:Number,default:0},maximumAdc:{type:Number,default:65535},sensorType:{type:Number,default:0},analogStabilizationTime:{type:Number,default:1},name:{type:String,default:"BCM"}}}}));class s extends o.BcmDAO{static create(e){return delete e._id,new n(e).save()}static updateById(e,t){return new Promise((r,i)=>{n.update({_id:e},t,(e,t)=>{e?i(e):r()})})}static findAll(e){return new Promise((t,r)=>{let i=e&&e.criteria||{},o=n.find(i);e&&(e.order&&e.order.length>0&&(o=o.sort(e.order)),e.skip&&(o=o.skip(e.skip)),e.limit&&(o=o.limit(e.limit))),o.exec((e,i)=>{e?r(e):t(i.map(e=>e.toObject()))})})}static findById(e){return new Promise((t,r)=>{n.findOne({_id:e}).exec((e,i)=>{e?r(e):t(i?i.toObject():null)})})}static findByUuid(e){return new Promise((t,r)=>{n.findOne({uuid:e}).exec((e,i)=>{e?r(e):t(i?i.toObject():null)})})}static save(e){return Promise.resolve().then(()=>this.updateById(e._id,e)).then(()=>e)}static remove(e){return new Promise((t,r)=>{n.remove({_id:e._id},e=>{e?r(e):t()})})}static count(){return new Promise((e,t)=>{n.count({},(r,i)=>{r?t(r):e(i)})})}}t.BcmImpl=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BcmDAO=class{static create(e){throw new Error("not implemented")}static updateById(e,t){throw new Error("not implemented")}static findAll(e){throw new Error("not implemented")}static findById(e){throw new Error("not implemented")}static findByUuid(e){throw new Error("not implemented")}static save(e){throw new Error("not implemented")}static remove(e){throw new Error("not implemented")}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(3),n=r(199),s=o.model("GdnAction",new o.Schema({timestamp:{type:Date},centralUuid:{type:String,required:!0},requestType:{type:String,required:!0},scriptUrl:{type:String,required:!0},getParams:{type:o.Schema.Types.Mixed},filename:{type:String},retryCount:{type:Number,default:0}}));class a extends n.GdnActionDAO{static create(e){return delete e._id,new s(e).save()}static findAll(){return new Promise((e,t)=>{s.find().exec((r,i)=>{r?t(r):e(i.map(e=>e.toObject()))})})}static remove(e){return new Promise((t,r)=>{s.remove({_id:e._id},e=>{e?r(e):t()})})}static incRetryCount(e){return i(this,void 0,void 0,(function*(){return e.retryCount||(e.retryCount=0),e.retryCount+=1,s.update({_id:e._id},{$set:{retryCount:e.retryCount}}).exec()}))}}t.GdnActionImpl=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GdnActionDAO=class{static create(e){throw new Error("not implemented")}static findAll(){throw new Error("not implemented")}static remove(e){throw new Error("not implemented")}static incRetryCount(e){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3),o=r(201),n=i.model("GdnWakeUp",new i.Schema({nextWakeTime:{type:Date,required:!0,default:new Date(2e3,0,4,5,10,0)},lastSuccessTime:{type:Date,required:!0,default:new Date(2e3,0,3,0,0,0)},lastFailTime:{type:Date,required:!0,default:new Date(2e3,0,2,0,0,0)},croneStr:{type:String,default:"55 30 5 * * *"},status:{type:String,default:"default setting"}}));class s extends o.GdnWakeUpDAO{static createOrUpdate(e){return s.find().then(t=>null!==t?s.update(t._id,e):s.create(e))}static update(e,t){return new Promise((r,i)=>{n.update({_id:e},{$set:t},e=>{e?i(e):r(t)})})}static create(e){return delete e._id,new n(e).save()}static find(){return new Promise((e,t)=>{n.findOne({}).exec((r,i)=>{r?t(r):e(i)})})}}t.GdnWakeUpImpl=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GdnWakeUpDAO=class{static createOrUpdate(e){throw new Error("not implemented")}static update(e,t){throw new Error("not implemented")}static create(e){throw new Error("not implemented")}static find(){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3),o=r(203),n=i.model("Mt",new i.Schema({uuid:{type:String,trim:!0,unique:!0,required:!0},address:{type:String,trim:!0,required:!0},enabled:{type:Boolean,default:!0,required:!0},hidden:{type:Boolean,default:!1,required:!0},sendToGdn:{type:Boolean,default:!1,required:!0},type:{type:String,default:"MT",trim:!0},connection:{status:{timestamp:{type:Date},label:{type:String},message:{type:String}}},advertisement:{timestamp:{type:Date},rssi:{type:Number},packetCounter:{type:Number},configNumber:{type:Number},temperature:{type:Number},batteryVoltage:{type:Number},value:{type:Number},restartsUnknown:{type:Number},restartsSoftware:{type:Number},restartsWatchdog:{type:Number}},config:{timestamp:{type:Date,default:null},primary:{deviceType:{type:Number,default:8},firmwareVersion:{type:Number,default:1},configNumber:{type:Number,default:65535},advertInterval:{type:Number,default:60},advertWindowNonContactable:{type:Number,default:320},advertWindowContactable:{type:Number,default:1e3},nonContactableAdverts:{type:Number,default:0},samplingInterval:{type:Number,default:1e3},minimumRange:{type:Number,default:0},maximumRange:{type:Number,default:65535},minimumUnit:{type:Number,default:0},maximumUnit:{type:Number,default:65535},minimumAdc:{type:Number,default:0},maximumAdc:{type:Number,default:65535},sensorType:{type:Number,default:0},analogStabilizationTime:{type:Number,default:1},name:{type:String,default:"MT"}}}}));class s extends o.MtDAO{static create(e){return delete e._id,new n(e).save()}static updateById(e,t){return new Promise((r,i)=>{n.update({_id:e},t,(e,t)=>{e?i(e):r()})})}static findAll(e){return new Promise((t,r)=>{let i=e&&e.criteria||{},o=n.find(i);e&&(e.order&&e.order.length>0&&(o=o.sort(e.order)),e.skip&&(o=o.skip(e.skip)),e.limit&&(o=o.limit(e.limit))),o.exec((e,i)=>{e?r(e):t(i.map(e=>e.toObject()))})})}static findById(e){return new Promise((t,r)=>{n.findOne({_id:e}).exec((e,i)=>{e?r(e):t(i?i.toObject():null)})})}static findByUuid(e){return new Promise((t,r)=>{n.findOne({uuid:e}).exec((e,i)=>{e?r(e):t(i?i.toObject():null)})})}static save(e){return Promise.resolve().then(()=>this.updateById(e._id,e)).then(()=>e)}static remove(e){return new Promise((t,r)=>{n.remove({_id:e._id},e=>{e?r(e):t()})})}static count(){return new Promise((e,t)=>{n.count({},(r,i)=>{r?t(r):e(i)})})}}t.MtImpl=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MtDAO=class{static create(e){throw new Error("not implemented")}static updateById(e,t){throw new Error("not implemented")}static findAll(e){throw new Error("not implemented")}static findById(e){throw new Error("not implemented")}static findByUuid(e){throw new Error("not implemented")}static save(e){throw new Error("not implemented")}static remove(e){throw new Error("not implemented")}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3),o=r(205),n=new i.Schema({uuid:{type:String,trim:!0,unique:!0,required:!0},address:{type:String,trim:!0,required:!0},enabled:{type:Boolean,default:!0,required:!0},hidden:{type:Boolean,default:!1,required:!0},sendToGdn:{type:Boolean,default:!1,required:!0},type:{type:String,default:"SOP",trim:!0},connection:{status:{timestamp:{type:Date},label:{type:String},message:{type:String}}},advertisement:{timestamp:{type:Date},rssi:{type:Number},packetCounter:{type:Number},configNumber:{type:Number},temperatureInternal:{type:Number},batteryVoltage:{type:Number},capacitance:{type:Number},temperature:{type:Number},acceleration:{type:Number},restartsUnknown:{type:Number},restartsSoftware:{type:Number},restartsWatchdog:{type:Number},errors:{type:Number}},config:{timestamp:{type:Date,default:null},primary:{deviceType:{type:Number,default:8},firmwareVersion:{type:Number,default:1},configNumber:{type:Number,default:65535},advertInterval:{type:Number,default:60},advertWindowNonContactable:{type:Number,default:320},advertWindowContactable:{type:Number,default:1e3},nonContactableAdverts:{type:Number,default:0},samplingInterval:{type:Number,default:1e3},capdaca:{type:Number,default:0},capdacb:{type:Number,default:0},capOffset:{type:Number,default:0},capGain:{type:Number,default:0},capCtrl:{type:Number,default:0},hsAccelEnable:{type:Number,default:0},sensorType:{type:Number,default:0},analogStabilizationTime:{type:Number,default:1},name:{type:String,default:"SOP"},accAcqDivider:{type:Number,default:0},xThreshold:{type:Number,default:0},yThreshold:{type:Number,default:0},zThreshold:{type:Number,default:0},measSamples:{type:Number,default:32e3},checkSamples:{type:Number,default:3200}}}});n.methods.toModel=function(){const e=this.toObject();return e.id=e._id,delete e._id,delete e.__v,e};const s=i.model("Sop",n);class a extends o.SopDAO{static create(e){return delete e.id,new s(e).save()}static update(e){const t=e.id,r=JSON.parse(JSON.stringify(e));return delete r.id,new Promise((e,i)=>{s.update({_id:t},r,t=>{t?i(t):e()})})}static findAll(e){return new Promise((t,r)=>{let i=e&&e.criteria||{},o=s.find(i);e&&(e.order&&e.order.length>0&&(o=o.sort(e.order)),e.skip&&(o=o.skip(e.skip)),e.limit&&(o=o.limit(e.limit))),o.exec((e,i)=>{e?r(e):t(i.map(e=>e.toModel()))})})}static findByUuid(e){return new Promise((t,r)=>{s.findOne({uuid:e}).exec((e,i)=>{e?r(e):t(i?i.toModel():null)})})}static save(e){return Promise.resolve().then(()=>this.update(e)).then(()=>e)}static remove(e){return new Promise((t,r)=>{s.remove({_id:e.id},e=>{e?r(e):t()})})}static count(){return new Promise((e,t)=>{s.count({},(r,i)=>{r?t(r):e(i)})})}}t.SopImpl=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SopDAO=class{static create(e){throw new Error("not implemented")}static update(e){throw new Error("not implemented")}static findAll(e){throw new Error("not implemented")}static findByUuid(e){throw new Error("not implemented")}static save(e){throw new Error("not implemented")}static remove(e){throw new Error("not implemented")}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3),o=r(207),n=new i.Schema({uuid:{type:String,trim:!0,unique:!0,required:!0},address:{type:String,trim:!0,required:!0},enabled:{type:Boolean,default:!0,required:!0},hidden:{type:Boolean,default:!1,required:!0},sendToGdn:{type:Boolean,default:!1,required:!0},type:{type:String,default:"CW",trim:!0},connection:{status:{timestamp:{type:Date},label:{type:String},message:{type:String}}},advertisement:{timestamp:{type:Date},rssi:{type:Number},packetCounter:{type:Number},configNumber:{type:Number},temperature:{type:Number},batteryVoltage:{type:Number},photoArrayRaw:{type:Number},restartsUnknown:{type:Number},restartsSoftware:{type:Number},restartsWatchdog:{type:Number},errors:{type:Number}},config:{timestamp:{type:Date,default:null},primary:{deviceType:{type:Number,default:8},firmwareVersion:{type:Number,default:1},configNumber:{type:Number,default:65535},advertInterval:{type:Number,default:60},advertWindowNonContactable:{type:Number,default:320},advertWindowContactable:{type:Number,default:1e3},nonContactableAdverts:{type:Number,default:0},samplingInterval:{type:Number,default:1e3},reserved1:{type:Number,default:0},reserved2:{type:Number,default:0},reserved3:{type:Number,default:0},reserved4:{type:Number,default:0},reserved5:{type:Number,default:0},hsAccelEnable:{type:Number,default:0},sensorType:{type:Number,default:0},analogStabilizationTime:{type:Number,default:1},name:{type:String,default:"Carbon Wear"}}}});n.methods.toModel=function(){const e=this.toObject();return e.id=e._id,delete e._id,delete e.__v,e};const s=i.model("CarbonWear",n);class a extends o.CarbonWearDAO{static create(e){return delete e.id,new s(e).save()}static update(e){const t=e.id,r=JSON.parse(JSON.stringify(e));return delete r.id,new Promise((e,i)=>{s.update({_id:t},r,t=>{t?i(t):e()})})}static findAll(e){return new Promise((t,r)=>{let i=e&&e.criteria||{},o=s.find(i);e&&(e.order&&e.order.length>0&&(o=o.sort(e.order)),e.skip&&(o=o.skip(e.skip)),e.limit&&(o=o.limit(e.limit))),o.exec((e,i)=>{e?r(e):t(i.map(e=>e.toModel()))})})}static findByUuid(e){return new Promise((t,r)=>{s.findOne({uuid:e}).exec((e,i)=>{e?r(e):t(i?i.toModel():null)})})}static save(e){return Promise.resolve().then(()=>this.update(e)).then(()=>e)}static remove(e){return new Promise((t,r)=>{s.remove({_id:e.id},e=>{e?r(e):t()})})}static count(){return new Promise((e,t)=>{s.count({},(r,i)=>{r?t(r):e(i)})})}}t.CarbonWearImpl=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CarbonWearDAO=class{static create(e){throw new Error("not implemented")}static update(e){throw new Error("not implemented")}static findAll(e){throw new Error("not implemented")}static findByUuid(e){throw new Error("not implemented")}static save(e){throw new Error("not implemented")}static remove(e){throw new Error("not implemented")}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3),o=r(209),n=new i.Schema({uuid:{type:String,trim:!0,unique:!0,required:!0},address:{type:String,trim:!0,required:!0},enabled:{type:Boolean,default:!0,required:!0},hidden:{type:Boolean,default:!1,required:!0},sendToGdn:{type:Boolean,default:!1,required:!0},type:{type:String,default:"WA",trim:!0},connection:{status:{timestamp:{type:Date},label:{type:String},message:{type:String}}},advertisement:{timestamp:{type:Date},rssi:{type:Number},packetCounter:{type:Number},configNumber:{type:Number},temperature:{type:Number},batteryVoltage:{type:Number},photoArrayRaw:{type:Number},restartsUnknown:{type:Number},restartsSoftware:{type:Number},restartsWatchdog:{type:Number},errors:{type:Number}},remoteConfig:{timestamp:{type:Date,default:null},primary:{deviceType:{type:Number,default:8},firmwareVersion:{type:Number,default:1},configNumber:{type:Number,default:65535},advertInterval:{type:Number,default:60},advertWindow:{type:Number,default:1e3},modesEnabled:{type:Number,default:1},ch1Config:{type:Number,default:3},ch1Offset:{type:Number,default:32768},ch1MinDelta:{type:Number,default:1872},ch1EmiRejRatio:{type:Number,default:50},ch1FiltConfig:{type:Number,default:0},ch1FiltS1B0:{type:Number,default:4096},ch1FiltS1B1:{type:Number,default:60704},ch1FiltS1B2:{type:Number,default:4096},ch1FiltS1A0:{type:Number,default:4096},ch1FiltS1A1:{type:Number,default:61472},ch1FiltS1A2:{type:Number,default:3712},ch1FiltS1Gain:{type:Number,default:3896},ch1FiltS2B0:{type:Number,default:4096},ch1FiltS2B1:{type:Number,default:60704},ch1FiltS2B2:{type:Number,default:4096},ch1FiltS2A0:{type:Number,default:4096},ch1FiltS2A1:{type:Number,default:60416},ch1FiltS2A2:{type:Number,default:3744},ch1FiltS2Gain:{type:Number,default:3896},ch1FiltS3B0:{type:Number,default:4096},ch1FiltS3B1:{type:Number,default:60704},ch1FiltS3B2:{type:Number,default:4096},ch1FiltS3A0:{type:Number,default:4096},ch1FiltS3A1:{type:Number,default:61120},ch1FiltS3A2:{type:Number,default:3392},ch1FiltS3Gain:{type:Number,default:3744},ch2Config:{type:Number,default:3},ch2Offset:{type:Number,default:32768},ch2MinDelta:{type:Number,default:1872},ch2EmiRejRatio:{type:Number,default:50},ch2FiltConfig:{type:Number,default:0},ch2FiltS1B0:{type:Number,default:4096},ch2FiltS1B1:{type:Number,default:60704},ch2FiltS1B2:{type:Number,default:4096},ch2FiltS1A0:{type:Number,default:4096},ch2FiltS1A1:{type:Number,default:61472},ch2FiltS1A2:{type:Number,default:3712},ch2FiltS1Gain:{type:Number,default:3896},ch2FiltS2B0:{type:Number,default:4096},ch2FiltS2B1:{type:Number,default:60704},ch2FiltS2B2:{type:Number,default:4096},ch2FiltS2A0:{type:Number,default:4096},ch2FiltS2A1:{type:Number,default:60416},ch2FiltS2A2:{type:Number,default:3744},ch2FiltS2Gain:{type:Number,default:3896},ch2FiltS3B0:{type:Number,default:4096},ch2FiltS3B1:{type:Number,default:60704},ch2FiltS3B2:{type:Number,default:4096},ch2FiltS3A0:{type:Number,default:4096},ch2FiltS3A1:{type:Number,default:61120},ch2FiltS3A2:{type:Number,default:3392},ch2FiltS3Gain:{type:Number,default:3744},ch3Config:{type:Number,default:3},ch3Offset:{type:Number,default:32768},ch3MinDelta:{type:Number,default:1872},ch3EmiRejRatio:{type:Number,default:50},ch3FiltConfig:{type:Number,default:0},ch3FiltS1B0:{type:Number,default:4096},ch3FiltS1B1:{type:Number,default:60704},ch3FiltS1B2:{type:Number,default:4096},ch3FiltS1A0:{type:Number,default:4096},ch3FiltS1A1:{type:Number,default:61472},ch3FiltS1A2:{type:Number,default:3712},ch3FiltS1Gain:{type:Number,default:3896},ch3FiltS2B0:{type:Number,default:4096},ch3FiltS2B1:{type:Number,default:60704},ch3FiltS2B2:{type:Number,default:4096},ch3FiltS2A0:{type:Number,default:4096},ch3FiltS2A1:{type:Number,default:60416},ch3FiltS2A2:{type:Number,default:3744},ch3FiltS2Gain:{type:Number,default:3896},ch3FiltS3B0:{type:Number,default:4096},ch3FiltS3B1:{type:Number,default:60704},ch3FiltS3B2:{type:Number,default:4096},ch3FiltS3A0:{type:Number,default:4096},ch3FiltS3A1:{type:Number,default:61120},ch3FiltS3A2:{type:Number,default:3392},ch3FiltS3Gain:{type:Number,default:3744},xlTapDelta:{type:Number,default:4},name:{type:String,default:"Wireless Accelerometer"}}},localConfig:{timestamp:{type:Number,default:0},speedThreshold:{type:Number,default:0},antennaDistance:{type:Number,default:0},lowAlarmThresholds:{x:{type:Number,default:0},y:{type:Number,default:0},z:{type:Number,default:0}},highAlarmThresholds:{x:{type:Number,default:0},y:{type:Number,default:0},z:{type:Number,default:0}}}});n.methods.toModel=function(){const e=this.toObject();return e.id=e._id,delete e._id,delete e.__v,e};const s=i.model("WirelessAccel",n);class a extends o.WirelessAccelDAO{static create(e){return delete e.id,new s(e).save()}static update(e){const t=e.id,r=JSON.parse(JSON.stringify(e));return delete r.id,new Promise((e,i)=>{s.update({_id:t},r,t=>{t?i(t):e()})})}static findAll(e){return new Promise((t,r)=>{let i=e&&e.criteria||{},o=s.find(i);e&&(e.order&&e.order.length>0&&(o=o.sort(e.order)),e.skip&&(o=o.skip(e.skip)),e.limit&&(o=o.limit(e.limit))),o.exec((e,i)=>{e?r(e):t(i.map(e=>e.toModel()))})})}static findByUuid(e){return new Promise((t,r)=>{s.findOne({uuid:e}).exec((e,i)=>{e?r(e):t(i?i.toModel():null)})})}static save(e){return Promise.resolve().then(()=>this.update(e)).then(()=>e)}static remove(e){return new Promise((t,r)=>{s.remove({_id:e.id},e=>{e?r(e):t()})})}static count(){return new Promise((e,t)=>{s.count({},(r,i)=>{r?t(r):e(i)})})}}t.WirelessAccelImpl=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WirelessAccelDAO=class{static create(e){throw new Error("not implemented")}static update(e){throw new Error("not implemented")}static findAll(e){throw new Error("not implemented")}static findByUuid(e){throw new Error("not implemented")}static save(e){throw new Error("not implemented")}static remove(e){throw new Error("not implemented")}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(3),n=r(211),s=52428800,a=new o.Schema({timestamp:{type:Date,required:!0},valid:{date:{type:Boolean,required:!0},time:{type:Boolean,required:!0},fullyResolved:{type:Boolean,required:!0}},gnssFixOk:{type:Boolean,required:!0},gnssFixType:{type:Number,required:!0},diffCorrApplied:{type:Boolean,required:!0},weekNumberValid:{type:Boolean,required:!0},timeOfWeekValid:{type:Boolean,required:!0},vehicleHeadingValid:{type:Boolean,required:!0},longitude:{type:Number,required:!0},latitude:{type:Number,required:!0},altitudeEllipsoid:{type:Number,required:!0},altitudeMeanSeaLevel:{type:Number,required:!0},groundSpeed:{type:Number,required:!0},speed:{type:Number,required:!0},headingMotion:{type:Number,required:!0},headingVehicle:{type:Number,required:!0},horizontalAccuracy:{type:Number,required:!0},verticalAccuracy:{type:Number,required:!0},speedAccuracy:{type:Number,required:!0},headingAccuracy:{type:Number,required:!0},satNum:{type:Number,required:!0},satNumAge:{type:Number,required:!0},positionDOP:{type:Number,required:!0},geometricDOP:{type:Number,required:!0},timeDOP:{type:Number,required:!0},horizontalDOP:{type:Number,required:!0},dopAge:{type:Number,required:!0}},{capped:s});a.methods.toModel=function(){const e=this.toObject();return e.id=e._id,delete e._id,delete e.__v,e};const l=o.model("GnssLocation",a);class c extends n.GnssLocationDAO{static create(e){return i(this,void 0,void 0,(function*(){return yield c.checkCapped(),l.create(e)}))}static findById(e){return i(this,void 0,void 0,(function*(){return yield c.checkCapped(),new Promise((t,r)=>{l.findOne({_id:e}).exec((e,i)=>{e?r(e):t(i?i.toModel():null)})})}))}static findAll(e){return i(this,void 0,void 0,(function*(){return yield c.checkCapped(),new Promise((t,r)=>{const i=e&&e.criteria||{};let o=l.find(i);e&&(e.order&&(o=o.sort(e.order)),Number.isInteger(e.skip)&&(o=o.skip(e.skip)),Number.isInteger(e.limit)&&(o=o.limit(e.limit))),o.exec((e,i)=>{e?r(e):t(i.map(e=>e.toModel()))})})}))}static findBetween(e,t){return i(this,void 0,void 0,(function*(){return yield c.checkCapped(),new Promise((r,i)=>{l.find({timestamp:{$gt:e,$lt:t},gnssFixOk:!0},(e,t)=>{e?i(e):r(t.map(e=>e.toModel()))})})}))}static findByDate(e){return i(this,void 0,void 0,(function*(){yield c.checkCapped();const e=yield l.aggregate([{$project:{timestamp:1,timeDiff:{$abs:{$subtract:[new Date,"$timestamp"]}}}},{$sort:{timeDiff:1}},{$limit:1}]);if(!e||0===e.length)throw new Error("Cannot find location");const t=yield l.findById(e[0].id);if(null===t)throw new Error("Cannot find location");return t.toModel()}))}static findAtTrigger(e){return i(this,void 0,void 0,(function*(){yield c.checkCapped();const t=new Date(e.getTime());t.setSeconds(e.getSeconds()-1);const r=new Date(e.getTime());return r.setSeconds(e.getSeconds()+1),c.findBetween(t,r)}))}static findAtEvent(e){return i(this,void 0,void 0,(function*(){yield c.checkCapped();const t=new Date(e.getTime());t.setSeconds(e.getSeconds()-3);const r=new Date(e.getTime());return r.setSeconds(e.getSeconds()+5),c.findBetween(t,r)}))}static drop(){return i(this,void 0,void 0,(function*(){return yield c.checkCapped(),new Promise((e,t)=>{o.connection.db.dropCollection("gnsslocations",r=>{r&&"ns not found"!==r.message?t(r):e()})})}))}static count(){return i(this,void 0,void 0,(function*(){return yield c.checkCapped(),new Promise((e,t)=>{l.count({},(r,i)=>{r?t(r):e(i)})})}))}static checkCapped(){return i(this,void 0,void 0,(function*(){if(!0!==(yield l.collection.isCapped()))try{yield l.db.db.command({convertToCapped:"gnsslocations",size:s}),console.log("******* GNSS changed to capped *******")}catch(e){console.error(e.stack||e.message||e)}}))}}t.GnssLocationImpl=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GnssLocationDAO=class{static create(e){throw new Error("not implemented")}static findById(e){throw new Error("not implemented")}static findAll(e){throw new Error("not implemented")}static findBetween(e,t){throw new Error("not implemented")}static findByDate(e){throw new Error("not implemented")}static findAtTrigger(e){throw new Error("not implemented")}static findAtEvent(e){throw new Error("not implemented")}static drop(){throw new Error("not implemented")}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(3),n=r(213),s=new o.Schema({uuid:{type:String,trim:!0,unique:!0,required:!0},address:{type:String,trim:!0,required:!0},enabled:{type:Boolean,default:!0,required:!0},hidden:{type:Boolean,default:!1,required:!0},sendToGdn:{type:Boolean,default:!1,required:!0},type:{type:String,default:"Dpm",trim:!0},connection:{status:{timestamp:{type:Date,default:null},label:{type:String,default:""},message:{type:String,default:""}}},advertisement:{timestamp:{type:Date,default:null},rssi:{type:Number,default:0},version:{type:Number,default:0},packetCounter:{type:Number,default:0},configNumber:{type:Number,default:0},temperature:{type:Number,default:0},batteryVoltage:{type:Number,default:0},restartsSoftware:{type:Number,default:0},errors:{type:Number,default:0},delta:{type:Number,default:0}},config:{timestamp:{type:Date,default:null},primary:{deviceType:{type:Number,default:0},firmwareVersion:{type:Number,default:0},configNumber:{type:Number,default:0},advertisementWindow:{type:Number,default:0},samplingInterval:{type:Number,default:0},dischargeInterval:{type:Number,default:0},advertInterval:{type:Number,default:0},analogOffInterval:{type:Number,default:0},triggerFlags:{type:Number,default:0},filterFlags:{type:Number,default:0},offsetCh1:{type:Number,default:0},offsetCh2:{type:Number,default:0},offsetCh3:{type:Number,default:0},offsetCh4:{type:Number,default:0},minimumDelta:{type:Number,default:0},filterS1Coef1:{type:Number,default:0},filterS1Coef2:{type:Number,default:0},filterS1Coef3:{type:Number,default:0},filterS1Coef4:{type:Number,default:0},filterS1Coef5:{type:Number,default:0},filterS1Coef6:{type:Number,default:0},filterS1Gain:{type:Number,default:0},filterS2Coef1:{type:Number,default:0},filterS2Coef2:{type:Number,default:0},filterS2Coef3:{type:Number,default:0},filterS2Coef4:{type:Number,default:0},filterS2Coef5:{type:Number,default:0},filterS2Coef6:{type:Number,default:0},filterS2Gain:{type:Number,default:0},filterS3Coef1:{type:Number,default:0},filterS3Coef2:{type:Number,default:0},filterS3Coef3:{type:Number,default:0},filterS3Coef4:{type:Number,default:0},filterS3Coef5:{type:Number,default:0},filterS3Coef6:{type:Number,default:0},filterS3Gain:{type:Number,default:0},filterSectionFlags:{type:Number,default:0},loggingChannelFlags:{type:Number,default:0}}},configLocal:{speedThreshold:{type:Number,default:0},antennaDistance:{type:Number,default:0},lowAlarmThreshold:{type:[Number],default:[1872,1872,1872,1872,1872,1872,2490,2490,2490,65535,65535]},highAlarmThreshold:{type:[Number],default:[2808,2808,2808,2808,2808,2808,3735,3735,3735,65535,65535]}}});s.methods.toModel=function(){const e=this.toObject();return e.id=e._id,delete e._id,delete e.__v,e};const a=o.model("Dpm",s);class l extends n.DpmDAO{static create(e){return a.create(e)}static updateById(e,t){return i(this,void 0,void 0,(function*(){yield a.update({_id:e},t).exec()}))}static findAll(e){return i(this,void 0,void 0,(function*(){const t=e&&e.criteria||{};let r=a.find(t);return e&&(e.order&&e.order.length>0&&(r=r.sort(e.order)),e.skip&&(r=r.skip(e.skip)),e.limit&&(r=r.limit(e.limit))),(yield r.exec()).map(e=>e.toModel())}))}static findById(e){return i(this,void 0,void 0,(function*(){const t=yield a.findOne({_id:e});return t?t.toModel():null}))}static createOrReplace(e){return i(this,void 0,void 0,(function*(){return yield a.update({uuid:e.uuid},e,{upsert:!0,setDefaultsOnInsert:!0}).exec(),yield l.findByUuid(e.uuid)}))}static findByUuid(e){return i(this,void 0,void 0,(function*(){const t=yield a.findOne({uuid:e});return t?t.toModel():null}))}static save(e){return i(this,void 0,void 0,(function*(){return yield this.updateById(e.id,e),e}))}static remove(e){return i(this,void 0,void 0,(function*(){yield a.remove({_id:e.id}).exec()}))}static count(e){return i(this,void 0,void 0,(function*(){const t=e&&e.criteria||{};return yield a.count(t).exec()}))}static updateAdvert(e,t){return i(this,void 0,void 0,(function*(){return a.update({_id:e},{$set:{advertisement:t}}).exec()}))}static upateConnection(e,t){return i(this,void 0,void 0,(function*(){return a.update({_id:e},{$set:{connection:t}}).exec()}))}static updateRemoteCofig(e,t){return i(this,void 0,void 0,(function*(){return a.update({_id:e},{$set:{config:t}}).exec()}))}}t.DpmImpl=l},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});t.DpmDAO=class{static create(e){return i(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}static updateById(e,t){return i(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}static findAll(e){return i(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}static findById(e){return i(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}static createOrReplace(e){return i(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}static findByUuid(e){return i(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}static save(e){return i(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}static remove(e){return i(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}static count(e){return i(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}static updateAdvert(e,t){return i(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}static upateConnection(e,t){return i(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}static updateRemoteCofig(e,t){return i(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3),o=r(215),n=new i.Schema({uuid:{type:String,trim:!0,unique:!0,required:!0},address:{type:String,trim:!0,required:!0},enabled:{type:Boolean,default:!0,required:!0},hidden:{type:Boolean,default:!1,required:!0},sendToGdn:{type:Boolean,default:!1,required:!0},type:{type:String,default:"ATL",trim:!0},connection:{status:{timestamp:{type:Date},label:{type:String},message:{type:String}}},advertisement:{timestamp:{type:Date},rssi:{type:Number},packetCounter:{type:Number},configNumber:{type:Number},temperatureInternal:{type:Number},batteryVoltage:{type:Number},capacitance:{type:Number},temperature:{type:Number},acceleration:{type:Number},restartsUnknown:{type:Number},restartsSoftware:{type:Number},restartsWatchdog:{type:Number},errors:{type:Number}},config:{timestamp:{type:Date,default:null},primary:{configNumber:{type:Number,default:65535},deviceType:{type:Number,default:14},firmwareVersion:{type:Number,default:1},wakeupTime:{type:Number,default:141},wakeupWindow:{type:Number,default:2e3},measMode:{type:Number,default:1},measSamplingRate:{type:Number,default:1666},accRange:{type:Number,default:2},gyrRange:{type:Number,default:125},measNumberOfSamples:{type:Number,default:16660},checkInterval:{type:Number,default:30},checkSamplingRate:{type:Number,default:1666},checkNumberOfSamples:{type:Number,default:20},checkThreshold:{type:Number,default:2},wakeupsToSendCount:{type:Number,default:5},sleepAfterAcq:{type:Number,default:3600},accelerationInterval:{type:Number,default:1},temperatureInterval:{type:Number,default:1},name:{type:String,default:"ATL"}}}});n.methods.toModel=function(){const e=this.toObject();return e.id=e._id,delete e._id,delete e.__v,e};const s=i.model("Atl",n);class a extends o.AtlDAO{static create(e){return delete e.id,new s(e).save()}static update(e){const t=e.id,r=JSON.parse(JSON.stringify(e));return delete r.id,new Promise((e,i)=>{s.update({_id:t},r,t=>{t?i(t):e()})})}static findAll(e){return new Promise((t,r)=>{let i=e&&e.criteria||{},o=s.find(i);e&&(e.order&&e.order.length>0&&(o=o.sort(e.order)),e.skip&&(o=o.skip(e.skip)),e.limit&&(o=o.limit(e.limit))),o.exec((e,i)=>{e?r(e):t(i.map(e=>e.toModel()))})})}static findByUuid(e){return new Promise((t,r)=>{s.findOne({uuid:e}).exec((e,i)=>{e?r(e):t(i?i.toModel():null)})})}static save(e){return Promise.resolve().then(()=>this.update(e)).then(()=>e)}static remove(e){return new Promise((t,r)=>{s.remove({_id:e.id},e=>{e?r(e):t()})})}static count(){return new Promise((e,t)=>{s.count({},(r,i)=>{r?t(r):e(i)})})}}t.AtlImpl=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AtlDAO=class{static create(e){throw new Error("not implemented")}static update(e){throw new Error("not implemented")}static findAll(e){throw new Error("not implemented")}static findByUuid(e){throw new Error("not implemented")}static save(e){throw new Error("not implemented")}static remove(e){throw new Error("not implemented")}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(8),o=r(218);class n extends o.AdvertDAO{static init(e){return n.sqlite=new i.SQLiteDatabase(e),n.createTableIfNotExists()}static create(e){return n.insert(e).then(()=>e)}static findByUuid(e,t){let r="SELECT rowid as id, * FROM advert WHERE uuid = ? ORDER BY rowid DESC",i=[e];return t&&t.skip&&t.limit&&(r+=" LIMIT ?,?",i.push(t.skip),i.push(t.limit)),n.sqlite.select(r,i).then(e=>e)}static createTableIfNotExists(){return n.sqlite.createTable("CREATE TABLE IF NOT EXISTS advert (uuid             TEXT,type             INTEGER,timestamp        INTEGER,rssi             INTEGER,packetCounter    INTEGER,configNumber     INTEGER,temperature      REAL,batteryVoltage   REAL,sleepMode        INTEGER,restartsUnknown  INTEGER,restartsSoftware INTEGER,restartsWatchdog INTEGER)")}static insert(e){return n.sqlite.insert("INSERT INTO advert VALUES (?,?,?,?,?,?,?,?,?,?,?,?)",[e.uuid,e.type,e.timestamp,e.rssi,e.packetCounter,e.configNumber,e.temperature,e.batteryVoltage,e.sleepMode,e.restartsUnknown,e.restartsSoftware,e.restartsWatchdog])}}t.AdvertImpl=n},function(e,t){e.exports=require("sqlite3")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AdvertDAO=class{static create(e){throw new Error("not implemented")}static findByUuid(e,t){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(8),o=r(220);class n extends o.FileDAO{static init(e){return n.sqlite=new i.SQLiteDatabase(e),n.createTableIfNotExists()}static create(e){return n.insert(e).then(()=>e)}static find(e){let t="SELECT rowid as id, * FROM files ORDER BY rowid DESC",r=[];return e&&e.skip&&e.limit&&(t+=" LIMIT ?,?",r.push(e.skip),r.push(e.limit)),n.sqlite.select(t,r).then(e=>n.resultsToExternalModelArray(e))}static findByType(e,t){let r="SELECT rowid as id, * FROM files WHERE file_type = ? ORDER BY rowid DESC",i=[e];return t&&t.skip&&t.limit&&(r+=" LIMIT ?,?",i.push(t.skip),i.push(t.limit)),n.sqlite.select(r,i).then(e=>n.resultsToExternalModelArray(e))}static findByUuid(e){let t=[e];return n.sqlite.select("SELECT rowid as id, * FROM files WHERE device_uuid = ? ORDER BY rowid DESC",t).then(e=>{let t=n.resultsToExternalModelArray(e);return 0===t.length?null:t[0]})}static resultsToExternalModelArray(e){return e.map(e=>n.internalToExternalModel(e))}static internalToExternalModel(e){return{file:{path:e.file_path,createdOn:new Date(e.file_createdOn),size:e.file_size,type:e.file_type},test:{group:e.test_group,name:e.test_name},device:{uuid:e.device_uuid,type:e.device_type,name:e.device_name,serialNumber:e.device_serialNumber,description:e.device_description},comment:e.comment}}static createTableIfNotExists(){return n.sqlite.createTable("CREATE TABLE IF NOT EXISTS files (file_path            TEXT,file_createdOn       INTEGER,file_size            INTEGER,file_type            TEXT,test_group           TEXT,test_name            TEXT,device_uuid          TEXT,device_type          TEXT,device_name          TEXT,device_serialNumber  TEXT,device_description   TEXT,comment              TEXT)")}static insert(e){return n.sqlite.insert("INSERT INTO files VALUES (?,?,?,?,?,?,?,?,?,?,?,?)",[e.file.path,e.file.createdOn,e.file.size,e.file.type,e.test.group,e.test.name,e.device.uuid,e.device.type,e.device.name,e.device.serialNumber,e.device.description,e.comment])}}t.FileImpl=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FileDAO=class{static create(e){throw new Error("not implemented")}static find(e){throw new Error("not implemented")}static findByType(e){throw new Error("not implemented")}static findByUuid(e){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(8),o=r(222);class n extends o.GsmDataDAO{static init(e){return n.sqlite=new i.SQLiteDatabase(e),n.createTableIfNotExists()}static create(e){return n.insert(e).then(()=>e)}static find(e){let t="SELECT rowid as id, * FROM gsm_data ORDER BY rowid DESC",r=[];return e&&e.skip&&e.limit&&(t+=" LIMIT ?,?",r.push(e.skip),r.push(e.limit)),n.sqlite.select(t,r).then(e=>e)}static createTableIfNotExists(){return n.sqlite.createTable("CREATE TABLE IF NOT EXISTS gsm_data (timestamp INTEGER,vmon      REAL,sq        INTEGER,cell      TEXT)")}static insert(e){return n.sqlite.insert("INSERT INTO gsm_data VALUES (?,?,?,?)",[e.timestamp,e.vmon,e.sq,e.cell])}}t.GsmDataImpl=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GsmDataDAO=class{static create(e){throw new Error("not implemented")}static find(e){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(8),o=r(224);class n extends o.BcmSampleDAO{static init(e){return n.sqlite=new i.SQLiteDatabase(e),n.createTableIfNotExists()}static create(e){return n.insert(e).then(()=>e)}static parseFieldValue(e,t){return"uuid"===e?t:"temperature"===e||"batteryVoltage"===e?parseFloat(t):parseInt(t)}static find(e){let t="SELECT rowid as id, * FROM bcm_sample",r=[];if(e.criteria){let i=!1;for(let o in e.criteria){if(!e.criteria.hasOwnProperty(o))continue;!1===i?(t+=" WHERE "+o+" = ?",i=!0):t+=" AND "+o+" = ?";let n=e.criteria[o];r.push(n)}}return t+=" ORDER BY timestamp DESC",e&&Number.isInteger(e.skip)&&Number.isInteger(e.skip)&&(t+=" LIMIT ?,?",r.push(e.skip),r.push(e.limit)),n.sqlite.select(t,r).then(e=>e)}static count(){return n.sqlite.selectOne("SELECT count(*) as count FROM bcm_sample").then(e=>{if(!e)throw new Error("Cannot select samples count");return e.count})}static createTableIfNotExists(){return n.sqlite.createTable("CREATE TABLE IF NOT EXISTS bcm_sample (uuid             TEXT,timestamp        INTEGER,rssi             INTEGER,packetCounter    INTEGER,configNumber     INTEGER,temperature      REAL,batteryVoltage   REAL,tensionAdc       INTEGER,maximumRange     INTEGER,minimumRange     INTEGER,maximumUnit      INTEGER,minimumUnit      INTEGER,maximumAdc       INTEGER,minimumAdc       INTEGER,restartsUnknown  INTEGER,restartsSoftware INTEGER,restartsWatchdog INTEGER)")}static insert(e){return n.sqlite.insert("INSERT INTO bcm_sample VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)",[e.uuid,e.timestamp,e.rssi,e.packetCounter,e.configNumber,e.temperature,e.batteryVoltage,e.tensionAdc,e.maximumRange,e.minimumRange,e.maximumUnit,e.minimumUnit,e.maximumAdc,e.minimumAdc,e.restartsUnknown,e.restartsSoftware,e.restartsWatchdog])}}t.BcmSampleImpl=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BcmSampleDAO=class{static create(e){throw new Error("not implemented")}static find(e){throw new Error("not implemented")}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(8),o=r(226);class n extends o.MtSampleDAO{static init(e){return n.sqlite=new i.SQLiteDatabase(e),n.createTableIfNotExists()}static create(e){return n.insert(e).then(()=>e)}static parseFieldValue(e,t){return"uuid"===e?t:"temperature"===e||"batteryVoltage"===e?parseFloat(t):parseInt(t)}static find(e){let t="SELECT rowid as id, * FROM mt_sample",r=[];if(e.criteria){let i=!1;for(let o in e.criteria){if(!e.criteria.hasOwnProperty(o))continue;!1===i?(t+=" WHERE "+o+" = ?",i=!0):t+=" AND "+o+" = ?";let n=e.criteria[o];r.push(n)}}return t+=" ORDER BY timestamp DESC",e&&Number.isInteger(e.skip)&&Number.isInteger(e.skip)&&(t+=" LIMIT ?,?",r.push(e.skip),r.push(e.limit)),n.sqlite.select(t,r).then(e=>e)}static count(){return n.sqlite.selectOne("SELECT count(*) as count FROM mt_sample").then(e=>{if(!e)throw new Error("Cannot select samples count");return e.count})}static createTableIfNotExists(){return n.sqlite.createTable("CREATE TABLE IF NOT EXISTS mt_sample (uuid             TEXT,timestamp        INTEGER,rssi             INTEGER,packetCounter    INTEGER,configNumber     INTEGER,temperature      REAL,batteryVoltage   REAL,measurement      INTEGER,maximumRange     INTEGER,minimumRange     INTEGER,maximumUnit      INTEGER,minimumUnit      INTEGER,maximumAdc       INTEGER,minimumAdc       INTEGER,restartsUnknown  INTEGER,restartsSoftware INTEGER,restartsWatchdog INTEGER)")}static insert(e){return n.sqlite.insert("INSERT INTO mt_sample VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)",[e.uuid,e.timestamp,e.rssi,e.packetCounter,e.configNumber,e.temperature,e.batteryVoltage,e.measurement,e.maximumRange,e.minimumRange,e.maximumUnit,e.minimumUnit,e.maximumAdc,e.minimumAdc,e.restartsUnknown,e.restartsSoftware,e.restartsWatchdog])}}t.MtSampleImpl=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MtSampleDAO=class{static create(e){throw new Error("not implemented")}static find(e){throw new Error("not implemented")}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(8),o=r(228);class n extends o.SopSampleDAO{static init(e){return n.sqlite=new i.SQLiteDatabase(e),n.createTableIfNotExists()}static create(e){return n.insert(e).then(()=>e)}static find(e){let t="SELECT rowid as id, * FROM sop_sample",r=[];if(e.criteria){let i=!1;for(let o in e.criteria){if(!e.criteria.hasOwnProperty(o))continue;!1===i?(t+=" WHERE "+o+" = ?",i=!0):t+=" AND "+o+" = ?";let n=e.criteria[o];r.push(n)}}return t+=" ORDER BY timestamp DESC",e&&Number.isInteger(e.skip)&&Number.isInteger(e.skip)&&(t+=" LIMIT ?,?",r.push(e.skip),r.push(e.limit)),n.sqlite.select(t,r).then(e=>e)}static count(){return n.sqlite.selectOne("SELECT count(*) as count FROM sop_sample").then(e=>{if(!e)throw new Error("Cannot select samples count");return e.count})}static createTableIfNotExists(){return n.sqlite.createTable("CREATE TABLE IF NOT EXISTS sop_sample (uuid                     TEXT,timestamp                INTEGER,rssi                     INTEGER,packetCounter            INTEGER,configNumber             INTEGER,temperatureInternal      REAL,batteryVoltage           REAL,temperature              REAL,capacitance              REAL,acceleration             REAL,restartsUnknown          INTEGER,restartsSoftware         INTEGER,restartsWatchdog         INTEGER,firmwareVersion          INTEGER,errors                   INTEGER,isAccData                INTEGER)")}static insert(e){return n.sqlite.insert("INSERT INTO sop_sample VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)",[e.uuid,e.timestamp,e.rssi,e.packetCounter,e.configNumber,e.temperatureInternal,e.batteryVoltage,e.temperature,e.capacitance,e.acceleration,e.restartsUnknown,e.restartsSoftware,e.restartsWatchdog,e.firmwareVersion,e.errors,e.isAccData])}}t.SopSampleImpl=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SopSampleDAO=class{static create(e){throw new Error("not implemented")}static find(e){throw new Error("not implemented")}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(8),o=r(230);class n extends o.CarbonWearSampleDAO{static init(e){return n.sqlite=new i.SQLiteDatabase(e),n.createTableIfNotExists()}static create(e){return n.insert(e).then(()=>e)}static find(e){let t="SELECT rowid as id, * FROM cw_sample",r=[];if(e.criteria){let i=!1;for(let o in e.criteria){if(!e.criteria.hasOwnProperty(o))continue;!1===i?(t+=" WHERE "+o+" = ?",i=!0):t+=" AND "+o+" = ?";let n=e.criteria[o];r.push(n)}}return t+=" ORDER BY timestamp DESC",e&&Number.isInteger(e.skip)&&Number.isInteger(e.skip)&&(t+=" LIMIT ?,?",r.push(e.skip),r.push(e.limit)),n.sqlite.select(t,r).then(e=>e)}static count(){return n.sqlite.selectOne("SELECT count(*) as count FROM cw_sample").then(e=>{if(!e)throw new Error("Cannot select samples count");return e.count})}static createTableIfNotExists(){return n.sqlite.createTable("CREATE TABLE IF NOT EXISTS cw_sample (uuid                     TEXT,timestamp                INTEGER,rssi                     INTEGER,packetCounter            INTEGER,configNumber             INTEGER,temperature              REAL,batteryVoltage           REAL,photoArrayRaw            INTEGER,restartsUnknown          INTEGER,restartsSoftware         INTEGER,restartsWatchdog         INTEGER,firmwareVersion          INTEGER,errors                   INTEGER)")}static insert(e){return n.sqlite.insert("INSERT INTO cw_sample VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)",[e.uuid,e.timestamp,e.rssi,e.packetCounter,e.configNumber,e.temperature,e.batteryVoltage,e.photoArrayRaw,e.restartsUnknown,e.restartsSoftware,e.restartsWatchdog,e.firmwareVersion,e.errors])}}t.CarbonWearSampleImpl=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CarbonWearSampleDAO=class{static create(e){throw new Error("not implemented")}static find(e){throw new Error("not implemented")}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(8),o=r(232);class n extends o.WirelessAccelSampleDAO{static init(e){return n.sqlite=new i.SQLiteDatabase(e),n.createTableIfNotExists()}static create(e){return n.insert(e).then(()=>e)}static find(e){let t="SELECT rowid as id, * FROM wa_sample",r=[];if(e.criteria){let i=!1;for(let o in e.criteria){if(!e.criteria.hasOwnProperty(o))continue;!1===i?(t+=" WHERE "+o+" = ?",i=!0):t+=" AND "+o+" = ?";let n=e.criteria[o];r.push(n)}}return t+=" ORDER BY timestamp DESC",e&&Number.isInteger(e.skip)&&Number.isInteger(e.skip)&&(t+=" LIMIT ?,?",r.push(e.skip),r.push(e.limit)),n.sqlite.select(t,r).then(e=>e)}static count(){return n.sqlite.selectOne("SELECT count(*) as count FROM wa_sample").then(e=>{if(!e)throw new Error("Cannot select samples count");return e.count})}static createTableIfNotExists(){return n.sqlite.createTable("CREATE TABLE IF NOT EXISTS wa_sample (uuid                     TEXT,timestamp                INTEGER,rssi                     INTEGER,packetCounter            INTEGER,configNumber             INTEGER,temperature              REAL,batteryVoltage           REAL,restartsUnknown          INTEGER,restartsSoftware         INTEGER,restartsWatchdog         INTEGER,firmwareVersion          INTEGER,errors                   INTEGER,event                    INTEGER,accx                     REAL,accy                     REAL,accz                     REAL)")}static insert(e){return n.sqlite.insert("INSERT INTO wa_sample VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)",[e.uuid,e.timestamp,e.rssi,e.packetCounter,e.configNumber,e.temperature,e.batteryVoltage,e.restartsUnknown,e.restartsSoftware,e.restartsWatchdog,e.firmwareVersion,e.errors,e.event,e.accx,e.accy,e.accz])}}t.WirelessAccelSampleImpl=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WirelessAccelSampleDAO=class{static create(e){throw new Error("not implemented")}static find(e){throw new Error("not implemented")}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(8),n=r(234);class s extends n.DpmSampleDAO{static init(e){return s.sqlite=new o.SQLiteDatabase(e),s.createTableIfNotExists()}static create(e){return s.insert(e).then(()=>e)}static find(e){return i(this,void 0,void 0,(function*(){const[t,r]=s.sqlite.buildSamplesQuery("SELECT rowid as id, * FROM Dpm_sample",e);return yield s.sqlite.select(t,r)}))}static count(){return i(this,void 0,void 0,(function*(){const e=yield s.sqlite.selectOne("SELECT count(*) as count FROM Dpm_sample");if(!e)throw new Error("Cannot select samples count");return e.count}))}static createTableIfNotExists(){return s.sqlite.createTable("CREATE TABLE IF NOT EXISTS Dpm_sample (uuid             TEXT,timestamp        INTEGER,rssi             INTEGER,packetCounter    INTEGER,configNumber     INTEGER,temperature      REAL,batteryVoltage   REAL,delta            INTEGER,restartsUnknown  INTEGER,restartsSoftware INTEGER,restartsWatchdog INTEGER,offsetCh1        INTEGER,offsetCh2        INTEGER)")}static insert(e){return s.sqlite.insert("INSERT INTO Dpm_sample VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)",[e.uuid,e.timestamp,e.rssi,e.packetCounter,e.configNumber,e.temperature,e.batteryVoltage,e.delta,e.restartsUnknown,e.restartsSoftware,e.restartsWatchdog,e.offsetCh1,e.offsetCh2])}}t.DpmSampleImpl=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DpmSampleDAO=class{static create(e){throw new Error("not implemented")}static find(e){throw new Error("not implemented")}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(8),n=r(236);class s extends n.DpmSlowSampleDAO{static init(e){return s.sqlite=new o.SQLiteDatabase(e),s.createTableIfNotExists()}static create(e){return s.insert(e).then(()=>e)}static find(e){return i(this,void 0,void 0,(function*(){const[t,r]=s.sqlite.buildSamplesQuery("SELECT rowid as id, * FROM Dpm_slowsample",e);return yield s.sqlite.select(t,r)}))}static count(){return i(this,void 0,void 0,(function*(){const e=yield s.sqlite.selectOne("SELECT count(*) as count FROM Dpm_slowsample");if(!e)throw new Error("Cannot select samples count");return e.count}))}static createTableIfNotExists(){return s.sqlite.createTable("CREATE TABLE IF NOT EXISTS Dpm_slowsample (uuid             TEXT,timestamp        INTEGER,current          REAL,temperature      REAL,batteryVoltage   REAL)")}static insert(e){return s.sqlite.insert("INSERT INTO Dpm_slowsample VALUES (?,?,?,?,?)",[e.uuid,e.timestamp,e.current,e.temperature,e.batteryVoltage])}}t.DpmSlowSampleImpl=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DpmSlowSampleDAO=class{static create(e){throw new Error("not implemented")}static find(e){throw new Error("not implemented")}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(8),o=r(238);class n extends o.AtlSampleDAO{static init(e){return n.sqlite=new i.SQLiteDatabase(e),n.createTableIfNotExists()}static create(e){return n.insert(e).then(()=>e)}static find(e){let t="SELECT rowid as id, * FROM atl_sample",r=[];if(e.criteria){let i=!1;for(let o in e.criteria){if(!e.criteria.hasOwnProperty(o))continue;!1===i?(t+=" WHERE "+o+" = ?",i=!0):t+=" AND "+o+" = ?";let n=e.criteria[o];r.push(n)}}return t+=" ORDER BY timestamp DESC",e&&Number.isInteger(e.skip)&&Number.isInteger(e.skip)&&(t+=" LIMIT ?,?",r.push(e.skip),r.push(e.limit)),n.sqlite.select(t,r).then(e=>e)}static count(){return n.sqlite.selectOne("SELECT count(*) as count FROM atl_sample").then(e=>{if(!e)throw new Error("Cannot select samples count");return e.count})}static createTableIfNotExists(){return n.sqlite.createTable("CREATE TABLE IF NOT EXISTS atl_sample (uuid                     TEXT,timestamp                INTEGER,rssi                     INTEGER,packetCounter            INTEGER,configNumber             INTEGER,restartsUnknown          INTEGER,temperatureInternal      REAL,temperature              REAL,batteryVoltage           REAL,eventType                INTEGER,accx                     REAL,accy                     REAL,accz                     REAL,firmwareVersion          INTEGER,errors                   INTEGER)")}static insert(e){return n.sqlite.insert("INSERT INTO atl_sample VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)",[e.uuid,e.timestamp,e.rssi,e.packetCounter,e.configNumber,e.restartsUnknown,e.temperatureInternal,e.temperature,e.batteryVoltage,e.eventType,e.accx,e.accy,e.accz,e.firmwareVersion,e.errors])}}t.AtlSampleImpl=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AtlSampleDAO=class{static create(e){throw new Error("not implemented")}static find(e){throw new Error("not implemented")}static count(){throw new Error("not implemented")}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(240),n=r(241),s=r(242),a=r(1);class l{static findAdapter(){return l.initialized||(l.initialize(),l.initialized=!0),this.findDefaultAdapter()}static findDefaultAdapter(){return i(this,void 0,void 0,(function*(){l.initialized||(l.initialize(),l.initialized=!0);return this.findSerialPortByName(/(Nordic_Semiconductor_nRF52_Connectivity)|(ATMEL_ASF_CDC_Virtual_Com)/).then(e=>new s.Adapter(e,l.adapterFactory.createAdapter("v3",e,"td-rt")))}))}static findSerialPortByName(e){return i(this,void 0,void 0,(function*(){for(const t of yield this.listSerialPorts())if(t.pnpId&&-1!==t.pnpId.search(e))return t.comName;throw new Error("Cannot find serial port.")}))}static listSerialPorts(){return new Promise((e,t)=>{n.list((r,i)=>{r?t(r):e(i)})})}static on(e,t){return l.adapterFactory.on(e,t)}static once(e,t){return l.adapterFactory.once(e,t)}static addListener(e,t){return l.adapterFactory.addListener(e,t)}static removeListener(e,t){return l.adapterFactory.removeListener(e,t)}static removeAllListeners(e){return l.adapterFactory.removeAllListeners(e)}static setMaxListeners(e){return l.adapterFactory.setMaxListeners(e)}static getMaxListeners(){return l.adapterFactory.getMaxListeners()}static listeners(e){return l.adapterFactory.listeners(e)}static listenerCount(e){return l.adapterFactory.listenerCount(e)}static initialize(){l.logger=a.Logger.getLogger("jrd-ble-adapter-factory"),l.adapterFactory.on("added",e=>{l.logger.log("info",`onAdded: Adapter added. Adapter: ${e.instanceId}`)}),l.adapterFactory.on("removed",e=>{l.logger.log("info",`onRemoved: Adapter removed. Adapter: ${e.instanceId}`)}),l.adapterFactory.on("error",e=>{l.logger.log("error","onError: Adapter error: "+JSON.stringify(e,null,1))})}}t.AdapterFactory=l,l.logger=a.Logger.getLogger("jrd-ble-adapter-factory"),l.initialized=!1,l.adapterFactory=o.AdapterFactory.getInstance()},function(e,t){e.exports=require("nrf5x")},function(e,t){e.exports=require("serialport")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(1);var o;!function(e){e[e.EnablePaLna=4]="EnablePaLna",e[e.EnableDataStream=5]="EnableDataStream",e[e.DisableDataStream=6]="DisableDataStream",e[e.ExtFlashGetStatus=7]="ExtFlashGetStatus",e[e.ExtFlashChipErase=8]="ExtFlashChipErase",e[e.ExtFlashGetInfo=9]="ExtFlashGetInfo"}(o||(o={}));t.Adapter=class{constructor(e,t){if(this.portName=e,this.internal=t,this.logger=i.Logger.getLogger("jrd-ble-adapter"),this.severity=3,this.sbMode=!1,!t)throw new Error("BLE Adapter not found");this.internal.on("logMessage",(e,t)=>{e>=this.severity&&this.logger.log("info",`#1 logMessage: ${t}`)}),this.internal.on("status",e=>{this.logger.log("info",`#1 status: ${JSON.stringify(e)}`)}),this.internal.on("error",e=>{this.logger.log("info","#1 error: "+JSON.stringify(e,null,1))})}set LoggingSeverity(e){this.severity=e}get LoggingSeverity(){return this.severity}open(e){return new Promise((t,r)=>{const i=e=>{this.internal.removeListener("stateChanged",o),clearTimeout(n),e?r(e):t()},o=e=>{!0===e.available&&i()},n=setTimeout(()=>{i(new Error("Cannot open bluetooth adapter - timeout"))},2e3);this.internal.on("stateChanged",o),this.internal.open(e,e=>{e&&i(e)})}).then(()=>{this.internal.on("stateChanged",this.onStateChanged.bind(this))})}onStateChanged(e){!1===e.available&&(this.logger.info("reset started"),process.exit(1))}enableBLE(){return new Promise((e,t)=>{this.internal.enableBLE(void 0,(r,i,o)=>{r?t(r):e()})})}getState(){return new Promise((e,t)=>{!0!==this.sbMode?this.internal.getState((r,i)=>{r?t(r):e(i)}):t(new Error("Adapter is the shock burst mode, cannot get state"))})}startScan(e){return new Promise((t,r)=>{this.internal.startScan(e,e=>{e?r(e):t()})})}stopScan(){return new Promise((e,t)=>{this.internal.stopScan(r=>{r?t(r):e()})})}enablePaLna(){return new Promise((e,t)=>{this.internal.TdCommand(o.EnablePaLna,[],r=>{r?t(r):e()})})}enableDataStream(e){return new Promise((t,r)=>{try{this.validateDataStreamParams(e)}catch(e){return void r(e)}const i=this.getDataStreamPayloadSize(e.sampling_rate);let n=0;const s=Buffer.alloc(50);n=s.writeUInt8(e.rf_channel,n),n=s.writeUInt8(e.rf_data_rate,n),n=s.writeUInt8(e.rf_use_lna,n),n=s.writeUInt8(i,n),n=s.writeUInt32LE(e.sampling_rate,n),n=s.writeInt32LE(e.decimation_ratio,n);for(let t=0;t<8;++t)n=s.writeInt32LE(e.total_gain[t],n);const a=e.samples/e.sampling_rate*1e3;this.logger.info(`Logging time: ${a}`),n=s.writeUInt32LE(a,n);const l=o.EnableDataStream,c=Array.prototype.slice.call(s,0);this.sbMode=!0,this.internal.TdCommand(l,c,e=>{e?r(e):t()})})}getDataStreamPayloadSize(e){return 16e3===e?138:248}validateDataStreamParams(e){if("number"!=typeof e.sampling_rate||0===e.sampling_rate)throw new Error("You have to provide a sampling rate.");if("number"!=typeof e.decimation_ratio||0===e.decimation_ratio)throw new Error("You have to provide a decimation ratio.");if("number"==typeof e.total_gain&&0!==e.total_gain)throw new Error("You have to provide a total gain.");if("number"!=typeof e.rf_channel)throw new Error("You have to provide an rf channel.");if("number"!=typeof e.rf_data_rate)throw new Error("You have to provide an rf data rate");if("number"!=typeof e.rf_use_lna)throw new Error("You have to provide an rf use lna option")}disableDataStream(){return new Promise((e,t)=>{this.internal.TdCommand(o.DisableDataStream,[],r=>{r?t(r):(this.sbMode=!1,e())})})}readCharacteristicValue(e){const t=e.instanceId;return new Promise((e,r)=>{this.internal.readCharacteristicValue(t,(t,i)=>{t?r(t):e(i?Buffer.from(i):Buffer.alloc(0))})})}writeCharacteristicValue(e,t,r=!1){return new Promise((i,o)=>{const n=e.instanceId,s=Array.prototype.slice.call(t,0);this.internal.writeCharacteristicValue(n,s,r,e=>{e?o(e):i()})})}startCharacteristicsNotifications(e,t=!1){return new Promise((r,i)=>{const o=e.instanceId;this.internal.startCharacteristicsNotifications(o,t,e=>{e?i(e):r()})})}stopCharacteristicsNotifications(e){return new Promise((t,r)=>{const i=e.instanceId;this.internal.stopCharacteristicsNotifications(i,e=>{e?r(e):t()})})}gapStartRSSI(e){return new Promise((t,r)=>{this.internal._adapter.gapStartRSSI(e.connectionHandle,2,0,e=>{e?r(e):t()})})}gapStopRSSI(e){return new Promise((t,r)=>{this.internal._adapter.gapStopRSSI(e.connectionHandle,e=>{e?r(e):t()})})}gapSetTXPower(e){return new Promise((t,r)=>{this.internal._adapter.gapSetTXPower(e,e=>{e?r(e):t()})})}requestAttMtu(e,t){return new Promise((r,i)=>{this.internal.requestAttMtu(e.instanceId,t,(e,t)=>{e?i(e):r(t)})})}getCurrentAttMtu(e){return this.internal.getCurrentAttMtu(e.instanceId)}extFlashGetStatus(){return new Promise((e,t)=>{this.internal.TdCommand(o.ExtFlashGetStatus,[],(r,i)=>{r?t(r):e(i)})})}extFlashChipErase(){return new Promise((e,t)=>{this.internal.TdCommand(o.ExtFlashChipErase,[],r=>{r?t(r):e()})})}extFlashGetInfo(){return new Promise((e,t)=>{this.internal.TdCommand(o.ExtFlashGetInfo,[],(r,i)=>{r?t(r):e(i)})})}on(e,t){return this.internal.on(e,t)}once(e,t){return this.internal.once(e,t)}addListener(e,t){return this.internal.addListener(e,t)}removeListener(e,t){return this.internal.removeListener(e,t)}removeAllListeners(e){return this.internal.removeAllListeners(e)}setMaxListeners(e){return this.internal.setMaxListeners(e)}getMaxListeners(){return this.internal.getMaxListeners()}listeners(e){return this.internal.listeners(e)}listenerCount(e){return this.internal.listenerCount(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(28),o=r(1);var n;!function(e){e[e.Idle=0]="Idle",e[e.Starting=1]="Starting",e[e.Stopping=2]="Stopping"}(n||(n={}));class s extends i.EventEmitter{constructor(e){super(),this.adapter=e,this.scanOptions={active:!0,interval:100,window:100,timeout:0},this.autoScanMode=!0,this.PERIP_BLOCK_MINS=1,this.blocklist={},this.handledAdvertisements={},this.scanOp=n.Idle,this.handlers={stateChanged:this.stateChanged.bind(this),deviceDiscovered:this.deviceDiscovered.bind(this),deviceConnected:this.deviceConnected.bind(this),deviceDisconnected:this.deviceDisconnected.bind(this),deviceConnectionTimeout:this.deviceConnectionTimeout.bind(this)},this.logger=o.Logger.getLogger("jrd-ble-scanner"),this.adapter.on("stateChanged",this.handlers.stateChanged),this.adapter.on("deviceConnected",this.handlers.deviceConnected),this.adapter.on("deviceDisconnected",this.handlers.deviceDisconnected),this.adapter.on("connectTimedOut",this.handlers.deviceConnectionTimeout),this.adapter.on("deviceDiscovered",this.handlers.deviceDiscovered)}cleanup(){this.adapter.removeListener("stateChanged",this.handlers.stateChanged),this.adapter.removeListener("deviceDiscovered",this.handlers.deviceDiscovered),this.adapter.removeListener("deviceConnected",this.handlers.deviceConnected),this.adapter.removeListener("connectTimedOut",this.handlers.deviceConnectionTimeout),this.adapter.removeListener("deviceDisconnected",this.handlers.deviceDisconnected)}setAutoScanMode(e){return this.autoScanMode=e,!0===this.autoScanMode?this.start():Promise.resolve()}start(){return this.scanOp!==n.Idle?(this.logger.warn("Scanning start request doubled"),Promise.resolve()):(this.scanOp=n.Starting,this.adapter.getState().then(e=>{if(this.logger.info(`start scanning (scanning: ${e.scanning})`),!1===e.scanning)return this.adapter.startScan(this.scanOptions);this.scanOp=n.Idle}))}stop(){return this.scanOp!==n.Idle?(this.logger.warn("Scanning stop request doubled"),Promise.resolve()):(this.scanOp=n.Stopping,this.adapter.getState().then(e=>{if(this.logger.info(`stop scanning (scanning: ${e.scanning})`),!0===e.scanning)return this.adapter.stopScan();this.scanOp=n.Idle}))}restart(){return this.stop().then(()=>this.start())}isScanning(){return this.adapter.getState().then(e=>e.scanning)}stateChanged(e){this.logger.info("state",JSON.stringify(e)),e.scanning?(this.scanOp===n.Starting&&(this.scanOp=n.Idle),this.logger.info("state changed, scanning")):(this.scanOp===n.Stopping&&(this.scanOp=n.Idle),this.logger.info("state changed, not scanning"))}deviceDiscovered(e){if(this.isPeripheralBlocked(e))return;if(e.name&&"DfuTarg"===e.name)return void this.emit("dfu-targ",e);if(e.name&&"DPM"===e.name)return void this.emit("td-targ",e);if(!e.adData)return;if(!e.adData.BLE_GAP_AD_TYPE_SERVICE_DATA)return;6154===new Buffer(e.adData.BLE_GAP_AD_TYPE_SERVICE_DATA).readUInt16LE(0)&&this.emit("td-targ",e)}deviceConnected(e){return!1===this.autoScanMode?(this.logger.info("AutoScan: disabled"),Promise.resolve()):this.stop().then(()=>this.start())}deviceDisconnected(e,t,r){return!1===this.autoScanMode?(this.logger.info("AutoScan: disabled"),Promise.resolve()):this.stop().then(()=>this.start())}deviceConnectionTimeout(e){return!1===this.autoScanMode?(this.logger.info("AutoScan: disabled"),Promise.resolve()):this.stop().then(()=>this.start())}setAdvertHandled(e){this.handledAdvertisements[e.uuid]=e.packetCounter}isAdvertisementHandled(e){return this.handledAdvertisements[e.uuid]===e.packetCounter}blockPeripheral(e){this.blocklist[e.address]=new Date}isPeripheralBlocked(e){return!!this.blocklist[e.address]&&(!(this.getBlockTime(e)>=this.PERIP_BLOCK_MINS)||(delete this.blocklist[e.address],!1))}getBlockTime(e){return this.timeDifferenceInMinutes(this.blocklist[e.address],new Date)}timeDifferenceInMinutes(e,t){return(t.getTime()-e.getTime())/1e3/60}}t.Scanner=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(245),o=r(6),n=r(246),s=r(247),a=r(248),l=r(249),c=r(250),u=r(251),d=r(252),g=r(253),p=r(254);t.AdvertFactory=class{static create(e){switch(i.DeviceTypeId.get(e)){case o.DeviceType.MT:return new n.AdvertMt(e);case o.DeviceType.BCM:return new s.AdvertBcm(e);case o.DeviceType.DPM:return new a.AdvertDpm(e);case o.DeviceType.LSW:return new l.AdvertLsw(e);case o.DeviceType.AST:return new c.AdvertAstute(e);case o.DeviceType.WA:return new u.WirelessAccelAdvert(e);case o.DeviceType.SOP:return new d.AdvertSop(e);case o.DeviceType.CW:return new g.AdvertCarbonWear(e);case o.DeviceType.ATL:return new p.AdvertATL(e)}return null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6);t.DeviceTypeId=class{static get(e){if("DPM"===e.name)return i.DeviceType.DPM;if(!e.adData.BLE_GAP_AD_TYPE_SERVICE_DATA)return 0;if(e.adData.BLE_GAP_AD_TYPE_SERVICE_DATA.length<3)return 0;const t=new Buffer(e.adData.BLE_GAP_AD_TYPE_SERVICE_DATA);return 6154!==t.readUInt16LE(0)?0:t.readUInt8(2)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6),o=r(15);class n extends o.Advert{constructor(e){super();let t=e.rssi,r=e.address,i=e.addressType;this.init(r,i,t),this.parseManufacturerData(new Buffer(e.adData.BLE_GAP_AD_TYPE_MANUFACTURER_SPECIFIC_DATA))}init(e,t,r){this.address=e,this.addressType=t,this.uuid=e.replace(/:/g,"").toLowerCase(),this.rssi=r,this.type=i.DeviceType.MT,this.shortName="MT",this.longName="Miniature Temperature Telemetry"}parseManufacturerData(e){return!(e.length<17)&&(this.version=e.readUInt8(2),this.packetCounter=e.readUInt8(3),this.configNumber=e.readUInt8(4),this.temperatureRaw=e.readInt16LE(5),this.batteryVoltageRaw=e.readUInt16LE(7),this.value=e.readUInt16LE(9),this.restartsUnknown=e.readUInt16LE(11),this.restartsSoftware=e.readUInt16LE(13),this.restartsWatchdog=e.readUInt16LE(15),this.temperature=this.adcToTemperature(this.temperatureRaw),this.batteryVoltage=this.adcToBatteryVoltage(this.batteryVoltageRaw),!0)}adcToTemperature(e){return e/4}adcToBatteryVoltage(e){return e/1024*3.6}}t.AdvertMt=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6),o=r(15);class n extends o.Advert{constructor(e){super();let t=e.rssi,r=e.address,i=e.addressType;this.init(r,i,t),this.parseManufacturerData(new Buffer(e.adData.BLE_GAP_AD_TYPE_MANUFACTURER_SPECIFIC_DATA))}init(e,t,r){this.address=e,this.addressType=t,this.uuid=e.replace(/:/g,"").toLowerCase(),this.rssi=r,this.type=i.DeviceType.BCM,this.shortName="BCM",this.longName="Bolt Cap Module"}parseManufacturerData(e){return!(e.length<17)&&(this.version=e.readUInt8(2),this.packetCounter=e.readUInt8(3),this.configNumber=e.readUInt8(4),this.temperatureRaw=e.readInt16LE(5),this.batteryVoltageRaw=e.readUInt16LE(7),this.value=e.readUInt16LE(9),this.restartsUnknown=e.readUInt16LE(11),this.restartsSoftware=e.readUInt16LE(13),this.restartsWatchdog=e.readUInt16LE(15),this.temperature=this.adcToTemperature(this.temperatureRaw),this.batteryVoltage=this.adcToBatteryVoltage(this.batteryVoltageRaw),!0)}adcToTemperature(e){return e/4}adcToBatteryVoltage(e){return e/1024*3.6}}t.AdvertBcm=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6),o=r(15);class n extends o.Advert{constructor(e){super();let t=e.rssi,r=e.address,i=e.addressType;this.init(r,i,t),this.parseManufacturerData(new Buffer(e.adData.BLE_GAP_AD_TYPE_MANUFACTURER_SPECIFIC_DATA))}init(e,t,r){this.address=e,this.addressType=t,this.uuid=e.replace(/:/g,"").toLowerCase(),this.rssi=r,this.type=i.DeviceType.DPM,this.shortName="DPM",this.longName="Data Processing Module"}parseManufacturerData(e){if(e.length<20)return!1;this.packetCounter=e.readUInt8(2),this.dischargeLowRes=e.readUInt8(3),this.configNumber=e.readUInt16LE(4),this.temperatureRaw=e.readInt16LE(6),this.batteryVoltageRaw=e.readUInt16LE(8),this.value=e.readUInt16LE(10),this.restartsUnknown=e.readUInt16LE(12),this.restartsSoftware=e.readUInt16LE(14),this.restartsWatchdog=e.readUInt16LE(16);var t=e.readUInt16LE(18),r=e.readUInt8(20);this.temperature=this.adcToTemperature(this.temperatureRaw),this.batteryVoltage=this.adcToBatteryVoltage(this.batteryVoltageRaw);var i=65536*r+t;return this.offsetCh1=i>>0&1023,this.offsetCh2=i>>10&1023,!0}adcToTemperature(e){return e/4}adcToBatteryVoltage(e){return(32767&e)/1024*3.6}}t.AdvertDpm=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6),o=r(15);class n extends o.Advert{constructor(e){super();let t=e.rssi,r=e.address,i=e.addressType;this.init(r,i,t),this.parseManufacturerData(new Buffer(e.adData.BLE_GAP_AD_TYPE_MANUFACTURER_SPECIFIC_DATA))}init(e,t,r){this.address=e,this.addressType=t,this.uuid=e.replace(/:/g,"").toLowerCase(),this.rssi=r,this.type=i.DeviceType.LSW,this.shortName="LSW",this.longName="Limit Switch"}parseManufacturerData(e){return!(e.length<18)&&(this.version=e.readUInt8(2),this.packetCounter=e.readUInt8(3),this.configNumber=e.readUInt8(4),this.temperatureRaw=e.readInt16LE(5),this.batteryVoltageRaw=e.readUInt16LE(7),this.value=e.readUInt16LE(9),this.restartsUnknown=e.readUInt16LE(11),this.restartsSoftware=e.readUInt16LE(13),this.restartsWatchdog=e.readUInt16LE(15),this.switchState=e.readUInt8(17),this.temperature=this.adcToTemperature(this.temperatureRaw),this.batteryVoltage=this.adcToBatteryVoltage(this.batteryVoltageRaw),!0)}adcToTemperature(e){return e/4}adcToBatteryVoltage(e){return e/1024*3.6}}t.AdvertLsw=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6),o=r(15);class n extends o.Advert{constructor(e){super();let t=e.rssi,r=e.address,i=e.addressType;this.init(r,i,t),this.parseManufacturerData(new Buffer(e.adData.BLE_GAP_AD_TYPE_MANUFACTURER_SPECIFIC_DATA))}init(e,t,r){this.address=e,this.addressType=t,this.uuid=e.replace(/:/g,"").toLowerCase(),this.rssi=r,this.type=i.DeviceType.AST,this.shortName="AST",this.longName="Astute"}parseManufacturerData(e){return!(e.length<18)&&(this.version=e.readUInt8(2),this.packetCounter=e.readUInt8(3),this.configNumber=e.readUInt8(4),this.temperatureRaw=e.readInt16LE(5),this.batteryVoltageRaw=e.readUInt16LE(7),this.restartsUnknown=e.readUInt16LE(9),this.restartsSoftware=e.readUInt16LE(11),this.restartsWatchdog=e.readUInt16LE(13),this.shallowSleepTimeout=e.readInt32LE(15),this.temperature=this.adcToTemperature(this.temperatureRaw),this.batteryVoltage=this.adcToBatteryVoltage(this.batteryVoltageRaw),!0)}adcToTemperature(e){return e/4}adcToBatteryVoltage(e){return e/1024*.6*8}}t.AdvertAstute=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6),o=r(15),n=r(29);class s extends o.Advert{constructor(e){super(),this.MANUF_DATA_SIZE=19,this.event=0,this.accxRaw=0,this.accx=0,this.accyRaw=0,this.accy=0,this.acczRaw=0,this.accz=0;let t=e.rssi,r=e.address,i=e.addressType;this.init(r,i,t),this.parseManufacturerData(new Buffer(e.adData.BLE_GAP_AD_TYPE_MANUFACTURER_SPECIFIC_DATA))}init(e,t,r){this.address=e,this.addressType=t,this.uuid=e.replace(/:/g,"").toLowerCase(),this.rssi=r,this.type=i.DeviceType.WA,this.shortName="WA",this.longName="Wireless Accelerometer"}parseManufacturerData(e){if(e.length<this.MANUF_DATA_SIZE)throw new Error("Cannot parse advertisement - invalid data "+`received length: ${e.length}, expected length: ${this.MANUF_DATA_SIZE} `+`device id: ${this.uuid}`);let t=2;return this.version=e.readUInt8(t),t+=1,this.packetCounter=e.readUInt8(t),t+=1,this.configNumber=e.readUInt8(t),t+=1,this.restartsUnknown=e.readUInt8(t),t+=1,this.restartsSoftware=e.readUInt8(t),t+=1,this.restartsWatchdog=e.readUInt8(t),t+=1,this.temperatureRaw=e.readInt16LE(t),t+=2,this.batteryVoltageRaw=e.readUInt8(t),t+=1,this.event=e.readUInt8(t),t+=1,this.accxRaw=e.readInt16LE(t),t+=2,this.accyRaw=e.readInt16LE(t),t+=2,this.acczRaw=e.readInt16LE(t),t+=2,this.errors=e.readUInt16LE(t),t+=1,this.temperature=n.Converter.intTempToDegC(this.temperatureRaw),this.batteryVoltage=n.Converter.vbatToVolts(this.batteryVoltageRaw<<2),this.accx=n.Converter.sensAccelToG(this.accxRaw),this.accy=n.Converter.sensAccelToG(this.accyRaw),this.accz=n.Converter.sensAccelToG(this.acczRaw),!0}}t.WirelessAccelAdvert=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6),o=r(15),n=r(34),s=r(30);class a extends o.Advert{constructor(e){super(),this.sensorTemperatureRaw=0,this.sensorTemperature=0,this.sensorCapacitanceRaw=0,this.sensorCapacitance=0,this.sensorAccelerationRaw=0,this.sensorAcceleration=0,this.isAccData=!1;let t=e.rssi,r=e.address,i=e.addressType;this.init(r,i,t),this.parseManufacturerData(new Buffer(e.adData.BLE_GAP_AD_TYPE_MANUFACTURER_SPECIFIC_DATA))}init(e,t,r){this.address=e,this.addressType=t,this.uuid=e.replace(/:/g,"").toLowerCase(),this.rssi=r,this.type=i.DeviceType.SOP,this.shortName="SOP",this.longName="Smart Oil Plug"}parseManufacturerData(e){let t=2;this.version=e.readUInt8(t),t+=1,this.packetCounter=e.readUInt8(t),t+=1,this.configNumber=e.readUInt8(t),t+=1,this.restartsUnknown=e.readUInt8(t),t+=1,this.restartsSoftware=e.readUInt8(t),t+=1,this.restartsWatchdog=e.readUInt8(t),t+=1,this.temperatureRaw=e.readInt16LE(t),t+=2,this.batteryVoltageRaw=e.readUInt8(t),t+=1,this.sensorCapacitanceRaw=e.readUIntLE(t,3),t+=3,this.sensorTemperatureRaw=e.readUIntLE(t,3),t+=3,this.sensorAccelerationRaw=e.readUInt16LE(t),t+=2,this.errors=e.readUInt8(t),t+=1;const r=e.readUInt8(t);return t+=1,this.temperature=n.Converter.intTempToDegC(this.temperatureRaw),this.batteryVoltage=n.Converter.vbatToVolts(this.batteryVoltageRaw),this.sensorTemperature=n.Converter.sensTempToDegC(this.sensorTemperatureRaw),this.sensorCapacitance=n.Converter.sensCapToPikoFarad(this.sensorCapacitanceRaw),this.sensorAcceleration=n.Converter.sensAccelToG(s.BinaryDecoder.decodeInt12(this.sensorAccelerationRaw)),this.isAccData=1===r,!0}recalculateCapacitance(e,t){this.sensorCapacitance=n.Converter.sensCapToPikoFarad(this.sensorCapacitanceRaw,e,t)}}t.AdvertSop=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6),o=r(15),n=r(35);class s extends o.Advert{constructor(e){super(),this.reserved1=0,this.reserved2=0,this.photoArrayRaw=0,this.photoArray=[];let t=e.rssi,r=e.address,i=e.addressType;this.init(r,i,t),this.parseManufacturerData(new Buffer(e.adData.BLE_GAP_AD_TYPE_MANUFACTURER_SPECIFIC_DATA))}init(e,t,r){this.address=e,this.addressType=t,this.uuid=e.replace(/:/g,"").toLowerCase(),this.rssi=r,this.type=i.DeviceType.CW,this.shortName="CW",this.longName="Carbon Wear"}parseManufacturerData(e){let t=2;return this.version=e.readUInt8(t),t+=1,this.packetCounter=e.readUInt8(t),t+=1,this.configNumber=e.readUInt8(t),t+=1,this.restartsUnknown=e.readUInt8(t),t+=1,this.restartsSoftware=e.readUInt8(t),t+=1,this.restartsWatchdog=e.readUInt8(t),t+=1,this.temperatureRaw=e.readInt16LE(t),t+=2,this.batteryVoltageRaw=e.readUInt8(t),t+=1,this.photoArrayRaw=e.readUIntLE(t,3),t+=3,this.reserved1=e.readUIntLE(t,3),t+=3,this.reserved2=e.readUInt16LE(t),t+=2,this.errors=e.readUInt16LE(t),t+=1,this.temperature=n.Converter.intTempToDegC(this.temperatureRaw),this.batteryVoltage=n.Converter.vbatToVolts(this.batteryVoltageRaw<<2),this.photoArray=this.parsePhotoArray(this.photoArrayRaw),!0}parsePhotoArray(e){return Array.from(Array(20).keys()).map(t=>(e&1<<t)>>t)}}t.AdvertCarbonWear=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6),o=r(15),n=r(36);class s extends o.Advert{constructor(e){super(),this.accxRaw=0,this.accx=0,this.accyRaw=0,this.accy=0,this.acczRaw=0,this.accz=0,this.eventType=0;let t=e.rssi,r=e.address,i=e.addressType;this.init(r,i,t),this.parseManufacturerData(new Buffer(e.adData.BLE_GAP_AD_TYPE_MANUFACTURER_SPECIFIC_DATA))}init(e,t,r){this.address=e,this.addressType=t,this.uuid=e.replace(/:/g,"").toLowerCase(),this.rssi=r,this.type=i.DeviceType.ATL,this.shortName="ATL",this.longName="MiniATL"}parseManufacturerData(e){let t=2;this.version=e.readUInt8(t),t+=1,this.packetCounter=e.readUInt8(t),t+=1,this.configNumber=e.readUInt8(t),t+=1,this.restartsUnknown=e.readUInt8(t),t+=1,this.temperatureInternalRaw=e.readInt16LE(t),t+=2,this.temperatureRaw=e.readInt16LE(t),t+=2,this.batteryVoltageRaw=e.readUInt8(t),t+=1,this.eventType=e.readUInt8(t),t+=1,this.accxRaw=e.readInt16LE(t),t+=2,this.accyRaw=e.readInt16LE(t),t+=2,this.acczRaw=e.readInt16LE(t),t+=2,this.errors=e.readUInt16LE(t),t+=1;const r=new n.Converter(2,125);return this.temperatureInternal=r.intTempToDegC(this.temperatureInternalRaw),this.temperature=r.sensTempToDegC(this.temperatureRaw),this.batteryVoltage=r.vbatToVolts(this.batteryVoltageRaw<<2),this.accx=r.sensAccelToG(this.accxRaw),this.accy=r.sensAccelToG(this.accyRaw),this.accz=r.sensAccelToG(this.acczRaw),!0}}t.AdvertATL=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(256),o=r(266),n=r(270),s=r(274),a=r(292),l=r(299),c=r(306),u=r(319),d=r(1),g=r(11),p=r(6);t.GenericHandler=class{constructor(e){this.di=e,this.db=e.db,this.logger=d.Logger.getLogger("jrd-gen-handler")}handle(e,t){return this.peripheral=e,this.advert=t,this.logger.log("info","Advert",JSON.stringify(t)),this.logger.log("info","Peripheral",JSON.stringify(e)),new Promise(e=>{if(!1===this.isDeviceSupported(this.advert))throw this.di.scanner.blockPeripheral(this.peripheral),new Error("Unsupported peripheral type");e()}).then(()=>this.findPendigFirmwareUpdate()).then(e=>this.executeFirmwareUpdate(e),e=>this.executeDeviceHandler()).catch(e=>{throw this.logger.log("warn",e+" "+e.stack),e})}isDeviceSupported(e){switch(e.type){case p.DeviceType.AST:case p.DeviceType.BCM:case p.DeviceType.DPM:case p.DeviceType.MT:return!0;case p.DeviceType.LSW:return!1;case p.DeviceType.WA:case p.DeviceType.SOP:case p.DeviceType.CW:case p.DeviceType.ATL:return!0}return!1}findPendigFirmwareUpdate(){return new Promise((e,t)=>{this.db.FirmwareUpdateDAO.findByUuid(this.advert.uuid).then(r=>{null===r?t(new Error("Firmware update not found")):"success"===r.status.toLocaleLowerCase()?t(new Error("Firmware update has been already completed")):e(r)}).catch(t)})}executeFirmwareUpdate(e){return new Promise((e,t)=>{e()})}executeDeviceHandler(){return this.addLastDevice(),this.validateLicense().then(()=>this.handleDevice()).then(()=>{this.logger.info("executeDeviceHandler: end")})}addLastDevice(){const e=this.advert;return this.db.LastDeviceDAO.create({timestamp:e.timestamp,uuid:e.uuid,type:e.shortName,rssi:e.rssi,temperature:e.temperature,batteryVoltage:e.batteryVoltage}).then(e=>{this.logger.log("info","Last device added"),g.TdEvent.emitApp("lastDevice",e)}).catch(e=>{this.logger.log("warn",e)})}validateLicense(){return this.logger.log("info","License validation"),new Promise((e,t)=>{e()})}handleDevice(){return new Promise((e,t)=>{const r={advert:this.advert,peripheral:this.peripheral},i=this.createDeviceHandler(r);i?this.handleGenericDevice(i).then(()=>{this.di.scanner.setAdvertHandled(this.advert),e()},e=>{t(e)}):t(new Error("Unknown device"))})}createDeviceHandler(e){const t=e.advert.type;return t===p.DeviceType.AST?new i.AstuteHandler(this.di,e):t===p.DeviceType.BCM?new o.BcmHandler(this.di,e):t===p.DeviceType.WA?new s.WirelessAccelHandler(this.di,e):t===p.DeviceType.MT?new n.MtHandler(this.di,e):t===p.DeviceType.SOP?new a.SopHandler(this.di,e):t===p.DeviceType.CW?new l.CarbonWearHandler(this.di,e):t===p.DeviceType.DPM?new c.DpmHandler(this.di,e):t===p.DeviceType.ATL?new u.AtlHandler(this.di,e):null}handleGenericDevice(e){return new Promise((t,r)=>{this.logger.log("info","Generic device handler"),e.handleConnection().then(()=>{this.logger.log("info","Connection handled"),t(),e.handleData().then(()=>{this.logger.log("info",this.advert.uuid+" - data handled")},e=>{this.logger.log("warn",this.advert.uuid+" - cannot handle data: "+e)})},e=>{this.logger.log("warn","Cannot handle connection: "+e),r(e)})})}handleFirmwareUpdate(e){return new Promise((e,t)=>{e()})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(16),o=r(10),n=r(4),s=r(23),a=r(0),l=r(17),c=r(258),u=r(165),d=r(25),g=r(1),p=r(11),h=r(263),m=r(22);r(265);var f,y,_;!function(e){e[e.ConfigDownload=0]="ConfigDownload",e[e.ConfigUplaod=1]="ConfigUplaod",e[e.Stream=2]="Stream",e[e.Logging=3]="Logging",e[e.Sleep=4]="Sleep"}(f||(f={})),function(e){e[e.NewDevice=0]="NewDevice",e[e.NewFirmware=1]="NewFirmware",e[e.DifferentConfigNumber=2]="DifferentConfigNumber",e[e.UserRequest=3]="UserRequest"}(y||(y={})),function(e){e[e.Idle=0]="Idle",e[e.Requested=1]="Requested",e[e.Completed=2]="Completed"}(_||(_={}));class S extends l.DeviceHandler{constructor(e,t){super(e,t),this.EXTEND_SHALLOW_SLEEP_TIME_SEC=3600,this.MAXIMUM_SHALLOW_SLEEP_TIME_SEC=86400,this.astute=null,this.tasks=null,this.activeTask=null,this.logger=g.Logger.getLogger("jrd-hdl-ast"),this.connection=new c.ConnectionAstute({adapter:e.adapter,scanner:e.scanner},t.peripheral)}handleConnection(){return this.logger.log("info","Astute handler started"),Promise.resolve().then(()=>this.pullDatabase()).then(()=>this.execute())}pullDatabase(){return this.findAstute().then(e=>{if(null===e)return this.createAstute().then(e=>{this.astute=e});this.astute=e}).then(()=>this.findTasks(this.astute.uuid)).then(e=>{this.tasks=e})}findAstute(){return this.di.db.AstuteDAO.findByUuid(this.advert.uuid)}findTasks(e){return this.di.db.TaskDAO.find({order:"-createdOn",skip:0,limit:1,criteria:{uuid:e}})}findTaskById(e){return this.di.db.TaskDAO.findById(e)}removeActiveTask(){return Promise.resolve().then(()=>{if(null!==this.activeTask){let e=this.activeTask;return this.activeTask=null,this.di.db.TaskDAO.remove(e)}})}createAstute(){const e=this.advert;return this.di.db.AstuteDAO.create({uuid:e.uuid,address:e.address})}execute(){if(this.logger.log("info","execute action"),this.updateAdvertisement(),!this.isDisabled())return this.markStatus("Wake Up"),this.executeAction().then(()=>{this.markStatus("Success"),this.logger.log("info","Astute action successfully completed")}).catch(e=>{throw this.markStatus("Failure",e.message),this.logger.log("error","Cannot execute action",e.message),e});this.markStatus("Disabled")}updateAdvertisement(){let e=this.advert;this.astute.advertisement||(this.astute.advertisement={});let t=this.astute.advertisement;t.timestamp=e.timestamp,t.rssi=e.rssi,t.packetCounter=e.packetCounter,t.configNumber=e.configNumber,t.temperature=e.temperature,t.batteryVoltage=e.batteryVoltage,t.restartsUnknown=e.restartsUnknown,t.restartsSoftware=e.restartsSoftware,t.restartsWatchdog=e.restartsWatchdog,t.shallowSleepTimeout=e.shallowSleepTimeout;try{let t=new m.Data([e.timestamp.getTime(),e.rssi,e.packetCounter,e.configNumber,e.temperature,e.batteryVoltage,e.restartsUnknown,e.restartsSoftware,e.restartsWatchdog,e.shallowSleepTimeout]);this.sioEmitApp("advert",t.serializeBinary().buffer)}catch(e){this.logger.log("warn",e)}return this.di.db.AdvertDAO.create(e).catch(e=>{this.logger.log("warn",e)}),this.di.db.AstuteDAO.save(this.astute).then(e=>{this.astute=e,this.logger.log("info","Astute advertisement updated")})}isDisabled(){return!this.astute.enabled}markStatus(e,t){this.astute.connection||(this.astute.connection={}),this.astute.connection.status||(this.astute.connection.status={});let r=this.astute.connection.status;return r.timestamp=new Date,r.label=e,r.message=t||"",this.sioEmitAstute("status",r),this.logger.log("info","Status",e),this.di.db.AstuteDAO.save(this.astute).then(t=>{this.astute=t,this.logger.log("info","Astute status updated "+e)})}executeAction(){let e=this.getAction();if(!e)return this.logger.log("info","no action"),Promise.resolve();let[t,r]=e;switch(this.logger.log("info","do "+t+" "+r),t){case f.ConfigDownload:return this.executeDownloadAction();case f.ConfigUplaod:return this.executeUploadAction();case f.Stream:return this.executeStream();case f.Logging:return this.executeLogging();case f.Sleep:return this.executeSleep()}return Promise.reject(new Error("Unknown task: "+t))}getAction(){this.astute.toObject();let e=this.advert,t=this.astute.config,r=this.tasks;const i=t.actual.primary.configNumber,o=e.configNumber;if(this.logger.log("info","configuraton",JSON.stringify(t)),this.activeTask=null,null===t.timestamp)return[f.ConfigDownload,y.NewDevice];if(255===e.configNumber)return[f.ConfigUplaod,y.NewFirmware];if(i!==o)return[f.ConfigDownload,y.DifferentConfigNumber];if(r.length)switch(this.activeTask=r[0],r[0].command){case"upload":return[f.ConfigUplaod,y.UserRequest];case"download":return[f.ConfigDownload,y.UserRequest];case"stream":return[f.Stream,y.UserRequest];case"logging":return[f.Logging,y.UserRequest];case"sleep":return[f.Sleep,y.UserRequest]}return null}executeDownloadAction(){this.logger.log("info","Download");let e=null,t=0,r=null;return Promise.resolve().then(()=>(t=1,this.startConnectionAndExtendShallowSleep())).then(()=>(t=2,this.connection.config.read())).then(e=>(t=3,this.logger.log("info","Configuration downloaded"),r=e,this.stopConnection())).then(()=>(t=4,this.handleDownloadedConfig(r))).catch(r=>{switch(e=r,this.sioEmitAstute("config-state","download-error",r),t){case 1:break;case 2:return this.stopConnection()}}).then(()=>{if(e)throw e},t=>{throw this.logger.log("warn","Download config cleanup error",t),e||t})}handleDownloadedConfig(e){return this.logger.log("info","Handle downloaded configuration"),n.extend(this.astute.config.actual,e),this.astute.config.timestamp=new Date,this.di.db.AstuteDAO.save(this.astute).then(e=>(this.astute=e,this.emitConfigNumericAction("download"),this.removeActiveTask()))}startConnectionAndExtendShallowSleep(e=this.EXTEND_SHALLOW_SLEEP_TIME_SEC){return this.startConnection().then(()=>this.connection.command.extendShallowSleep(e))}runConnection(e){return new Promise((t,r)=>{this.markStatus("Connecting..."),this.connection.connect().then(()=>{this.logger.log("info","Connected"),this.connection.discover().then(()=>(this.markStatus("Connected"),this.logger.log("info","Discovered"),e())).then(()=>this.stopConnection().then(()=>t()).catch(e=>r(e)),e=>this.stopConnection().then(()=>r(e)).catch(()=>r(e)))},e=>r(e))})}startConnection(){return this.markStatus("Connecting..."),this.connection.connect().then(()=>(this.logger.log("info","Connected"),this.connection.discover())).then(()=>{this.markStatus("Connected"),this.logger.log("info","Discovered")})}stopConnection(){return this.markStatus("Disconnecting..."),this.connection.disconnect().then(()=>{this.markStatus("Disconnected"),this.logger.log("info","Disconnected")})}executeUploadAction(){return null!==this.activeTask?this.upload(this.activeTask.options):this.prepareConfigToUpload().then(e=>this.upload(e))}upload(e){this.astute.toObject();let t=null,r=0;return this.logger.log("info","Upload"),Promise.resolve().then(()=>(r=1,this.startConnectionAndExtendShallowSleep())).then(()=>(r=2,this.connection.config.write(e))).then(e=>(r=3,this.logger.log("info","Configuration uploaded"),this.connection.command.storeConfiguration(e))).then(()=>(r=4,this.logger.log("info","Configuration commited"),this.stopConnection())).then(()=>this.handleUploadedConfig(e)).catch(e=>{switch(t=e,this.sioEmitAstute("config-state","upload-error",e),r){case 1:break;case 2:case 3:return this.stopConnection()}}).then(()=>{if(t)throw t},e=>{throw this.logger.log("warn","Upload config cleanup error",e),t||e})}prepareConfigToUpload(){return this.logger.log("info","Copy config (actual->edit)"),Promise.resolve(n.clone(this.astute.config.actual))}handleData(){return Promise.resolve()}emitConfigNumericAction(e){this.sioEmitAstute("config-state",e,this.astute.config.timestamp,this.astute.config.actual)}handleUploadedConfig(e){this.logger.log("info","Handle uploaded configuration");let t=this.astute.advertisement,r=this.astute.config;return r.actual=e,r.actual.primary.configNumber=t.configNumber,++r.actual.primary.configNumber>254&&(r.actual.primary.configNumber=0),r.timestamp=new Date,this.di.db.AstuteDAO.save(this.astute).then(e=>(this.astute=e,this.emitConfigNumericAction("upload"),this.logger.log("info","Configuration upload handled"),this.removeActiveTask()))}executeStream(){const e=new h.StreamHandler({adapter:this.adapter,connection:this.connection,taskDAO:this.di.db.TaskDAO,ping:()=>this.connection.command.ping(),sioEmit:(e,...t)=>this.sioEmitAstute(e,...t)});return this.runConnection(()=>this.connection.command.extendShallowSleep(this.EXTEND_SHALLOW_SLEEP_TIME_SEC).then(()=>e.start({config:this.astute.config.actual,device:this.peripheral,activeTask:this.activeTask})).then(()=>e.taskRunner()).then(()=>e.stop())).then(()=>{this.logger.info("stream completed")})}executeLogging(){let e=0,t=null;return Promise.resolve().then(()=>(e=1,t=this.loggingPrepareMetadata(),this.logger.log("info","Logging - time: "+t.options.samples/t.options.frequency.Frequency+" "+t.options.samples+"/"+t.options.frequency.Frequency),this.logger.log("info","metadata",t),this.startConnectionAndExtendShallowSleep())).then(()=>(e=2,this.sioEmitAstute("log-state","erasing"),this.checkFlashErased())).then(()=>this.connection.logging.start(t.options)).then(()=>(e=3,this.sioEmitAstute("log-state","started"),this.loggingTaskRunner(t.options))).then(()=>(e=4,this.connection.logging.stop())).then(()=>(e=5,this.loggingProcessData(t))).then(()=>{this.sioEmitAstute("log-state","completed",t.path.output.relative)}).catch(t=>{switch(this.sioEmitAstute("log-state","error",t.message),e){case 1:return;case 2:return this.stopConnection();case 3:return this.connection.logging.stop()}throw t})}checkFlashErased(){return this.adapter.extFlashGetInfo().then(e=>{if(this.logger.info(`Flash info: ${JSON.stringify(e)}`),157!==e.manufactureId[2])throw new Error("Invalid external flash memory")}).then(()=>this.waitFlashErased())}waitFlashErased(){return new Promise((e,t)=>{let r=null;const i=Date.now();let o=0;const n=()=>{r&&(clearInterval(r),r=null)},s=t=>{!0!==t.extFlashBusy&&(this.logger.info("erasing: completed."),n(),e())},a=e=>{this.logger.error("erasing: error",e),n(),t(e)};r=setInterval(()=>{const e=Math.floor((Date.now()-i)/1e3);if(e>18e4)return a(new Error("Timeout during erasing external flash memory."));e-o>5e3&&(o=e,this.connection.command.ping().catch(e=>{this.logger.error("ping",e)})),this.logger.info(`erasing (${e})...`),this.adapter.extFlashGetStatus().then(s,a)},1e3),this.logger.info("wait flash erasing..."),this.adapter.extFlashGetStatus().then(s,a)})}loggingPrepareMetadata(){let e=this.astute.uuid,t=this.activeTask,r=a().format("YYYYMMDDTHHmmss"),i={uuid:e,fileBase:r,path:{data:this.di.config.Transceiver.DataStoragePath,tmp:this.di.config.Transceiver.TemporaryDirectoryPath,output:{absolute:"",relative:""}},options:this.validateLoggingOptions(t.options)};return"Individual"===t.mode?i.path.output.relative=o.join("astute","individual",e,r):"Batch"===t.mode&&(i.path.output.relative=o.join("astute","gearbox",t.batchName,e,r)),i.path.output.absolute=o.join(i.path.data,i.path.output.relative),i}loggingProcessData(e){return Promise.resolve().then(()=>(this.logger.info("file processing"),this.createDirectory(e.path.output.absolute))).then(()=>{this.logger.info("directory created");const t={astute:this.astute,task:this.activeTask};return Promise.all([this.fileCopy(o.join(e.path.tmp,"data.ad"),o.join(e.path.output.absolute,"data.ad")),this.fileWrite(o.join(e.path.output.absolute,"config.json"),JSON.stringify(t)),this.fileAddDatabaseEntry(e.path.output.absolute)])}).then(e=>this.removeActiveTask()).then(()=>{this.logger.info("processing: completed")})}validateLoggingOptions(e){if(!e)throw new Error("Logging options are missing");const t=e.samples;if("number"!=typeof t)throw new Error("Invalid number of samples");const r=e.mode;if("number"!=typeof r)throw new Error("Invalid logging mode");if("number"!=typeof e.frequency)throw new Error("Invalid sampling frequency");let i=new u.SamplingFrequency(e.frequency);if(null===i)throw new Error("Invalid sampling frequency");const o=e.decimation;if(o<=0)throw new Error("Inavlid decimation ratio");const n=e.rfChannel;if(n<0||n>255)throw new Error("Invalid radio channel");const s=e.rfDataRate;if(s<0||s>2)throw new Error("Invalid radio data rate");const a=e.rfAlwaysOn;if(a<0||a>1)throw new Error("Invalid radio always on parameter");const l=e.rfUseLna;if(l<0||l>1)throw new Error("Invalid use lna parameter");const c=e.rfTxPower;if(c<0||c>255)throw new Error("Invalid tx power parameter");const g=e.sleepDuringLogging;if(g<0||g>1)throw new Error("Invalid sleep during logging");let p=new u.LoggingOptions;return p.samples=t,p.mode=r,p.frequency=i,p.decimation=o,p.rfChannel=n,p.rfDataRate=s,p.rfAlwaysOn=a,p.rfUseLna=l,p.rfTxPower=c,p.sleepDuringLogging=g,p.softwareGain=[],p.hardwareGain=[],this.astute.config.actual.additional.channelEntry.forEach((e,t)=>{p.softwareGain[t]=new d.ChannelGain(e.softwareGain),p.hardwareGain[t]=e.hardwareGain}),p}loggingTaskRunner(e){this.logger.log("info","Logging started");const t=Date.now(),r=e.samples/e.frequency.Frequency;return this.logger.info("logging",`${e.samples} ${e.frequency.Frequency} ${r}`),this.waitLoggingEnd(t,r).then(()=>{this.logger.info("Logging completed")})}waitLoggingEnd(e,t){return new Promise((r,i)=>{let o=null,n=!1;const s=()=>{this.di.adapter.removeListener("dataStreamEnd",a),clearInterval&&(clearInterval(o),o=null)},a=e=>{this.logger.info("stream end",JSON.stringify(e,null,2)),s(),r()};this.di.adapter.on("dataStreamEnd",a),o=setInterval(()=>{const r=Math.floor((Date.now()-e)/1e3),o=r-t;o<=0?this.logger.info(`logging (${r} / ${t})...`):(this.logger.info(`transferring (${o})...`),!1===n&&(n=!0,this.sioEmitAstute("log-state","trasferring")),o>6e5&&(s(),i(new Error("Data transferring timeout"))))},1e3)})}executeSleep(){return"shallow"===this.activeTask.options.mode?this.executeExtendShallowSleep():this.executeGoDeepSleep()}executeExtendShallowSleep(){let e=0,t=null,r=0,i=this.activeTask;return Promise.resolve().then(()=>{e=1;try{r=i.options.timeout}catch(e){throw new Error("Invalid sleep configuration.")}if(r>this.MAXIMUM_SHALLOW_SLEEP_TIME_SEC)throw new Error("Shallow sleep time is too long.");return this.startConnection()}).then(()=>(e=2,this.logger.log("info","Extend shallow sleep",r),this.connection.command.extendShallowSleep(r))).then(()=>(e=3,this.stopConnection())).then(()=>(e=4,this.removeActiveTask())).then(()=>{this.sioEmitAstute("sleep-state","completed")}).catch(r=>{if(t=r,this.sioEmitAstute("sleep-state","error",r.message),2===e)return this.stopConnection()}).then(()=>{if(t)throw t},e=>{throw t||e})}executeGoDeepSleep(){let e=0,t=null;return Promise.resolve().then(()=>(e=1,this.startConnection())).then(()=>(e=2,this.logger.log("info","Go deep sleep"),this.connection.command.goDeepSleep())).then(()=>(e=3,this.stopConnection())).then(()=>this.removeActiveTask()).then(()=>{this.sioEmitAstute("sleep-state","completed")}).catch(r=>{if(t=r,this.sioEmitAstute("sleep-state","error",r.message),2===e)return this.stopConnection()}).then(()=>{if(t)throw t},e=>{throw t||e})}sioEmitAstute(e,...t){this.astute&&this.astute.uuid&&p.TdEvent.emitAstute(e,this.astute.uuid,...t)}sioEmitApp(e,...t){this.astute&&this.astute.uuid&&p.TdEvent.emitApp(e,this.astute.uuid,...t)}createDirectory(e){return new Promise((t,r)=>{s(e,(e,i)=>{e?r(e):t(i)})})}fileCopy(e,t){return new Promise((r,o)=>{const n=i.createReadStream(e);n.on("error",e=>{o(e)});const s=i.createWriteStream(t);s.on("error",e=>{o(e)}),s.on("close",()=>{this.logger.info("file copy: completed"),r()}),n.pipe(s)})}fileWrite(e,t){return new Promise((r,o)=>{i.writeFile(e,t,e=>{e?o(e):r()})})}fileStat(e){return new Promise((t,r)=>{i.stat(e,(e,i)=>{e?r(e):t(i)})})}fileAddDatabaseEntry(e){return this.fileStat(e).then(t=>this.di.db.FileDAO.create({file:{path:e,createdOn:t.ctime,size:t.size,type:"ad"},test:{group:"",name:""},device:{uuid:this.astute.uuid,type:this.astute.type,name:this.astute.config.actual.additional.name,serialNumber:this.astute.config.actual.additional.serialNumber,description:this.astute.config.actual.additional.description},comment:""}).then(e=>{this.logger.log("info","file",e)}))}}t.AstuteHandler=S},function(e,t,r){var i={"./af":37,"./af.js":37,"./ar":38,"./ar-dz":39,"./ar-dz.js":39,"./ar-kw":40,"./ar-kw.js":40,"./ar-ly":41,"./ar-ly.js":41,"./ar-ma":42,"./ar-ma.js":42,"./ar-sa":43,"./ar-sa.js":43,"./ar-tn":44,"./ar-tn.js":44,"./ar.js":38,"./az":45,"./az.js":45,"./be":46,"./be.js":46,"./bg":47,"./bg.js":47,"./bm":48,"./bm.js":48,"./bn":49,"./bn.js":49,"./bo":50,"./bo.js":50,"./br":51,"./br.js":51,"./bs":52,"./bs.js":52,"./ca":53,"./ca.js":53,"./cs":54,"./cs.js":54,"./cv":55,"./cv.js":55,"./cy":56,"./cy.js":56,"./da":57,"./da.js":57,"./de":58,"./de-at":59,"./de-at.js":59,"./de-ch":60,"./de-ch.js":60,"./de.js":58,"./dv":61,"./dv.js":61,"./el":62,"./el.js":62,"./en-SG":63,"./en-SG.js":63,"./en-au":64,"./en-au.js":64,"./en-ca":65,"./en-ca.js":65,"./en-gb":66,"./en-gb.js":66,"./en-ie":67,"./en-ie.js":67,"./en-il":68,"./en-il.js":68,"./en-nz":69,"./en-nz.js":69,"./eo":70,"./eo.js":70,"./es":71,"./es-do":72,"./es-do.js":72,"./es-us":73,"./es-us.js":73,"./es.js":71,"./et":74,"./et.js":74,"./eu":75,"./eu.js":75,"./fa":76,"./fa.js":76,"./fi":77,"./fi.js":77,"./fo":78,"./fo.js":78,"./fr":79,"./fr-ca":80,"./fr-ca.js":80,"./fr-ch":81,"./fr-ch.js":81,"./fr.js":79,"./fy":82,"./fy.js":82,"./ga":83,"./ga.js":83,"./gd":84,"./gd.js":84,"./gl":85,"./gl.js":85,"./gom-latn":86,"./gom-latn.js":86,"./gu":87,"./gu.js":87,"./he":88,"./he.js":88,"./hi":89,"./hi.js":89,"./hr":90,"./hr.js":90,"./hu":91,"./hu.js":91,"./hy-am":92,"./hy-am.js":92,"./id":93,"./id.js":93,"./is":94,"./is.js":94,"./it":95,"./it-ch":96,"./it-ch.js":96,"./it.js":95,"./ja":97,"./ja.js":97,"./jv":98,"./jv.js":98,"./ka":99,"./ka.js":99,"./kk":100,"./kk.js":100,"./km":101,"./km.js":101,"./kn":102,"./kn.js":102,"./ko":103,"./ko.js":103,"./ku":104,"./ku.js":104,"./ky":105,"./ky.js":105,"./lb":106,"./lb.js":106,"./lo":107,"./lo.js":107,"./lt":108,"./lt.js":108,"./lv":109,"./lv.js":109,"./me":110,"./me.js":110,"./mi":111,"./mi.js":111,"./mk":112,"./mk.js":112,"./ml":113,"./ml.js":113,"./mn":114,"./mn.js":114,"./mr":115,"./mr.js":115,"./ms":116,"./ms-my":117,"./ms-my.js":117,"./ms.js":116,"./mt":118,"./mt.js":118,"./my":119,"./my.js":119,"./nb":120,"./nb.js":120,"./ne":121,"./ne.js":121,"./nl":122,"./nl-be":123,"./nl-be.js":123,"./nl.js":122,"./nn":124,"./nn.js":124,"./pa-in":125,"./pa-in.js":125,"./pl":126,"./pl.js":126,"./pt":127,"./pt-br":128,"./pt-br.js":128,"./pt.js":127,"./ro":129,"./ro.js":129,"./ru":130,"./ru.js":130,"./sd":131,"./sd.js":131,"./se":132,"./se.js":132,"./si":133,"./si.js":133,"./sk":134,"./sk.js":134,"./sl":135,"./sl.js":135,"./sq":136,"./sq.js":136,"./sr":137,"./sr-cyrl":138,"./sr-cyrl.js":138,"./sr.js":137,"./ss":139,"./ss.js":139,"./sv":140,"./sv.js":140,"./sw":141,"./sw.js":141,"./ta":142,"./ta.js":142,"./te":143,"./te.js":143,"./tet":144,"./tet.js":144,"./tg":145,"./tg.js":145,"./th":146,"./th.js":146,"./tl-ph":147,"./tl-ph.js":147,"./tlh":148,"./tlh.js":148,"./tr":149,"./tr.js":149,"./tzl":150,"./tzl.js":150,"./tzm":151,"./tzm-latn":152,"./tzm-latn.js":152,"./tzm.js":151,"./ug-cn":153,"./ug-cn.js":153,"./uk":154,"./uk.js":154,"./ur":155,"./ur.js":155,"./uz":156,"./uz-latn":157,"./uz-latn.js":157,"./uz.js":156,"./vi":158,"./vi.js":158,"./x-pseudo":159,"./x-pseudo.js":159,"./yo":160,"./yo.js":160,"./zh-cn":161,"./zh-cn.js":161,"./zh-hk":162,"./zh-hk.js":162,"./zh-tw":163,"./zh-tw.js":163};function o(e){var t=n(e);return r(t)}function n(e){if(!r.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=n,e.exports=o,o.id=257},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(18),o=r(19),n=r(260),s=r(21),a=r(164),l=r(165);class c extends i.Connection{constructor(e,t){super(e.adapter,t),this.chars={config:{index:null,value:null,command:null},stream:{config:null,data1:null,data2:null},logging:null},this.servicesList=["000016231212efde1523785fdabcd123","000015231212efde1523785fdabcd123","000019231212efde1523785fdabcd123"],this.scanner=e.scanner,this.clearCharacteristics()}discover(){return new Promise((e,t)=>{super.discover(this.servicesList).then(r=>{if(this.logger.log("info","Validate services/characteristics"),this.clearCharacteristics(),Object.keys(r).forEach(e=>{r[e].forEach(t=>{this.discoverCharacteristic(e,t)})}),!this.validateCharacteristics()){const e=new Error("Invalid characteristics discovered");this.logger.log("warn",e.message),t(e)}this.onCharacteristicsDiscover(),this.logger.log("info","Services/characteristics valid"),e(r)}).catch(e=>{this.logger.log("info","Error during validating services/characteristics",e),t(e)})})}clearCharacteristics(){this.chars={config:{index:null,value:null,command:null},stream:{config:null,data1:null,data2:null},logging:null}}discoverCharacteristic(e,t){switch(e.toLowerCase()){case"000016231212efde1523785fdabcd123":this.discoverConfigurationCharacteristic(t);break;case"000015231212efde1523785fdabcd123":this.discoverStreamCharacteristic(t);break;case"000019231212efde1523785fdabcd123":this.discoverLoggingCharacteristic(t)}}discoverConfigurationCharacteristic(e){switch(e.uuid.toLowerCase()){case"000016341212efde1523785fdabcd123":this.chars.config.index=e;break;case"000016351212efde1523785fdabcd123":this.chars.config.value=e;break;case"000016361212efde1523785fdabcd123":this.chars.config.command=e}}discoverStreamCharacteristic(e){switch(e.uuid.toLowerCase()){case"000015441212efde1523785fdabcd123":this.chars.stream.data1=e;break;case"000015451212efde1523785fdabcd123":this.chars.stream.data2=e;break;case"000015461212efde1523785fdabcd123":this.chars.stream.config=e}}discoverLoggingCharacteristic(e){switch(e.uuid.toLowerCase()){case"000019241212efde1523785fdabcd123":this.chars.logging=e}}validateCharacteristics(){return null!==this.chars.config.index&&null!==this.chars.config.value&&null!==this.chars.config.command&&null!==this.chars.stream.config&&null!==this.chars.stream.data1&&null!==this.chars.stream.data2&&null!==this.chars.logging}onCharacteristicsDiscover(){let e=this.chars.config,t=new s.ConfigMessageV2(this.adapter,e.index,e.value);this._config=new n.ConfigAstute(t),this._stream=new a.Stream(this.adapter,this.peripheral,this.chars.stream),this._command=new o.CommandV2(this.adapter,this.chars.config.command),this._logging=new l.Logging({adapter:this.adapter,connection:this,scanner:this.scanner},this.chars.logging)}get config(){return this._config}get stream(){return this._stream}get logging(){return this._logging}get command(){return this._command}}t.ConnectionAstute=c},function(e,t,r){"use strict";function i(e,...t){return(...r)=>e(...t,...r)}function o(e){return function(...t){var r=t.pop();return e.call(this,t,r)}}r.r(t),r.d(t,"apply",(function(){return i})),r.d(t,"applyEach",(function(){return C})),r.d(t,"applyEachSeries",(function(){return O})),r.d(t,"asyncify",(function(){return u})),r.d(t,"auto",(function(){return I})),r.d(t,"autoInject",(function(){return x})),r.d(t,"cargo",(function(){return G})),r.d(t,"cargoQueue",(function(){return q})),r.d(t,"compose",(function(){return K})),r.d(t,"concat",(function(){return Q})),r.d(t,"concatLimit",(function(){return Z})),r.d(t,"concatSeries",(function(){return ee})),r.d(t,"constant",(function(){return te})),r.d(t,"detect",(function(){return ie})),r.d(t,"detectLimit",(function(){return oe})),r.d(t,"detectSeries",(function(){return ne})),r.d(t,"dir",(function(){return ae})),r.d(t,"doUntil",(function(){return ce})),r.d(t,"doWhilst",(function(){return le})),r.d(t,"each",(function(){return de})),r.d(t,"eachLimit",(function(){return ge})),r.d(t,"eachOf",(function(){return E})),r.d(t,"eachOfLimit",(function(){return A})),r.d(t,"eachOfSeries",(function(){return k})),r.d(t,"eachSeries",(function(){return pe})),r.d(t,"ensureAsync",(function(){return he})),r.d(t,"every",(function(){return me})),r.d(t,"everyLimit",(function(){return fe})),r.d(t,"everySeries",(function(){return ye})),r.d(t,"filter",(function(){return we})),r.d(t,"filterLimit",(function(){return be})),r.d(t,"filterSeries",(function(){return Me})),r.d(t,"forever",(function(){return Te})),r.d(t,"groupBy",(function(){return De})),r.d(t,"groupByLimit",(function(){return Ae})),r.d(t,"groupBySeries",(function(){return Le})),r.d(t,"log",(function(){return Ee})),r.d(t,"map",(function(){return F})),r.d(t,"mapLimit",(function(){return X})),r.d(t,"mapSeries",(function(){return R})),r.d(t,"mapValues",(function(){return Ce})),r.d(t,"mapValuesLimit",(function(){return Fe})),r.d(t,"mapValuesSeries",(function(){return ke})),r.d(t,"memoize",(function(){return Re})),r.d(t,"nextTick",(function(){return Oe})),r.d(t,"parallel",(function(){return We})),r.d(t,"parallelLimit",(function(){return Ie})),r.d(t,"priorityQueue",(function(){return Ue})),r.d(t,"queue",(function(){return Be})),r.d(t,"race",(function(){return xe})),r.d(t,"reduce",(function(){return J})),r.d(t,"reduceRight",(function(){return He})),r.d(t,"reflect",(function(){return ze})),r.d(t,"reflectAll",(function(){return Ve})),r.d(t,"reject",(function(){return qe})),r.d(t,"rejectLimit",(function(){return Je})),r.d(t,"rejectSeries",(function(){return $e})),r.d(t,"retry",(function(){return Qe})),r.d(t,"retryable",(function(){return et})),r.d(t,"seq",(function(){return $})),r.d(t,"series",(function(){return tt})),r.d(t,"setImmediate",(function(){return c})),r.d(t,"some",(function(){return rt})),r.d(t,"someLimit",(function(){return it})),r.d(t,"someSeries",(function(){return ot})),r.d(t,"sortBy",(function(){return nt})),r.d(t,"timeout",(function(){return st})),r.d(t,"times",(function(){return lt})),r.d(t,"timesLimit",(function(){return at})),r.d(t,"timesSeries",(function(){return ct})),r.d(t,"transform",(function(){return ut})),r.d(t,"tryEach",(function(){return dt})),r.d(t,"unmemoize",(function(){return gt})),r.d(t,"until",(function(){return ht})),r.d(t,"waterfall",(function(){return mt})),r.d(t,"whilst",(function(){return pt})),r.d(t,"all",(function(){return me})),r.d(t,"allLimit",(function(){return fe})),r.d(t,"allSeries",(function(){return ye})),r.d(t,"any",(function(){return rt})),r.d(t,"anyLimit",(function(){return it})),r.d(t,"anySeries",(function(){return ot})),r.d(t,"find",(function(){return ie})),r.d(t,"findLimit",(function(){return oe})),r.d(t,"findSeries",(function(){return ne})),r.d(t,"flatMap",(function(){return Q})),r.d(t,"flatMapLimit",(function(){return Z})),r.d(t,"flatMapSeries",(function(){return ee})),r.d(t,"forEach",(function(){return de})),r.d(t,"forEachSeries",(function(){return pe})),r.d(t,"forEachLimit",(function(){return ge})),r.d(t,"forEachOf",(function(){return E})),r.d(t,"forEachOfSeries",(function(){return k})),r.d(t,"forEachOfLimit",(function(){return A})),r.d(t,"inject",(function(){return J})),r.d(t,"foldl",(function(){return J})),r.d(t,"foldr",(function(){return He})),r.d(t,"select",(function(){return we})),r.d(t,"selectLimit",(function(){return be})),r.d(t,"selectSeries",(function(){return Me})),r.d(t,"wrapSync",(function(){return u})),r.d(t,"during",(function(){return pt})),r.d(t,"doDuring",(function(){return le}));var n="function"==typeof setImmediate&&setImmediate,s="object"==typeof process&&"function"==typeof process.nextTick;function a(e){setTimeout(e,0)}function l(e){return(t,...r)=>e(()=>t(...r))}var c=l(n?setImmediate:s?process.nextTick:a);function u(e){return p(e)?function(...t){const r=t.pop();return d(e.apply(this,t),r)}:o((function(t,r){var i;try{i=e.apply(this,t)}catch(e){return r(e)}if(i&&"function"==typeof i.then)return d(i,r);r(null,i)}))}function d(e,t){return e.then(e=>{g(t,null,e)},e=>{g(t,e&&e.message?e:new Error(e))})}function g(e,t,r){try{e(t,r)}catch(e){c(e=>{throw e},e)}}function p(e){return"AsyncFunction"===e[Symbol.toStringTag]}function h(e){if("function"!=typeof e)throw new Error("expected a function");return p(e)?u(e):e}function m(e,t=e.length){if(!t)throw new Error("arity is undefined");function r(...r){return"function"==typeof r[t-1]?e.apply(this,r):new Promise((i,o)=>{r[t-1]=(e,...t)=>{if(e)return o(e);i(t.length>1?t:t[0])},e.apply(this,r)})}return Object.defineProperty(r,"name",{value:`awaitable(${e.name})`}),r}function f(e){return function(t,...r){return m((function(i){var o=this;return e(t,(e,t)=>{h(e).apply(o,r.concat(t))},i)}))}}function y(e,t,r,i){t=t||[];var o=[],n=0,s=h(r);return e(t,(e,t,r)=>{var i=n++;s(e,(e,t)=>{o[i]=t,r(e)})},e=>{i(e,o)})}function _(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0}const S={};function v(e){function t(...t){if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t}function w(e){if(_(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t,r,i,o,n=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}(e);return n?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(n):(r=(t=e)?Object.keys(t):[],i=-1,o=r.length,function(){var e=r[++i];return i<o?{value:t[e],key:e}:null})}function b(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}function M(e,t,r,i){let o=!1,n=!1,s=!1,a=0,l=0;function c(){a>=t||s||o||(s=!0,e.next().then(({value:e,done:t})=>{if(!n&&!o){if(s=!1,t)return o=!0,void(a<=0&&i(null));a++,r(e,l,u),l++,c()}}).catch(d))}function u(e,t){if(a-=1,!n)return e?d(e):!1===e?(o=!0,void(n=!0)):t===S||o&&a<=0?(o=!0,i(null)):void c()}function d(e){n||(s=!1,o=!0,i(e))}c()}var T=e=>(t,r,i)=>{if(i=v(i),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return i(null);if(function(e){return"AsyncGenerator"===e[Symbol.toStringTag]}(t))return M(t,e,r,i);if(function(e){return"function"==typeof e[Symbol.asyncIterator]}(t))return M(t[Symbol.asyncIterator](),e,r,i);var o=w(t),n=!1,s=!1,a=0,l=!1;function c(e,t){if(!s)if(a-=1,e)n=!0,i(e);else if(!1===e)n=!0,s=!0;else{if(t===S||n&&a<=0)return n=!0,i(null);l||u()}}function u(){for(l=!0;a<e&&!n;){var t=o();if(null===t)return n=!0,void(a<=0&&i(null));a+=1,r(t.value,t.key,b(c))}l=!1}u()};var A=m((function(e,t,r,i){return T(t)(e,h(r),i)}),4);function D(e,t,r){r=v(r);var i=0,o=0,{length:n}=e,s=!1;function a(e,t){!1===e&&(s=!0),!0!==s&&(e?r(e):++o!==n&&t!==S||r(null))}for(0===n&&r(null);i<n;i++)t(e[i],i,b(a))}function L(e,t,r){return A(e,1/0,t,r)}var E=m((function(e,t,r){return(_(e)?D:L)(e,h(t),r)}),3);var F=m((function(e,t,r){return y(E,e,t,r)}),3),C=f(F);var k=m((function(e,t,r){return A(e,1,t,r)}),3);var R=m((function(e,t,r){return y(k,e,t,r)}),3),O=f(R);const N=Symbol("promiseCallback");function W(){let e,t;function r(r,...i){if(r)return t(r);e(i.length>1?i:i[0])}return r[N]=new Promise((r,i)=>{e=r,t=i}),r}function I(e,t,r){"number"!=typeof t&&(r=t,t=null),r=v(r||W());var i=Object.keys(e).length;if(!i)return r(null);t||(t=i);var o={},n=0,s=!1,a=!1,l=Object.create(null),c=[],u=[],d={};function g(e,t){c.push(()=>(function(e,t){if(a)return;var i=b((t,...i)=>{if(n--,!1!==t)if(i.length<2&&([i]=i),t){var c={};if(Object.keys(o).forEach(e=>{c[e]=o[e]}),c[e]=i,a=!0,l=Object.create(null),s)return;r(t,c)}else o[e]=i,function(e){(l[e]||[]).forEach(e=>e()),p()}(e);else s=!0});n++;var c=h(t[t.length-1]);t.length>1?c(o,i):c(i)})(e,t))}function p(){if(!s){if(0===c.length&&0===n)return r(null,o);for(;c.length&&n<t;){c.shift()()}}}function m(t){var r=[];return Object.keys(e).forEach(i=>{const o=e[i];Array.isArray(o)&&o.indexOf(t)>=0&&r.push(i)}),r}return Object.keys(e).forEach(t=>{var r=e[t];if(!Array.isArray(r))return g(t,[r]),void u.push(t);var i=r.slice(0,r.length-1),o=i.length;if(0===o)return g(t,r),void u.push(t);d[t]=o,i.forEach(n=>{if(!e[n])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+n+"` in "+i.join(", "));!function(e,t){var r=l[e];r||(r=l[e]=[]);r.push(t)}(n,()=>{0===--o&&g(t,r)})})}),function(){var e,t=0;for(;u.length;)e=u.pop(),t++,m(e).forEach(e=>{0==--d[e]&&u.push(e)});if(t!==i)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),p(),r[N]}var B=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,j=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,Y=/,/,P=/(=.+)?(\s*)$/,U=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function x(e,t){var r={};return Object.keys(e).forEach(t=>{var i,o=e[t],n=p(o),s=!n&&1===o.length||n&&0===o.length;if(Array.isArray(o))i=[...o],o=i.pop(),r[t]=i.concat(i.length>0?a:o);else if(s)r[t]=o;else{if(i=function(e){const t=e.toString().replace(U,"");let r=t.match(B);if(r||(r=t.match(j)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+t);let[,i]=r;return i.replace(/\s/g,"").split(Y).map(e=>e.replace(P,"").trim())}(o),0===o.length&&!n&&0===i.length)throw new Error("autoInject task functions require explicit parameters.");n||i.pop(),r[t]=i.concat(a)}function a(e,t){var r=i.map(t=>e[t]);r.push(t),h(o)(...r)}}),I(r,t)}class H{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):z(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):z(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var t=this.head;t;){var{next:r}=t;e(t)&&this.removeLink(t),t=r}return this}}function z(e,t){e.length=1,e.head=e.tail=t}function V(e,t,r){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var i=h(e),o=0,n=[];const s={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function a(e,t){return e?t?void(s[e]=s[e].filter(e=>e!==t)):s[e]=[]:Object.keys(s).forEach(e=>s[e]=[])}function l(e,...t){s[e].forEach(e=>e(...t))}var u=!1;function d(e,t,r,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");var o,n;function s(e,...t){return e?r?n(e):o():t.length<=1?o(t[0]):void o(t)}y.started=!0;var a={data:e,callback:r?s:i||s};if(t?y._tasks.unshift(a):y._tasks.push(a),u||(u=!0,c(()=>{u=!1,y.process()})),r||!i)return new Promise((e,t)=>{o=e,n=t})}function g(e){return function(t,...r){o-=1;for(var i=0,s=e.length;i<s;i++){var a=e[i],c=n.indexOf(a);0===c?n.shift():c>0&&n.splice(c,1),a.callback(t,...r),null!=t&&l("error",t,a.data)}o<=y.concurrency-y.buffer&&l("unsaturated"),y.idle()&&l("drain"),y.process()}}function p(e){return!(0!==e.length||!y.idle())&&(c(()=>l("drain")),!0)}const m=e=>t=>{if(!t)return new Promise((t,r)=>{!function(e,t){const r=(...i)=>{a(e,r),t(...i)};s[e].push(r)}(e,(e,i)=>{if(e)return r(e);t(i)})});a(e),function(e,t){s[e].push(t)}(e,t)};var f=!1,y={_tasks:new H,*[Symbol.iterator](){yield*y._tasks[Symbol.iterator]()},concurrency:t,payload:r,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(p(e))return;return e.map(e=>d(e,!1,!1,t))}return d(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(p(e))return;return e.map(e=>d(e,!1,!0,t))}return d(e,!1,!0,t)},kill(){a(),y._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(p(e))return;return e.map(e=>d(e,!0,!1,t))}return d(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(p(e))return;return e.map(e=>d(e,!0,!0,t))}return d(e,!0,!0,t)},remove(e){y._tasks.remove(e)},process(){if(!f){for(f=!0;!y.paused&&o<y.concurrency&&y._tasks.length;){var e=[],t=[],r=y._tasks.length;y.payload&&(r=Math.min(r,y.payload));for(var s=0;s<r;s++){var a=y._tasks.shift();e.push(a),n.push(a),t.push(a.data)}o+=1,0===y._tasks.length&&l("empty"),o===y.concurrency&&l("saturated");var c=b(g(e));i(t,c)}f=!1}},length:()=>y._tasks.length,running:()=>o,workersList:()=>n,idle:()=>y._tasks.length+o===0,pause(){y.paused=!0},resume(){!1!==y.paused&&(y.paused=!1,c(y.process))}};return Object.defineProperties(y,{saturated:{writable:!1,value:m("saturated")},unsaturated:{writable:!1,value:m("unsaturated")},empty:{writable:!1,value:m("empty")},drain:{writable:!1,value:m("drain")},error:{writable:!1,value:m("error")}}),y}function G(e,t){return V(e,1,t)}function q(e,t,r){return V(e,t,r)}var J=m((function(e,t,r,i){i=v(i);var o=h(r);return k(e,(e,r,i)=>{o(t,e,(e,r)=>{t=r,i(e)})},e=>i(e,t))}),4);function $(...e){var t=e.map(h);return function(...e){var r=this,i=e[e.length-1];return"function"==typeof i?e.pop():i=W(),J(t,e,(e,t,i)=>{t.apply(r,e.concat((e,...t)=>{i(e,t)}))},(e,t)=>i(e,...t)),i[N]}}function K(...e){return $(...e.reverse())}var X=m((function(e,t,r,i){return y(T(t),e,r,i)}),4);var Z=m((function(e,t,r,i){var o=h(r);return X(e,t,(e,t)=>{o(e,(e,...r)=>e?t(e):t(e,r))},(e,t)=>{for(var r=[],o=0;o<t.length;o++)t[o]&&(r=r.concat(...t[o]));return i(e,r)})}),4);var Q=m((function(e,t,r){return Z(e,1/0,t,r)}),3);var ee=m((function(e,t,r){return Z(e,1,t,r)}),3);function te(...e){return function(...t){return t.pop()(null,...e)}}function re(e,t){return(r,i,o,n)=>{var s,a=!1;const l=h(o);r(i,(r,i,o)=>{l(r,(i,n)=>i||!1===i?o(i):e(n)&&!s?(a=!0,s=t(!0,r),o(null,S)):void o())},e=>{if(e)return n(e);n(null,a?s:t(!1))})}}var ie=m((function(e,t,r){return re(e=>e,(e,t)=>t)(E,e,t,r)}),3);var oe=m((function(e,t,r,i){return re(e=>e,(e,t)=>t)(T(t),e,r,i)}),4);var ne=m((function(e,t,r){return re(e=>e,(e,t)=>t)(T(1),e,t,r)}),3);function se(e){return(t,...r)=>h(t)(...r,(t,...r)=>{"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&r.forEach(t=>console[e](t)))})}var ae=se("dir");var le=m((function(e,t,r){r=b(r);var i,o=h(e),n=h(t);function s(e,...t){if(e)return r(e);!1!==e&&(i=t,n(...t,a))}function a(e,t){return e?r(e):!1!==e?t?void o(s):r(null,...i):void 0}return a(null,!0)}),3);function ce(e,t,r){const i=h(t);return le(e,(...e)=>{const t=e.pop();i(...e,(e,r)=>t(e,!r))},r)}function ue(e){return(t,r,i)=>e(t,i)}var de=m((function(e,t,r){return E(e,ue(h(t)),r)}),3);var ge=m((function(e,t,r,i){return T(t)(e,ue(h(r)),i)}),4);var pe=m((function(e,t,r){return ge(e,1,t,r)}),3);function he(e){return p(e)?e:function(...t){var r=t.pop(),i=!0;t.push((...e)=>{i?c(()=>r(...e)):r(...e)}),e.apply(this,t),i=!1}}var me=m((function(e,t,r){return re(e=>!e,e=>!e)(E,e,t,r)}),3);var fe=m((function(e,t,r,i){return re(e=>!e,e=>!e)(T(t),e,r,i)}),4);var ye=m((function(e,t,r){return re(e=>!e,e=>!e)(k,e,t,r)}),3);function _e(e,t,r,i){var o=new Array(t.length);e(t,(e,t,i)=>{r(e,(e,r)=>{o[t]=!!r,i(e)})},e=>{if(e)return i(e);for(var r=[],n=0;n<t.length;n++)o[n]&&r.push(t[n]);i(null,r)})}function Se(e,t,r,i){var o=[];e(t,(e,t,i)=>{r(e,(r,n)=>{if(r)return i(r);n&&o.push({index:t,value:e}),i(r)})},e=>{if(e)return i(e);i(null,o.sort((e,t)=>e.index-t.index).map(e=>e.value))})}function ve(e,t,r,i){return(_(t)?_e:Se)(e,t,h(r),i)}var we=m((function(e,t,r){return ve(E,e,t,r)}),3);var be=m((function(e,t,r,i){return ve(T(t),e,r,i)}),4);var Me=m((function(e,t,r){return ve(k,e,t,r)}),3);var Te=m((function(e,t){var r=b(t),i=h(he(e));return function e(t){if(t)return r(t);!1!==t&&i(e)}()}),2);var Ae=m((function(e,t,r,i){var o=h(r);return X(e,t,(e,t)=>{o(e,(r,i)=>r?t(r):t(r,{key:i,val:e}))},(e,t)=>{for(var r={},{hasOwnProperty:o}=Object.prototype,n=0;n<t.length;n++)if(t[n]){var{key:s}=t[n],{val:a}=t[n];o.call(r,s)?r[s].push(a):r[s]=[a]}return i(e,r)})}),4);function De(e,t,r){return Ae(e,1/0,t,r)}function Le(e,t,r){return Ae(e,1,t,r)}var Ee=se("log");var Fe=m((function(e,t,r,i){i=v(i);var o={},n=h(r);return T(t)(e,(e,t,r)=>{n(e,t,(e,i)=>{if(e)return r(e);o[t]=i,r(e)})},e=>i(e,o))}),4);function Ce(e,t,r){return Fe(e,1/0,t,r)}function ke(e,t,r){return Fe(e,1,t,r)}function Re(e,t=(e=>e)){var r=Object.create(null),i=Object.create(null),n=h(e),s=o((e,o)=>{var s=t(...e);s in r?c(()=>o(null,...r[s])):s in i?i[s].push(o):(i[s]=[o],n(...e,(e,...t)=>{e||(r[s]=t);var o=i[s];delete i[s];for(var n=0,a=o.length;n<a;n++)o[n](e,...t)}))});return s.memo=r,s.unmemoized=e,s}var Oe=l(s?process.nextTick:n?setImmediate:a),Ne=m((e,t,r)=>{var i=_(t)?[]:{};e(t,(e,t,r)=>{h(e)((e,...o)=>{o.length<2&&([o]=o),i[t]=o,r(e)})},e=>r(e,i))},3);function We(e,t){return Ne(E,e,t)}function Ie(e,t,r){return Ne(T(t),e,r)}function Be(e,t){var r=h(e);return V((e,t)=>{r(e[0],t)},t,1)}class je{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let t;for(;e>0&&Pe(this.heap[e],this.heap[t=Ye(e)]);){let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}percDown(e){let t;for(;(t=1+(e<<1))<this.heap.length&&(t+1<this.heap.length&&Pe(this.heap[t+1],this.heap[t])&&(t+=1),!Pe(this.heap[e],this.heap[t]));){let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let t=0;for(let r=0;r<this.heap.length;r++)e(this.heap[r])||(this.heap[t]=this.heap[r],t++);this.heap.splice(t);for(let e=Ye(this.heap.length-1);e>=0;e--)this.percDown(e);return this}}function Ye(e){return(e+1>>1)-1}function Pe(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}function Ue(e,t){var r=Be(e,t);return r._tasks=new je,r.push=function(e,t=0,i=(()=>{})){if("function"!=typeof i)throw new Error("task callback must be a function");if(r.started=!0,Array.isArray(e)||(e=[e]),0===e.length&&r.idle())return c(()=>r.drain());for(var o=0,n=e.length;o<n;o++){var s={data:e[o],priority:t,callback:i};r._tasks.push(s)}c(r.process)},delete r.unshift,r}var xe=m((function(e,t){if(t=v(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var r=0,i=e.length;r<i;r++)h(e[r])(t)}),2);function He(e,t,r,i){var o=[...e].reverse();return J(o,t,r,i)}function ze(e){var t=h(e);return o((function(e,r){return e.push((e,...t)=>{let i={};if(e&&(i.error=e),t.length>0){var o=t;t.length<=1&&([o]=t),i.value=o}r(null,i)}),t.apply(this,e)}))}function Ve(e){var t;return Array.isArray(e)?t=e.map(ze):(t={},Object.keys(e).forEach(r=>{t[r]=ze.call(this,e[r])})),t}function Ge(e,t,r,i){const o=h(r);return ve(e,t,(e,t)=>{o(e,(e,r)=>{t(e,!r)})},i)}var qe=m((function(e,t,r){return Ge(E,e,t,r)}),3);var Je=m((function(e,t,r,i){return Ge(T(t),e,r,i)}),4);var $e=m((function(e,t,r){return Ge(k,e,t,r)}),3);function Ke(e){return function(){return e}}const Xe=5,Ze=0;function Qe(e,t,r){var i={times:Xe,intervalFunc:Ke(Ze)};if(arguments.length<3&&"function"==typeof e?(r=t||W(),t=e):(!function(e,t){if("object"==typeof t)e.times=+t.times||Xe,e.intervalFunc="function"==typeof t.interval?t.interval:Ke(+t.interval||Ze),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||Xe}}(i,e),r=r||W()),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var o=h(t),n=1;return function e(){o((t,...o)=>{!1!==t&&(t&&n++<i.times&&("function"!=typeof i.errorFilter||i.errorFilter(t))?setTimeout(e,i.intervalFunc(n-1)):r(t,...o))})}(),r[N]}function et(e,t){t||(t=e,e=null);let r=e&&e.arity||t.length;p(t)&&(r+=1);var i=h(t);return o((t,o)=>{function n(e){i(...t,e)}return(t.length<r-1||null==o)&&(t.push(o),o=W()),e?Qe(e,n,o):Qe(n,o),o[N]})}function tt(e,t){return Ne(k,e,t)}var rt=m((function(e,t,r){return re(Boolean,e=>e)(E,e,t,r)}),3);var it=m((function(e,t,r,i){return re(Boolean,e=>e)(T(t),e,r,i)}),4);var ot=m((function(e,t,r){return re(Boolean,e=>e)(k,e,t,r)}),3);var nt=m((function(e,t,r){var i=h(t);return F(e,(e,t)=>{i(e,(r,i)=>{if(r)return t(r);t(r,{value:e,criteria:i})})},(e,t)=>{if(e)return r(e);r(null,t.sort(o).map(e=>e.value))});function o(e,t){var r=e.criteria,i=t.criteria;return r<i?-1:r>i?1:0}}),3);function st(e,t,r){var i=h(e);return o((o,n)=>{var s,a=!1;o.push((...e)=>{a||(n(...e),clearTimeout(s))}),s=setTimeout((function(){var t=e.name||"anonymous",i=new Error('Callback function "'+t+'" timed out.');i.code="ETIMEDOUT",r&&(i.info=r),a=!0,n(i)}),t),i(...o)})}function at(e,t,r,i){var o=h(r);return X(function(e){for(var t=Array(e);e--;)t[e]=e;return t}(e),t,o,i)}function lt(e,t,r){return at(e,1/0,t,r)}function ct(e,t,r){return at(e,1,t,r)}function ut(e,t,r,i){arguments.length<=3&&"function"==typeof t&&(i=r,r=t,t=Array.isArray(e)?[]:{}),i=v(i||W());var o=h(r);return E(e,(e,r,i)=>{o(t,e,r,i)},e=>i(e,t)),i[N]}var dt=m((function(e,t){var r,i=null;return pe(e,(e,t)=>{h(e)((e,...o)=>{if(!1===e)return t(e);o.length<2?[r]=o:r=o,i=e,t(e?null:{})})},()=>t(i,r))}));function gt(e){return(...t)=>(e.unmemoized||e)(...t)}var pt=m((function(e,t,r){r=b(r);var i=h(t),o=h(e),n=[];function s(e,...t){if(e)return r(e);n=t,!1!==e&&o(a)}function a(e,t){return e?r(e):!1!==e?t?void i(s):r(null,...n):void 0}return o(a)}),3);function ht(e,t,r){const i=h(e);return pt(e=>i((t,r)=>e(t,!r)),t,r)}var mt=m((function(e,t){if(t=v(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function i(t){h(e[r++])(...t,b(o))}function o(o,...n){if(!1!==o)return o||r===e.length?t(o,...n):void i(n)}i([])})),ft={apply:i,applyEach:C,applyEachSeries:O,asyncify:u,auto:I,autoInject:x,cargo:G,cargoQueue:q,compose:K,concat:Q,concatLimit:Z,concatSeries:ee,constant:te,detect:ie,detectLimit:oe,detectSeries:ne,dir:ae,doUntil:ce,doWhilst:le,each:de,eachLimit:ge,eachOf:E,eachOfLimit:A,eachOfSeries:k,eachSeries:pe,ensureAsync:he,every:me,everyLimit:fe,everySeries:ye,filter:we,filterLimit:be,filterSeries:Me,forever:Te,groupBy:De,groupByLimit:Ae,groupBySeries:Le,log:Ee,map:F,mapLimit:X,mapSeries:R,mapValues:Ce,mapValuesLimit:Fe,mapValuesSeries:ke,memoize:Re,nextTick:Oe,parallel:We,parallelLimit:Ie,priorityQueue:Ue,queue:Be,race:xe,reduce:J,reduceRight:He,reflect:ze,reflectAll:Ve,reject:qe,rejectLimit:Je,rejectSeries:$e,retry:Qe,retryable:et,seq:$,series:tt,setImmediate:c,some:rt,someLimit:it,someSeries:ot,sortBy:nt,timeout:st,times:lt,timesLimit:at,timesSeries:ct,transform:ut,tryEach:dt,unmemoize:gt,until:ht,waterfall:mt,whilst:pt,all:me,allLimit:fe,allSeries:ye,any:rt,anyLimit:it,anySeries:ot,find:ie,findLimit:oe,findSeries:ne,flatMap:Q,flatMapLimit:Z,flatMapSeries:ee,forEach:de,forEachSeries:pe,forEachLimit:ge,forEachOf:E,forEachOfSeries:k,forEachOfLimit:A,inject:J,foldl:J,foldr:He,select:we,selectLimit:be,selectSeries:Me,wrapSync:u,during:pt,doDuring:le};t.default=ft},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(20),o=r(261);class n extends i.Config{constructor(e){super(e,[["deviceType","uint32","r",0,4],["firmwareVersion","uint32","r",4,4],["configNumber","uint32","r",8,4],["advertWindow","uint32","rw",12,4],["deepSleep","uint32","rw",16,4],["shallowSleep","uint32","rw",20,4]])}read(){let e={primary:{},additional:{}};return this.readPrimary().then(t=>(e.primary.deviceType=this.getNumber(t.deviceType),e.primary.firmwareVersion=this.getNumber(t.firmwareVersion),e.primary.configNumber=this.getNumber(t.configNumber),e.primary.advertWindow=this.getNumber(t.advertWindow),e.primary.deepSleep=this.getNumber(t.deepSleep),e.primary.shallowSleep=this.getNumber(t.shallowSleep),this.readAdditional(n.ADDITIONAL_OFFSET))).then(t=>(e.additional=this.deserializeAdditional(t),this.logger.log("info","valid",e.additional),e))}getNumber(e){return"number"==typeof e?e:0}getAdditionalDefaults(){return{channelEntry:[{hardwareGain:29.72093,softwareGain:2,offset:0,engUnitFactor:1,engUnit:0},{hardwareGain:29.72093,softwareGain:2,offset:0,engUnitFactor:1,engUnit:0},{hardwareGain:29.72093,softwareGain:2,offset:0,engUnitFactor:1,engUnit:0},{hardwareGain:29.72093,softwareGain:2,offset:0,engUnitFactor:1,engUnit:0},{hardwareGain:29.72093,softwareGain:2,offset:0,engUnitFactor:1,engUnit:0},{hardwareGain:29.72093,softwareGain:2,offset:0,engUnitFactor:1,engUnit:0},{hardwareGain:29.72093,softwareGain:2,offset:0,engUnitFactor:1,engUnit:0},{hardwareGain:29.72093,softwareGain:2,offset:0,engUnitFactor:1,engUnit:0}],name:"Astute",serialNumber:"",description:""}}write(e){if(!e||!e.primary||!e.additional)throw new Error("Invalid configuration");return Promise.resolve().then(()=>this.writePrimary(e.primary)).then(()=>{let t=this.serializeAdditional(e.additional);return this.writeAdditional(n.ADDITIONAL_OFFSET,t)}).then(e=>(this.logger.log("info","additional configuration size: "+e),e))}serializeAdditional(e){if(!e||!e.channelEntry||8!==e.channelEntry.length)throw new Error("Invalid additional configuration");let t=e.channelEntry,r=new o.Config([[[t[0].hardwareGain,t[0].softwareGain,t[0].offset,t[0].engUnitFactor,t[0].engUnit],[t[1].hardwareGain,t[1].softwareGain,t[1].offset,t[1].engUnitFactor,t[1].engUnit],[t[2].hardwareGain,t[2].softwareGain,t[2].offset,t[2].engUnitFactor,t[2].engUnit],[t[3].hardwareGain,t[3].softwareGain,t[3].offset,t[3].engUnitFactor,t[3].engUnit],[t[4].hardwareGain,t[4].softwareGain,t[4].offset,t[4].engUnitFactor,t[4].engUnit],[t[5].hardwareGain,t[5].softwareGain,t[5].offset,t[5].engUnitFactor,t[5].engUnit],[t[6].hardwareGain,t[6].softwareGain,t[6].offset,t[6].engUnitFactor,t[6].engUnit],[t[7].hardwareGain,t[7].softwareGain,t[7].offset,t[7].engUnitFactor,t[7].engUnit]],e.name,e.serialNumber,e.description]);return new Buffer(r.serializeBinary())}deserializeAdditional(e){let t=o.Config.deserializeBinary(new Uint8Array(e)).toObject(),r=this.getAdditionalDefaults();if(t.channelentryList)for(var i=0;i<t.channelentryList.length;++i)r.channelEntry[i]={hardwareGain:t.channelentryList[i].hardwaregain,softwareGain:t.channelentryList[i].softwaregain,offset:t.channelentryList[i].offset,engUnitFactor:t.channelentryList[i].engunitfactor,engUnit:t.channelentryList[i].engunit};return r.name=t.name||r.name,r.serialNumber=t.serialnumber||r.serialNumber,r.description=t.description||r.description,r}}t.ConfigAstute=n,n.ADDITIONAL_OFFSET=128},function(e,t,r){var i=r(5),o=i,n=Function("return this")();o.exportSymbol("proto.AstuteConfig.ChannelEntry",null,n),o.exportSymbol("proto.AstuteConfig.Config",null,n),proto.AstuteConfig.ChannelEntry=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.AstuteConfig.ChannelEntry,i.Message),o.DEBUG&&!COMPILED&&(proto.AstuteConfig.ChannelEntry.displayName="proto.AstuteConfig.ChannelEntry"),i.Message.GENERATE_TO_OBJECT&&(proto.AstuteConfig.ChannelEntry.prototype.toObject=function(e){return proto.AstuteConfig.ChannelEntry.toObject(e,this)},proto.AstuteConfig.ChannelEntry.toObject=function(e,t){var r={hardwaregain:t.getHardwaregain(),softwaregain:t.getSoftwaregain(),offset:t.getOffset(),engunitfactor:t.getEngunitfactor(),engunit:t.getEngunit()};return e&&(r.$jspbMessageInstance=t),r}),proto.AstuteConfig.ChannelEntry.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AstuteConfig.ChannelEntry;return proto.AstuteConfig.ChannelEntry.deserializeBinaryFromReader(r,t)},proto.AstuteConfig.ChannelEntry.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readFloat();e.setHardwaregain(r);break;case 2:r=t.readFloat();e.setSoftwaregain(r);break;case 3:r=t.readFloat();e.setOffset(r);break;case 4:r=t.readFloat();e.setEngunitfactor(r);break;case 5:r=t.readFloat();e.setEngunit(r);break;default:t.skipField()}}return e},proto.AstuteConfig.ChannelEntry.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AstuteConfig.ChannelEntry.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AstuteConfig.ChannelEntry.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getHardwaregain())&&e.writeFloat(1,t),0!==(t=this.getSoftwaregain())&&e.writeFloat(2,t),0!==(t=this.getOffset())&&e.writeFloat(3,t),0!==(t=this.getEngunitfactor())&&e.writeFloat(4,t),0!==(t=this.getEngunit())&&e.writeFloat(5,t)},proto.AstuteConfig.ChannelEntry.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AstuteConfig.ChannelEntry.prototype.getHardwaregain=function(){return i.Message.getFieldProto3(this,1,0)},proto.AstuteConfig.ChannelEntry.prototype.setHardwaregain=function(e){i.Message.setField(this,1,e)},proto.AstuteConfig.ChannelEntry.prototype.getSoftwaregain=function(){return i.Message.getFieldProto3(this,2,0)},proto.AstuteConfig.ChannelEntry.prototype.setSoftwaregain=function(e){i.Message.setField(this,2,e)},proto.AstuteConfig.ChannelEntry.prototype.getOffset=function(){return i.Message.getFieldProto3(this,3,0)},proto.AstuteConfig.ChannelEntry.prototype.setOffset=function(e){i.Message.setField(this,3,e)},proto.AstuteConfig.ChannelEntry.prototype.getEngunitfactor=function(){return i.Message.getFieldProto3(this,4,0)},proto.AstuteConfig.ChannelEntry.prototype.setEngunitfactor=function(e){i.Message.setField(this,4,e)},proto.AstuteConfig.ChannelEntry.prototype.getEngunit=function(){return i.Message.getFieldProto3(this,5,0)},proto.AstuteConfig.ChannelEntry.prototype.setEngunit=function(e){i.Message.setField(this,5,e)},proto.AstuteConfig.Config=function(e){i.Message.initialize(this,e,0,-1,proto.AstuteConfig.Config.repeatedFields_,null)},o.inherits(proto.AstuteConfig.Config,i.Message),o.DEBUG&&!COMPILED&&(proto.AstuteConfig.Config.displayName="proto.AstuteConfig.Config"),proto.AstuteConfig.Config.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.AstuteConfig.Config.prototype.toObject=function(e){return proto.AstuteConfig.Config.toObject(e,this)},proto.AstuteConfig.Config.toObject=function(e,t){var r={channelentryList:i.Message.toObjectList(t.getChannelentryList(),proto.AstuteConfig.ChannelEntry.toObject,e),name:t.getName(),serialnumber:t.getSerialnumber(),description:t.getDescription()};return e&&(r.$jspbMessageInstance=t),r}),proto.AstuteConfig.Config.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AstuteConfig.Config;return proto.AstuteConfig.Config.deserializeBinaryFromReader(r,t)},proto.AstuteConfig.Config.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.AstuteConfig.ChannelEntry;t.readMessage(r,proto.AstuteConfig.ChannelEntry.deserializeBinaryFromReader),e.getChannelentryList().push(r),e.setChannelentryList(e.getChannelentryList());break;case 2:r=t.readString();e.setName(r);break;case 3:r=t.readString();e.setSerialnumber(r);break;case 4:r=t.readString();e.setDescription(r);break;default:t.skipField()}}return e},proto.AstuteConfig.Config.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AstuteConfig.Config.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AstuteConfig.Config.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getChannelentryList()).length>0&&e.writeRepeatedMessage(1,t,proto.AstuteConfig.ChannelEntry.serializeBinaryToWriter),(t=this.getName()).length>0&&e.writeString(2,t),(t=this.getSerialnumber()).length>0&&e.writeString(3,t),(t=this.getDescription()).length>0&&e.writeString(4,t)},proto.AstuteConfig.Config.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AstuteConfig.Config.prototype.getChannelentryList=function(){return i.Message.getRepeatedWrapperField(this,proto.AstuteConfig.ChannelEntry,1)},proto.AstuteConfig.Config.prototype.setChannelentryList=function(e){i.Message.setRepeatedWrapperField(this,1,e)},proto.AstuteConfig.Config.prototype.clearChannelentryList=function(){this.setChannelentryList([])},proto.AstuteConfig.Config.prototype.getName=function(){return i.Message.getFieldProto3(this,2,"")},proto.AstuteConfig.Config.prototype.setName=function(e){i.Message.setField(this,2,e)},proto.AstuteConfig.Config.prototype.getSerialnumber=function(){return i.Message.getFieldProto3(this,3,"")},proto.AstuteConfig.Config.prototype.setSerialnumber=function(e){i.Message.setField(this,3,e)},proto.AstuteConfig.Config.prototype.getDescription=function(){return i.Message.getFieldProto3(this,4,"")},proto.AstuteConfig.Config.prototype.setDescription=function(e){i.Message.setField(this,4,e)},o.object.extend(t,proto.AstuteConfig)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{}t.Const=i,i.DEFAULT_HARDWARE_GAIN=29.72093,i.DEFAULT_GAIN=2*i.DEFAULT_HARDWARE_GAIN},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(164),n=r(25),s=r(264);t.StreamHandler=class{constructor(e){this.di=e,this.PING_INTERVAL=15,this.logger=i.Logger.getLogger("ast-stream"),this.streamValue=null,this.streamCounter=0,this.device=null,this.activeTask=null,this.pingTimer=0,this.completeTaskRunner=null}start(e){this.device=e.device,this.activeTask=e.activeTask;const t=this.activeTask.options,r=e.config.additional.channelEntry,i={frequency:new o.StreamFrequency(25),hardwareGain:[],softwareGain:[]};t&&t.frequency&&(i.frequency=new o.StreamFrequency(t.frequency));for(let e=0;e<8;++e)i.hardwareGain[e]=r[e].hardwareGain,i.softwareGain[e]=new n.ChannelGain(r[e].softwareGain);return this.di.connection.stream.start(i,this.onStreamData.bind(this)).then(()=>{this.logger.info("started")})}stop(){return this.di.connection.stream.stop()}onStreamData(e){try{this.streamValue=e,this.streamCounter++;const t=new s.Sample([e.batteryVoltage,e.temperature,e.tacho,e.samples]);this.di.sioEmit("stream-sample",t.serializeBinary().buffer)}catch(e){this.logger.error("serialize stream data",e)}}taskRunner(){return new Promise((e,t)=>{if(null===this.device||null===this.activeTask)return t(new Error("Invalid device or active task"));this.completeTaskRunner=o=>{this.completeTaskRunner=null,this.di.sioEmit("stream-state","stopped",o),this.di.adapter.removeListener("deviceDisconnected",r),clearInterval(i),o?(this.di.sioEmit("stream-state","error",o.message),this.logger.warn(o.message),t(o)):(this.di.sioEmit("stream-state","completed"),e())};const r=this.onDisconnected.bind(this),i=setInterval(this.doPeriodicCheck.bind(this),1e3);this.di.sioEmit("stream-state","started"),this.di.adapter.on("deviceDisconnected",r)})}onDisconnected(e){e.address===this.device.address&&this.completeTaskRunner(new Error("Remote device disconnected unexpectedly during data stream."))}doPeriodicCheck(){try{this.pingHandler(),this.printLatestSample(),this.streamCounter=0,this.streamValue=null,this.findTasks(this.activeTask.uuid).then(e=>{0===e.length?this.completeTaskRunner():(this.activeTask=e[0],this.checkActiveTask())}).catch(e=>{this.logger.info("find task error"),this.completeTaskRunner(e)})}catch(e){this.logger.error("periodic-check",e)}}checkActiveTask(){if(!this.completeTaskRunner)return;const e=this.activeTask.createdOn;this.logger.info("active task: ",Date.now()-e.getTime(),3e4),Date.now()-e.getTime()<=3e4||(this.logger.warn("no ping, data stream timeout"),this.di.taskDAO.remove(this.activeTask).then(()=>{this.completeTaskRunner&&this.completeTaskRunner()}).catch(e=>{this.completeTaskRunner&&this.completeTaskRunner(new Error("Cannot remove active task."))}))}pingHandler(){++this.pingTimer<this.PING_INTERVAL||(this.pingTimer=0,this.logger.log("info","Ping"),this.di.ping())}printLatestSample(){null!==this.streamValue&&this.logger.info(JSON.stringify(this.streamValue,(e,t)=>t&&t.toFixed?parseFloat(t.toFixed(6)):t),`Frequency: ${this.streamCounter} Hz`)}findTasks(e){return this.di.taskDAO.find({order:"-createdOn",skip:0,limit:1,criteria:{uuid:e,command:"stream"}})}}},function(e,t,r){var i=r(5),o=i,n=Function("return this")();o.exportSymbol("proto.AstuteStream.Sample",null,n),proto.AstuteStream.Sample=function(e){i.Message.initialize(this,e,0,-1,proto.AstuteStream.Sample.repeatedFields_,null)},o.inherits(proto.AstuteStream.Sample,i.Message),o.DEBUG&&!COMPILED&&(proto.AstuteStream.Sample.displayName="proto.AstuteStream.Sample"),proto.AstuteStream.Sample.repeatedFields_=[4],i.Message.GENERATE_TO_OBJECT&&(proto.AstuteStream.Sample.prototype.toObject=function(e){return proto.AstuteStream.Sample.toObject(e,this)},proto.AstuteStream.Sample.toObject=function(e,t){var r={batteryVoltage:t.getBatteryVoltage(),temperature:t.getTemperature(),tacho:t.getTacho(),samplesList:i.Message.getRepeatedFloatingPointField(t,4)};return e&&(r.$jspbMessageInstance=t),r}),proto.AstuteStream.Sample.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AstuteStream.Sample;return proto.AstuteStream.Sample.deserializeBinaryFromReader(r,t)},proto.AstuteStream.Sample.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readFloat();e.setBatteryVoltage(r);break;case 2:r=t.readFloat();e.setTemperature(r);break;case 3:r=t.readBool();e.setTacho(r);break;case 4:r=t.readPackedFloat();e.setSamplesList(r);break;default:t.skipField()}}return e},proto.AstuteStream.Sample.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AstuteStream.Sample.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AstuteStream.Sample.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getBatteryVoltage())&&e.writeFloat(1,t),0!==(t=this.getTemperature())&&e.writeFloat(2,t),(t=this.getTacho())&&e.writeBool(3,t),(t=this.getSamplesList()).length>0&&e.writePackedFloat(4,t)},proto.AstuteStream.Sample.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AstuteStream.Sample.prototype.getBatteryVoltage=function(){return i.Message.getFieldProto3(this,1,0)},proto.AstuteStream.Sample.prototype.setBatteryVoltage=function(e){i.Message.setField(this,1,e)},proto.AstuteStream.Sample.prototype.getTemperature=function(){return i.Message.getFieldProto3(this,2,0)},proto.AstuteStream.Sample.prototype.setTemperature=function(e){i.Message.setField(this,2,e)},proto.AstuteStream.Sample.prototype.getTacho=function(){return i.Message.getFieldProto3(this,3,!1)},proto.AstuteStream.Sample.prototype.setTacho=function(e){i.Message.setField(this,3,e)},proto.AstuteStream.Sample.prototype.getSamplesList=function(){return i.Message.getRepeatedFloatingPointField(this,4)},proto.AstuteStream.Sample.prototype.setSamplesList=function(e){i.Message.setField(this,4,e||[])},proto.AstuteStream.Sample.prototype.clearSamplesList=function(){i.Message.setField(this,4,[])},o.object.extend(t,proto.AstuteStream)},function(e,t,r){var i=r(5),o=i,n=Function("return this")();o.exportSymbol("proto.AstuteLogging.FileEntry",null,n),o.exportSymbol("proto.AstuteLogging.FileEntry.Samples",null,n),o.exportSymbol("proto.AstuteLogging.Sample",null,n),o.exportSymbol("proto.AstuteLogging.Stats",null,n),o.exportSymbol("proto.AstuteLogging.ValueStats",null,n),proto.AstuteLogging.Sample=function(e){i.Message.initialize(this,e,0,-1,proto.AstuteLogging.Sample.repeatedFields_,null)},o.inherits(proto.AstuteLogging.Sample,i.Message),o.DEBUG&&!COMPILED&&(proto.AstuteLogging.Sample.displayName="proto.AstuteLogging.Sample"),proto.AstuteLogging.Sample.repeatedFields_=[6],i.Message.GENERATE_TO_OBJECT&&(proto.AstuteLogging.Sample.prototype.toObject=function(e){return proto.AstuteLogging.Sample.toObject(e,this)},proto.AstuteLogging.Sample.toObject=function(e,t){var r={timestamp:t.getTimestamp(),rssi:t.getRssi(),temperature:t.getTemperature(),batteryVoltage:t.getBatteryVoltage(),tacho:t.getTacho(),samplesList:i.Message.getRepeatedFloatingPointField(t,6)};return e&&(r.$jspbMessageInstance=t),r}),proto.AstuteLogging.Sample.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AstuteLogging.Sample;return proto.AstuteLogging.Sample.deserializeBinaryFromReader(r,t)},proto.AstuteLogging.Sample.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setTimestamp(r);break;case 2:r=t.readSint32();e.setRssi(r);break;case 3:r=t.readFloat();e.setTemperature(r);break;case 4:r=t.readFloat();e.setBatteryVoltage(r);break;case 5:r=t.readBool();e.setTacho(r);break;case 6:r=t.readPackedFloat();e.setSamplesList(r);break;default:t.skipField()}}return e},proto.AstuteLogging.Sample.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AstuteLogging.Sample.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AstuteLogging.Sample.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getTimestamp())&&e.writeInt64(1,t),0!==(t=this.getRssi())&&e.writeSint32(2,t),0!==(t=this.getTemperature())&&e.writeFloat(3,t),0!==(t=this.getBatteryVoltage())&&e.writeFloat(4,t),(t=this.getTacho())&&e.writeBool(5,t),(t=this.getSamplesList()).length>0&&e.writePackedFloat(6,t)},proto.AstuteLogging.Sample.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AstuteLogging.Sample.prototype.getTimestamp=function(){return i.Message.getFieldProto3(this,1,0)},proto.AstuteLogging.Sample.prototype.setTimestamp=function(e){i.Message.setField(this,1,e)},proto.AstuteLogging.Sample.prototype.getRssi=function(){return i.Message.getFieldProto3(this,2,0)},proto.AstuteLogging.Sample.prototype.setRssi=function(e){i.Message.setField(this,2,e)},proto.AstuteLogging.Sample.prototype.getTemperature=function(){return i.Message.getFieldProto3(this,3,0)},proto.AstuteLogging.Sample.prototype.setTemperature=function(e){i.Message.setField(this,3,e)},proto.AstuteLogging.Sample.prototype.getBatteryVoltage=function(){return i.Message.getFieldProto3(this,4,0)},proto.AstuteLogging.Sample.prototype.setBatteryVoltage=function(e){i.Message.setField(this,4,e)},proto.AstuteLogging.Sample.prototype.getTacho=function(){return i.Message.getFieldProto3(this,5,!1)},proto.AstuteLogging.Sample.prototype.setTacho=function(e){i.Message.setField(this,5,e)},proto.AstuteLogging.Sample.prototype.getSamplesList=function(){return i.Message.getRepeatedFloatingPointField(this,6)},proto.AstuteLogging.Sample.prototype.setSamplesList=function(e){i.Message.setField(this,6,e||[])},proto.AstuteLogging.Sample.prototype.clearSamplesList=function(){i.Message.setField(this,6,[])},proto.AstuteLogging.ValueStats=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.AstuteLogging.ValueStats,i.Message),o.DEBUG&&!COMPILED&&(proto.AstuteLogging.ValueStats.displayName="proto.AstuteLogging.ValueStats"),i.Message.GENERATE_TO_OBJECT&&(proto.AstuteLogging.ValueStats.prototype.toObject=function(e){return proto.AstuteLogging.ValueStats.toObject(e,this)},proto.AstuteLogging.ValueStats.toObject=function(e,t){var r={min:t.getMin(),max:t.getMax(),mean:t.getMean(),rms:t.getRms(),pp:t.getPp(),samples:t.getSamples()};return e&&(r.$jspbMessageInstance=t),r}),proto.AstuteLogging.ValueStats.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AstuteLogging.ValueStats;return proto.AstuteLogging.ValueStats.deserializeBinaryFromReader(r,t)},proto.AstuteLogging.ValueStats.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readFloat();e.setMin(r);break;case 2:r=t.readFloat();e.setMax(r);break;case 3:r=t.readFloat();e.setMean(r);break;case 4:r=t.readFloat();e.setRms(r);break;case 5:r=t.readFloat();e.setPp(r);break;case 6:r=t.readUint32();e.setSamples(r);break;default:t.skipField()}}return e},proto.AstuteLogging.ValueStats.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AstuteLogging.ValueStats.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AstuteLogging.ValueStats.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getMin())&&e.writeFloat(1,t),0!==(t=this.getMax())&&e.writeFloat(2,t),0!==(t=this.getMean())&&e.writeFloat(3,t),0!==(t=this.getRms())&&e.writeFloat(4,t),0!==(t=this.getPp())&&e.writeFloat(5,t),0!==(t=this.getSamples())&&e.writeUint32(6,t)},proto.AstuteLogging.ValueStats.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AstuteLogging.ValueStats.prototype.getMin=function(){return i.Message.getFieldProto3(this,1,0)},proto.AstuteLogging.ValueStats.prototype.setMin=function(e){i.Message.setField(this,1,e)},proto.AstuteLogging.ValueStats.prototype.getMax=function(){return i.Message.getFieldProto3(this,2,0)},proto.AstuteLogging.ValueStats.prototype.setMax=function(e){i.Message.setField(this,2,e)},proto.AstuteLogging.ValueStats.prototype.getMean=function(){return i.Message.getFieldProto3(this,3,0)},proto.AstuteLogging.ValueStats.prototype.setMean=function(e){i.Message.setField(this,3,e)},proto.AstuteLogging.ValueStats.prototype.getRms=function(){return i.Message.getFieldProto3(this,4,0)},proto.AstuteLogging.ValueStats.prototype.setRms=function(e){i.Message.setField(this,4,e)},proto.AstuteLogging.ValueStats.prototype.getPp=function(){return i.Message.getFieldProto3(this,5,0)},proto.AstuteLogging.ValueStats.prototype.setPp=function(e){i.Message.setField(this,5,e)},proto.AstuteLogging.ValueStats.prototype.getSamples=function(){return i.Message.getFieldProto3(this,6,0)},proto.AstuteLogging.ValueStats.prototype.setSamples=function(e){i.Message.setField(this,6,e)},proto.AstuteLogging.Stats=function(e){i.Message.initialize(this,e,0,-1,proto.AstuteLogging.Stats.repeatedFields_,null)},o.inherits(proto.AstuteLogging.Stats,i.Message),o.DEBUG&&!COMPILED&&(proto.AstuteLogging.Stats.displayName="proto.AstuteLogging.Stats"),proto.AstuteLogging.Stats.repeatedFields_=[8],i.Message.GENERATE_TO_OBJECT&&(proto.AstuteLogging.Stats.prototype.toObject=function(e){return proto.AstuteLogging.Stats.toObject(e,this)},proto.AstuteLogging.Stats.toObject=function(e,t){var r,o={timestamp:t.getTimestamp(),goodRounds:t.getGoodRounds(),lostRoundsByTx:t.getLostRoundsByTx(),lostRoundsByRx:t.getLostRoundsByRx(),rssi:(r=t.getRssi())&&proto.AstuteLogging.ValueStats.toObject(e,r),temperature:(r=t.getTemperature())&&proto.AstuteLogging.ValueStats.toObject(e,r),batteryVoltage:(r=t.getBatteryVoltage())&&proto.AstuteLogging.ValueStats.toObject(e,r),samplesList:i.Message.toObjectList(t.getSamplesList(),proto.AstuteLogging.ValueStats.toObject,e)};return e&&(o.$jspbMessageInstance=t),o}),proto.AstuteLogging.Stats.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AstuteLogging.Stats;return proto.AstuteLogging.Stats.deserializeBinaryFromReader(r,t)},proto.AstuteLogging.Stats.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setTimestamp(r);break;case 2:r=t.readUint32();e.setGoodRounds(r);break;case 3:r=t.readUint32();e.setLostRoundsByTx(r);break;case 4:r=t.readUint32();e.setLostRoundsByRx(r);break;case 5:r=new proto.AstuteLogging.ValueStats;t.readMessage(r,proto.AstuteLogging.ValueStats.deserializeBinaryFromReader),e.setRssi(r);break;case 6:r=new proto.AstuteLogging.ValueStats;t.readMessage(r,proto.AstuteLogging.ValueStats.deserializeBinaryFromReader),e.setTemperature(r);break;case 7:r=new proto.AstuteLogging.ValueStats;t.readMessage(r,proto.AstuteLogging.ValueStats.deserializeBinaryFromReader),e.setBatteryVoltage(r);break;case 8:r=new proto.AstuteLogging.ValueStats;t.readMessage(r,proto.AstuteLogging.ValueStats.deserializeBinaryFromReader),e.getSamplesList().push(r),e.setSamplesList(e.getSamplesList());break;default:t.skipField()}}return e},proto.AstuteLogging.Stats.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AstuteLogging.Stats.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AstuteLogging.Stats.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getTimestamp())&&e.writeInt64(1,t),0!==(t=this.getGoodRounds())&&e.writeUint32(2,t),0!==(t=this.getLostRoundsByTx())&&e.writeUint32(3,t),0!==(t=this.getLostRoundsByRx())&&e.writeUint32(4,t),null!=(t=this.getRssi())&&e.writeMessage(5,t,proto.AstuteLogging.ValueStats.serializeBinaryToWriter),null!=(t=this.getTemperature())&&e.writeMessage(6,t,proto.AstuteLogging.ValueStats.serializeBinaryToWriter),null!=(t=this.getBatteryVoltage())&&e.writeMessage(7,t,proto.AstuteLogging.ValueStats.serializeBinaryToWriter),(t=this.getSamplesList()).length>0&&e.writeRepeatedMessage(8,t,proto.AstuteLogging.ValueStats.serializeBinaryToWriter)},proto.AstuteLogging.Stats.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AstuteLogging.Stats.prototype.getTimestamp=function(){return i.Message.getFieldProto3(this,1,0)},proto.AstuteLogging.Stats.prototype.setTimestamp=function(e){i.Message.setField(this,1,e)},proto.AstuteLogging.Stats.prototype.getGoodRounds=function(){return i.Message.getFieldProto3(this,2,0)},proto.AstuteLogging.Stats.prototype.setGoodRounds=function(e){i.Message.setField(this,2,e)},proto.AstuteLogging.Stats.prototype.getLostRoundsByTx=function(){return i.Message.getFieldProto3(this,3,0)},proto.AstuteLogging.Stats.prototype.setLostRoundsByTx=function(e){i.Message.setField(this,3,e)},proto.AstuteLogging.Stats.prototype.getLostRoundsByRx=function(){return i.Message.getFieldProto3(this,4,0)},proto.AstuteLogging.Stats.prototype.setLostRoundsByRx=function(e){i.Message.setField(this,4,e)},proto.AstuteLogging.Stats.prototype.getRssi=function(){return i.Message.getWrapperField(this,proto.AstuteLogging.ValueStats,5)},proto.AstuteLogging.Stats.prototype.setRssi=function(e){i.Message.setWrapperField(this,5,e)},proto.AstuteLogging.Stats.prototype.clearRssi=function(){this.setRssi(void 0)},proto.AstuteLogging.Stats.prototype.hasRssi=function(){return null!=i.Message.getField(this,5)},proto.AstuteLogging.Stats.prototype.getTemperature=function(){return i.Message.getWrapperField(this,proto.AstuteLogging.ValueStats,6)},proto.AstuteLogging.Stats.prototype.setTemperature=function(e){i.Message.setWrapperField(this,6,e)},proto.AstuteLogging.Stats.prototype.clearTemperature=function(){this.setTemperature(void 0)},proto.AstuteLogging.Stats.prototype.hasTemperature=function(){return null!=i.Message.getField(this,6)},proto.AstuteLogging.Stats.prototype.getBatteryVoltage=function(){return i.Message.getWrapperField(this,proto.AstuteLogging.ValueStats,7)},proto.AstuteLogging.Stats.prototype.setBatteryVoltage=function(e){i.Message.setWrapperField(this,7,e)},proto.AstuteLogging.Stats.prototype.clearBatteryVoltage=function(){this.setBatteryVoltage(void 0)},proto.AstuteLogging.Stats.prototype.hasBatteryVoltage=function(){return null!=i.Message.getField(this,7)},proto.AstuteLogging.Stats.prototype.getSamplesList=function(){return i.Message.getRepeatedWrapperField(this,proto.AstuteLogging.ValueStats,8)},proto.AstuteLogging.Stats.prototype.setSamplesList=function(e){i.Message.setRepeatedWrapperField(this,8,e)},proto.AstuteLogging.Stats.prototype.clearSamplesList=function(){this.setSamplesList([])},proto.AstuteLogging.FileEntry=function(e){i.Message.initialize(this,e,0,-1,proto.AstuteLogging.FileEntry.repeatedFields_,null)},o.inherits(proto.AstuteLogging.FileEntry,i.Message),o.DEBUG&&!COMPILED&&(proto.AstuteLogging.FileEntry.displayName="proto.AstuteLogging.FileEntry"),proto.AstuteLogging.FileEntry.repeatedFields_=[6,7],i.Message.GENERATE_TO_OBJECT&&(proto.AstuteLogging.FileEntry.prototype.toObject=function(e){return proto.AstuteLogging.FileEntry.toObject(e,this)},proto.AstuteLogging.FileEntry.toObject=function(e,t){var r={rssi:t.getRssi(),rxPc:t.getRxPc(),txPc:t.getTxPc(),temperature:t.getTemperature(),batteryVoltage:t.getBatteryVoltage(),tachoList:i.Message.getField(t,6),samplesList:i.Message.toObjectList(t.getSamplesList(),proto.AstuteLogging.FileEntry.Samples.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.AstuteLogging.FileEntry.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AstuteLogging.FileEntry;return proto.AstuteLogging.FileEntry.deserializeBinaryFromReader(r,t)},proto.AstuteLogging.FileEntry.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readSint32();e.setRssi(r);break;case 2:r=t.readUint32();e.setRxPc(r);break;case 3:r=t.readUint32();e.setTxPc(r);break;case 4:r=t.readFloat();e.setTemperature(r);break;case 5:r=t.readFloat();e.setBatteryVoltage(r);break;case 6:r=t.readPackedBool();e.setTachoList(r);break;case 7:r=new proto.AstuteLogging.FileEntry.Samples;t.readMessage(r,proto.AstuteLogging.FileEntry.Samples.deserializeBinaryFromReader),e.getSamplesList().push(r),e.setSamplesList(e.getSamplesList());break;default:t.skipField()}}return e},proto.AstuteLogging.FileEntry.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AstuteLogging.FileEntry.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AstuteLogging.FileEntry.prototype.serializeBinaryToWriter=function(e){var t=void 0;0!==(t=this.getRssi())&&e.writeSint32(1,t),0!==(t=this.getRxPc())&&e.writeUint32(2,t),0!==(t=this.getTxPc())&&e.writeUint32(3,t),0!==(t=this.getTemperature())&&e.writeFloat(4,t),0!==(t=this.getBatteryVoltage())&&e.writeFloat(5,t),(t=this.getTachoList()).length>0&&e.writePackedBool(6,t),(t=this.getSamplesList()).length>0&&e.writeRepeatedMessage(7,t,proto.AstuteLogging.FileEntry.Samples.serializeBinaryToWriter)},proto.AstuteLogging.FileEntry.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AstuteLogging.FileEntry.prototype.getRssi=function(){return i.Message.getFieldProto3(this,1,0)},proto.AstuteLogging.FileEntry.prototype.setRssi=function(e){i.Message.setField(this,1,e)},proto.AstuteLogging.FileEntry.prototype.getRxPc=function(){return i.Message.getFieldProto3(this,2,0)},proto.AstuteLogging.FileEntry.prototype.setRxPc=function(e){i.Message.setField(this,2,e)},proto.AstuteLogging.FileEntry.prototype.getTxPc=function(){return i.Message.getFieldProto3(this,3,0)},proto.AstuteLogging.FileEntry.prototype.setTxPc=function(e){i.Message.setField(this,3,e)},proto.AstuteLogging.FileEntry.prototype.getTemperature=function(){return i.Message.getFieldProto3(this,4,0)},proto.AstuteLogging.FileEntry.prototype.setTemperature=function(e){i.Message.setField(this,4,e)},proto.AstuteLogging.FileEntry.prototype.getBatteryVoltage=function(){return i.Message.getFieldProto3(this,5,0)},proto.AstuteLogging.FileEntry.prototype.setBatteryVoltage=function(e){i.Message.setField(this,5,e)},proto.AstuteLogging.FileEntry.prototype.getTachoList=function(){return i.Message.getField(this,6)},proto.AstuteLogging.FileEntry.prototype.setTachoList=function(e){i.Message.setField(this,6,e||[])},proto.AstuteLogging.FileEntry.prototype.clearTachoList=function(){i.Message.setField(this,6,[])},proto.AstuteLogging.FileEntry.prototype.getSamplesList=function(){return i.Message.getRepeatedWrapperField(this,proto.AstuteLogging.FileEntry.Samples,7)},proto.AstuteLogging.FileEntry.prototype.setSamplesList=function(e){i.Message.setRepeatedWrapperField(this,7,e)},proto.AstuteLogging.FileEntry.prototype.clearSamplesList=function(){this.setSamplesList([])},proto.AstuteLogging.FileEntry.Samples=function(e){i.Message.initialize(this,e,0,-1,proto.AstuteLogging.FileEntry.Samples.repeatedFields_,null)},o.inherits(proto.AstuteLogging.FileEntry.Samples,i.Message),o.DEBUG&&!COMPILED&&(proto.AstuteLogging.FileEntry.Samples.displayName="proto.AstuteLogging.FileEntry.Samples"),proto.AstuteLogging.FileEntry.Samples.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.AstuteLogging.FileEntry.Samples.prototype.toObject=function(e){return proto.AstuteLogging.FileEntry.Samples.toObject(e,this)},proto.AstuteLogging.FileEntry.Samples.toObject=function(e,t){var r={valuesList:i.Message.getRepeatedFloatingPointField(t,1)};return e&&(r.$jspbMessageInstance=t),r}),proto.AstuteLogging.FileEntry.Samples.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AstuteLogging.FileEntry.Samples;return proto.AstuteLogging.FileEntry.Samples.deserializeBinaryFromReader(r,t)},proto.AstuteLogging.FileEntry.Samples.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readPackedFloat();e.setValuesList(r);break;default:t.skipField()}}return e},proto.AstuteLogging.FileEntry.Samples.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AstuteLogging.FileEntry.Samples.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AstuteLogging.FileEntry.Samples.prototype.serializeBinaryToWriter=function(e){var t;(t=this.getValuesList()).length>0&&e.writePackedFloat(1,t)},proto.AstuteLogging.FileEntry.Samples.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AstuteLogging.FileEntry.Samples.prototype.getValuesList=function(){return i.Message.getRepeatedFloatingPointField(this,1)},proto.AstuteLogging.FileEntry.Samples.prototype.setValuesList=function(e){i.Message.setField(this,1,e||[])},proto.AstuteLogging.FileEntry.Samples.prototype.clearValuesList=function(){i.Message.setField(this,1,[])},o.object.extend(t,proto.AstuteLogging)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4),o=r(17),n=r(267),s=r(1),a=r(11),l=r(22),c=r(166);var u,d;!function(e){e[e.ConfigDownload=0]="ConfigDownload",e[e.ConfigUplaod=1]="ConfigUplaod",e[e.Stream=2]="Stream"}(u||(u={})),function(e){e[e.NewDevice=0]="NewDevice",e[e.NewFirmware=1]="NewFirmware",e[e.DifferentConfigNumber=2]="DifferentConfigNumber",e[e.UserRequest=3]="UserRequest"}(d||(d={}));class g extends o.DeviceHandler{constructor(e,t){super(e,t),this.TX_GDN_ACTION_URL="http://future.gdn.jrdltd.co.uk/api/bcm-data-add.php",this.TX_IDENTIFIER="",this.TX_SOFTWARE_VERSION=0,this.bcm=null,this.tasks=null,this.activeTask=null,this.streamValue=null,this.streamCounter=0,this.logger=s.Logger.getLogger("jrd-hdl-bcm"),this.connection=new n.ConnectionBcm(e.adapter,t.peripheral),this.TX_IDENTIFIER=e.config.Transceiver.Identifier,this.TX_SOFTWARE_VERSION=e.config.Transceiver.Version}handleConnection(){return this.logger.log("info","BCM handler started"),Promise.resolve().then(()=>this.pullDatabase()).then(()=>this.execute())}pullDatabase(){return this.findBcm().then(e=>{if(null===e)return this.createBcm().then(e=>{this.bcm=e});this.bcm=e}).then(()=>this.findTasks(this.bcm.uuid)).then(e=>{this.tasks=e})}findBcm(){return this.di.db.BcmDAO.findByUuid(this.advert.uuid)}createBcm(){const e=this.advert;return this.di.db.BcmDAO.create({_id:void 0,uuid:e.uuid,address:e.address,enabled:!0,hidden:!1})}findTasks(e){return this.di.db.TaskDAO.find({order:"-createdOn",skip:0,limit:1,criteria:{uuid:e}})}findTaskById(e){return this.di.db.TaskDAO.findById(e)}removeActiveTask(){return Promise.resolve().then(()=>{if(null!==this.activeTask){let e=this.activeTask;return this.activeTask=null,this.di.db.TaskDAO.remove(e)}})}execute(){if(this.logger.log("info","execute action"),this.updateAdvertisement(),this.isDisabled())return void this.markStatus("Disabled");this.markStatus("Wake Up");let e=this.buildSample();return this.addSample(e),this.addGdnAction(e),this.executeAction().then(()=>{this.markStatus("Success"),this.logger.log("info","BCM action successfully completed")}).catch(e=>{throw this.markStatus("Failure",e.message),this.logger.log("error","Cannot execute action",e.message),e})}updateAdvertisement(){let e=this.advert;this.bcm.advertisement||(this.bcm.advertisement={});let t=this.bcm.advertisement;t.timestamp=e.timestamp,t.rssi=e.rssi,t.packetCounter=e.packetCounter,t.configNumber=e.configNumber,t.temperature=e.temperature,t.batteryVoltage=e.batteryVoltage,t.value=e.value,t.restartsUnknown=e.restartsUnknown,t.restartsSoftware=e.restartsSoftware,t.restartsWatchdog=e.restartsWatchdog;try{let t=new l.Data([e.timestamp.getTime(),e.rssi,e.packetCounter,e.configNumber,e.temperature,e.batteryVoltage,e.restartsUnknown,e.restartsSoftware,e.restartsWatchdog,0]);this.sioEmitApp("advert",t.serializeBinary().buffer)}catch(e){this.logger.log("warn",e)}return this.di.db.AdvertDAO.create(e).catch(e=>{this.logger.log("warn","BCM cannot store advert",e)}),this.di.db.BcmDAO.save(this.bcm).then(e=>{this.bcm=e,this.logger.log("info","BCM advertisement updated")})}isDisabled(){return!this.bcm.enabled}markStatus(e,t){this.bcm.connection||(this.bcm.connection={}),this.bcm.connection.status||(this.bcm.connection.status={});let r=this.bcm.connection.status;return r.timestamp=new Date,r.label=e,r.message=t||"",this.sioEmitBcm("status",r),this.logger.log("info","Status",e),this.di.db.BcmDAO.save(this.bcm).then(t=>{this.bcm=t,this.logger.log("info","BCM status updated "+e)})}addSample(e){try{let t=new c.Data([e.uuid,e.timestamp.getTime(),e.rssi,e.packetCounter,e.configNumber,e.temperature,e.batteryVoltage,e.tensionAdc,e.maximumRange,e.minimumRange,e.maximumUnit,e.minimumUnit,e.maximumAdc,e.minimumAdc,e.restartsUnknown,e.restartsSoftware,e.restartsWatchdog]);this.sioEmitBcm("sample",t.serializeBinary().buffer)}catch(e){this.logger.log("warn",e)}this.di.db.BcmSampleDAO.create(e).catch(e=>{this.logger.log("warn","BCM cannot save sample ",e)})}addGdnAction(e){this.bcm.sendToGdn&&this.di.db.GdnActionDAO.create({_id:void 0,centralUuid:this.TX_IDENTIFIER,requestType:"GET",scriptUrl:this.TX_GDN_ACTION_URL,getParams:this.buildGetParams(e)}).then(()=>{this.logger.info("Gdn action added"),this.sioEmitApp("newGdnAction")}).catch(e=>{this.logger.warn("Cannot add GDN action: ",e)})}executeAction(){let e=this.getAction();if(!e)return this.logger.log("info","no action"),Promise.resolve();let[t,r]=e;switch(this.logger.log("info","do "+t+" "+r),t){case u.ConfigDownload:return this.executeDownloadAction();case u.ConfigUplaod:return this.executeUploadAction();case u.Stream:return this.executeStream()}return Promise.reject(new Error("Unknown task: "+t))}getAction(){let e=this.advert,t=this.bcm.config,r=this.tasks;const i=t.primary.configNumber,o=e.configNumber;if(this.logger.log("info","configuraton",JSON.stringify(t)),this.activeTask=null,null===t.timestamp)return[u.ConfigDownload,d.NewDevice];if(255===e.configNumber)return[u.ConfigUplaod,d.NewFirmware];if(i!==o)return[u.ConfigDownload,d.DifferentConfigNumber];if(r.length)switch(this.activeTask=r[0],r[0].command){case"download":return[u.ConfigDownload,d.UserRequest];case"upload":return[u.ConfigUplaod,d.UserRequest];case"stream":return[u.Stream,d.UserRequest]}return null}executeDownloadAction(){this.logger.log("info","Download");let e=0,t=null;return Promise.resolve().then(()=>(e=1,this.startConnection())).then(()=>(e=2,this.connection.config.read())).then(r=>(e=3,this.logger.log("info","Configuration downloaded"),t=r,this.stopConnection())).then(()=>(e=4,this.handleDownloadedConfig(t))).catch(t=>{switch(this.sioEmitBcm("config-state","download-error",t),e){case 1:return;case 2:return this.stopConnection()}throw t})}handleDownloadedConfig(e){return this.logger.log("info","Handle downloaded configuration"),i.extend(this.bcm.config,e),this.di.db.BcmDAO.save(this.bcm).then(e=>(this.bcm=e,this.emitConfigNumericAction("download"),this.removeActiveTask()))}startConnection(){return this.markStatus("Connecting..."),this.connection.connect().then(()=>(this.logger.log("info","Connected"),this.connection.discover())).then(()=>{this.markStatus("Connected"),this.logger.log("info","Discovered")})}stopConnection(){return this.markStatus("Disconnecting..."),this.connection.disconnect().then(()=>{this.markStatus("Disconnected"),this.logger.log("info","Disconnected")})}executeUploadAction(){return null!==this.activeTask?this.upload(this.activeTask.options):this.prepareConfigToUpload().then(e=>this.upload(e))}upload(e){let t=0;return this.logger.log("info","Upload"),Promise.resolve().then(()=>(t=1,this.startConnection())).then(()=>(t=2,this.connection.config.write(e))).then(()=>(t=3,this.logger.log("info","Configuration uploaded"),this.connection.command.storeConfiguration())).then(()=>new Promise(e=>setTimeout(()=>e(),1e3))).then(()=>(t=4,this.logger.log("info","Configuration commited"),this.connection.command.restart())).then(()=>(t=5,this.logger.log("info","Device restart requested"),this.stopConnection())).then(()=>this.handleUploadedConfig(e)).catch(e=>{switch(this.sioEmitBcm("config-state","upload-error",e),t){case 1:return;case 2:case 3:return this.stopConnection()}throw e})}prepareConfigToUpload(){return this.logger.log("info","Copy config (actual->edit)"),Promise.resolve(i.clone(this.bcm.config))}handleData(){return Promise.resolve()}emitConfigNumericAction(e){this.sioEmitBcm("config-state",e,this.bcm.config)}handleUploadedConfig(e){return this.logger.log("info","Handle uploaded configuration"),e.primary.configNumber=this.bcm.advertisement.configNumber,++e.primary.configNumber>254&&(e.primary.configNumber=0),i.extend(this.bcm.config,e),this.di.db.BcmDAO.save(this.bcm).then(e=>(this.bcm=e,this.emitConfigNumericAction("upload"),this.logger.log("info","Configuration upload handled"),this.removeActiveTask()))}executeStream(){let e=0;return Promise.resolve().then(()=>(e=1,this.logger.log("info","Stream"),this.startConnection())).then(()=>(e=2,this.streamStart())).then(()=>(e=3,this.streamRun())).then(()=>(e=4,this.streamCleanup())).then(()=>{this.sioEmitBcm("stream-state","completed")}).catch(t=>{switch(this.sioEmitBcm("stream-state","error",t.message),this.logger.log("error","stream error",t," state: "+e),e){case 1:return;case 2:return this.streamCleanupDisconnectOnly()}throw t})}streamStart(){return this.connection.stream.start(this.onStreamData.bind(this))}streamCleanupDisconnectOnly(){return this.stopConnection().catch(e=>{this.logger.log("warn","Error during disconnecting")})}streamCleanup(){return this.connection.stream.stop().then(()=>this.stopConnection(),e=>this.stopConnection()).catch(e=>{this.logger.log("warn","Error during data stream cleanup")})}streamRun(){return this.logger.log("info","Started"),this.streamTaskRunner()}onStreamData(e){this.streamValue=e,this.streamCounter++;try{this.sioEmitBcm("stream-sample",e)}catch(e){this.logger.log("warn","serialize stream data",e)}}streamTaskRunner(){return this.sioEmitBcm("stream-state","started"),new Promise((e,t)=>{let r=0,i=null;const o=()=>{this.adapter.removeListener("deviceDisconnected",n),null!==i&&clearInterval(i)},n=e=>{e.address===this.peripheral.address&&(o(),t(new Error("Remote device disconnected unexpectedly during data stream.")))};this.adapter.on("deviceDisconnected",n),i=setInterval(()=>{++r>=5&&(r=0,this.logger.log("info","Ping"),this.connection.command.ping()),this.streamValue&&(this.logger.log("info",JSON.stringify(this.streamValue,(e,t)=>t&&t.toFixed?parseFloat(t.toFixed(6)):t)),this.logger.log("info","Frequency: "+this.streamCounter),this.streamCounter=0,this.streamValue=null),this.findTaskById(this.activeTask._id).then(t=>{null===t&&(o(),e())}).catch(e=>{this.logger.log("warn","find bcm",e),o(),t(e)})},1e3)})}buildSample(){return{uuid:this.advert.uuid,timestamp:this.advert.timestamp,rssi:this.advert.rssi,packetCounter:this.advert.packetCounter,configNumber:this.advert.configNumber,temperature:this.advert.temperature,batteryVoltage:this.advert.batteryVoltage,tensionAdc:this.advert.value,maximumRange:this.bcm.config.primary.maximumRange,minimumRange:this.bcm.config.primary.minimumRange,maximumUnit:this.bcm.config.primary.maximumUnit,minimumUnit:this.bcm.config.primary.minimumUnit,maximumAdc:this.bcm.config.primary.maximumAdc,minimumAdc:this.bcm.config.primary.minimumAdc,restartsUnknown:this.advert.restartsUnknown,restartsSoftware:this.advert.restartsSoftware,restartsWatchdog:this.advert.restartsWatchdog}}buildGetParams(e){return{uuid:e.uuid,timestamp:Math.round(e.timestamp.getTime()/1e3),rssi:e.rssi,packetCounter:e.packetCounter,temperature:e.temperature,batteryVoltage:e.batteryVoltage,tensionAdc:e.tensionAdc,maximumRange:e.maximumRange,minimumRange:e.minimumRange,maximumUnit:e.maximumUnit,minimumUnit:e.minimumUnit,maximumAdc:e.maximumAdc,minimumAdc:e.minimumAdc,centralIdent:this.TX_IDENTIFIER,centralVersion:this.TX_SOFTWARE_VERSION}}sioEmitBcm(e,...t){this.bcm&&this.bcm.uuid&&a.TdEvent.emitBcm(e,this.bcm.uuid,...t)}sioEmitApp(e,...t){this.bcm&&this.bcm.uuid&&a.TdEvent.emitApp(e,this.bcm.uuid,...t)}}t.BcmHandler=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(268),o=r(269),n=r(19),s=r(18),a=r(21);class l extends s.Connection{constructor(e,t){super(e,t),this.servicesList=["000016231212efde1523785fdabcd123","000015231212efde1523785fdabcd123"],this.clearCharacteristics()}discover(){const e=this;return new Promise((t,r)=>{super.discover(e.servicesList,!0).then(i=>{if(this.logger.info("Validate services/characteristics"),e.clearCharacteristics(),Object.keys(i).forEach(t=>{Object.keys(i[t]).forEach(r=>{e.discoverCharacteristic(t,i[t][r])})}),!e.validateCharacteristics()){const e=new Error("Invalid characteristics discovered");return this.logger.info(e.message),void r(e)}e.onCharacteristicsDiscover(),this.logger.info("Services/characteristics valid"),t(i)}).catch(e=>{this.logger.info("Error during validating services/characteristics"+e),r(e)})})}clearCharacteristics(){this.indexChar=null,this.valueChar=null,this.streamChar=null}discoverCharacteristic(e,t){switch(e.toLowerCase()){case"000016231212efde1523785fdabcd123":this.discoverConfigurationCharacteristic(t);break;case"000015231212efde1523785fdabcd123":this.discoverStreamCharacteristic(t)}}discoverConfigurationCharacteristic(e){switch(e.uuid.toLowerCase()){case"000016241212efde1523785fdabcd123":this.indexChar=e;break;case"000016251212efde1523785fdabcd123":this.valueChar=e}}discoverStreamCharacteristic(e){switch(e.uuid.toLowerCase()){case"000015331212efde1523785fdabcd123":this.streamChar=e}}validateCharacteristics(){return null!==this.indexChar&&null!==this.valueChar}onCharacteristicsDiscover(){const e=new a.ConfigMessageDpmBcmMt(this.adapter,this.indexChar,this.valueChar);this._config=new i.ConfigBcm(e),this._command=new n.CommandV1(this.adapter,this.indexChar,this.valueChar),this._stream=new o.Stream(this.adapter,this.peripheral,{stream:this.streamChar})}get config(){return this._config}get command(){return this._command}get stream(){return this._stream}}t.ConnectionBcm=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(20);class o extends i.Config{constructor(e){super(e,[["name","string","rw",1e3,20],["deviceType","uint16","r",0,2],["firmwareVersion","uint16","r",1,2],["configNumber","uint16","r",2,2],["advertInterval","uint16","rw",3,2],["advertWindowNonContactable","uint16","rw",4,2],["advertWindowContactable","uint16","rw",5,2],["nonContactableAdverts","uint16","rw",6,2],["samplingInterval","uint16","rw",7,2],["minimumRange","uint16","rw",8,2],["maximumRange","uint16","rw",9,2],["minimumUnit","uint16","rw",10,2],["maximumUnit","uint16","rw",11,2],["minimumAdc","uint16","rw",12,2],["maximumAdc","uint16","rw",13,2],["sensorType","uint16","rw",14,2],["analogStabilizationTime","uint16","rw",15,2]])}read(){let e={primary:{}};return Promise.resolve().then(()=>this.readPrimary()).then(t=>(e.timestamp=new Date,e.primary.deviceType=this.getNumber(t.deviceType),e.primary.firmwareVersion=this.getNumber(t.firmwareVersion),e.primary.configNumber=this.getNumber(t.configNumber),e.primary.advertInterval=this.getNumber(t.advertInterval),e.primary.advertWindowNonContactable=this.getNumber(t.advertWindowNonContactable),e.primary.advertWindowContactable=this.getNumber(t.advertWindowContactable),e.primary.nonContactableAdverts=this.getNumber(t.nonContactableAdverts),e.primary.samplingInterval=this.getNumber(t.samplingInterval),e.primary.minimumRange=this.getNumber(t.minimumRange),e.primary.maximumRange=this.getNumber(t.maximumRange),e.primary.minimumUnit=this.getNumber(t.minimumUnit),e.primary.maximumUnit=this.getNumber(t.maximumUnit),e.primary.minimumAdc=this.getNumber(t.minimumAdc),e.primary.maximumAdc=this.getNumber(t.maximumAdc),e.primary.sensorType=this.getNumber(t.sensorType),e.primary.analogStabilizationTime=this.getNumber(t.analogStabilizationTime),e.primary.name=this.getString(t.name),e))}getNumber(e){return"number"==typeof e?e:0}getString(e){return"string"==typeof e?e:""}write(e){return Promise.resolve().then(()=>this.writePrimary(e.primary)).then(()=>{e.timestamp=new Date})}}t.ConfigBcm=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4),o=r(1);t.Stream=class{constructor(e,t,r){this.adapter=e,this.peripheral=t,this.chars=r,this.logger=o.Logger.getLogger("bcm-stream"),this.value={tension:0,temperature:0,batteryVoltage:0,packetCounter:0,remoteRssi:127,localRssi:127},this.onNotificationReference=null,this.onDataCallback=null}start(e){return Promise.resolve().then(()=>(this.onDataCallback=e,this.adapter.startCharacteristicsNotifications(this.chars.stream))).then(()=>{this.onNotificationReference=this.onNotification.bind(this),this.adapter.on("characteristicValueChanged",this.onNotificationReference)})}stop(){return Promise.resolve().then(()=>(this.onNotificationReference&&(this.adapter.removeListener("characteristicValueChanged",this.onNotificationReference),this.onNotificationReference=null),this.adapter.stopCharacteristicsNotifications(this.chars.stream)))}onNotification(e){try{if(e.instanceId!==this.chars.stream.instanceId)return;const t=Buffer.from(e.value);this.value.tension=this.parseTension(t,0),this.value.temperature=this.parseTemperature(t,2),this.value.batteryVoltage=this.parseBatteryVoltage(t,4),this.value.packetCounter=t.readUInt8(6),this.value.remoteRssi=t.readInt8(7),this.value.localRssi=null,this.onDataCallback(i.clone(this.value))}catch(e){this.logger.warn(e)}}parseTension(e,t){return e.readUInt16LE(t)}parseTemperature(e,t){return e.readInt16LE(t)/4}parseBatteryVoltage(e,t){return e.readInt16LE(t)/1024*3.6}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4),o=r(17),n=r(1),s=r(271),a=r(11),l=r(22),c=r(166);var u,d;!function(e){e[e.ConfigDownload=0]="ConfigDownload",e[e.ConfigUplaod=1]="ConfigUplaod",e[e.Stream=2]="Stream"}(u||(u={})),function(e){e[e.NewDevice=0]="NewDevice",e[e.NewFirmware=1]="NewFirmware",e[e.DifferentConfigNumber=2]="DifferentConfigNumber",e[e.UserRequest=3]="UserRequest"}(d||(d={}));class g extends o.DeviceHandler{constructor(e,t){super(e,t),this.TX_GDN_ACTION_URL="http://future.gdn.jrdltd.co.uk/api/mt-data-add.php",this.logger=n.Logger.getLogger("jrd-hdl-mt"),this.tasks=null,this.activeTask=null,this.streamValue=null,this.streamCounter=0,this.txIdentifier=e.config.Transceiver.Identifier,this.txSoftwareVersion=e.config.Transceiver.Version,this.connection=new s.ConnectionMt(e.adapter,t.peripheral)}handleConnection(){return this.logger.log("info","MT handler started"),Promise.resolve().then(()=>this.pullDatabase()).then(()=>this.execute())}pullDatabase(){return this.findMt().then(e=>{if(null===e)return this.createMt().then(e=>{this.mt=e});this.mt=e}).then(()=>this.findTasks(this.mt.uuid)).then(e=>{this.tasks=e})}findMt(){return this.di.db.MtDAO.findByUuid(this.advert.uuid)}createMt(){const e=this.advert;return this.di.db.MtDAO.create({_id:void 0,uuid:e.uuid,address:e.address,enabled:!0,hidden:!1})}findTasks(e){return this.di.db.TaskDAO.find({order:"-createdOn",skip:0,limit:1,criteria:{uuid:e}})}execute(){if(this.logger.log("info","execute action"),this.updateAdvertisement(),this.isDisabled())return void this.markStatus("Disabled");this.markStatus("Wake Up");const e=this.buildSample();return this.addSample(e),this.addGdnAction(e),this.executeAction().then(()=>{this.markStatus("Success"),this.logger.log("info","MT action successfully completed")}).catch(e=>{throw this.markStatus("Failure",e.message),this.logger.log("error","Cannot execute action",e.message),e})}updateAdvertisement(){let e=this.advert;this.mt.advertisement||(this.mt.advertisement={});let t=this.mt.advertisement;t.timestamp=e.timestamp,t.rssi=e.rssi,t.packetCounter=e.packetCounter,t.configNumber=e.configNumber,t.temperature=e.temperature,t.batteryVoltage=e.batteryVoltage,t.value=e.value,t.restartsUnknown=e.restartsUnknown,t.restartsSoftware=e.restartsSoftware,t.restartsWatchdog=e.restartsWatchdog;try{let t=new l.Data([e.timestamp.getTime(),e.rssi,e.packetCounter,e.configNumber,e.temperature,e.batteryVoltage,e.restartsUnknown,e.restartsSoftware,e.restartsWatchdog,0]);this.sioEmitApp("advert",t.serializeBinary().buffer)}catch(e){this.logger.log("warn",e)}return this.di.db.AdvertDAO.create(e).catch(e=>{this.logger.log("warn","MT cannot store advert",e)}),this.di.db.MtDAO.save(this.mt).then(e=>{this.mt=e,this.logger.log("info","MT advertisement updated")})}isDisabled(){return!this.mt.enabled}markStatus(e,t){this.mt.connection||(this.mt.connection={}),this.mt.connection.status||(this.mt.connection.status={});let r=this.mt.connection.status;return r.timestamp=new Date,r.label=e,r.message=t||"",this.sioEmitMt("status",r),this.logger.log("info","Status",e),this.di.db.MtDAO.save(this.mt).then(t=>{this.mt=t,this.logger.log("info","MT status updated "+e)})}buildSample(){return{uuid:this.advert.uuid,timestamp:this.advert.timestamp,rssi:this.advert.rssi,packetCounter:this.advert.packetCounter,configNumber:this.advert.configNumber,temperature:this.advert.temperature,batteryVoltage:this.advert.batteryVoltage,measurement:this.advert.value,maximumRange:this.mt.config.primary.maximumRange,minimumRange:this.mt.config.primary.minimumRange,maximumUnit:this.mt.config.primary.maximumUnit,minimumUnit:this.mt.config.primary.minimumUnit,maximumAdc:this.mt.config.primary.maximumAdc,minimumAdc:this.mt.config.primary.minimumAdc,restartsUnknown:this.advert.restartsUnknown,restartsSoftware:this.advert.restartsSoftware,restartsWatchdog:this.advert.restartsWatchdog}}addSample(e){try{let t=new c.Data([e.uuid,e.timestamp.getTime(),e.rssi,e.packetCounter,e.configNumber,e.temperature,e.batteryVoltage,e.measurement,e.maximumRange,e.minimumRange,e.maximumUnit,e.minimumUnit,e.maximumAdc,e.minimumAdc,e.restartsUnknown,e.restartsSoftware,e.restartsWatchdog]);this.sioEmitMt("sample",t.serializeBinary().buffer)}catch(e){this.logger.log("warn",e)}this.di.db.MtSampleDAO.create(e).catch(e=>{this.logger.log("warn","MT cannot save sample ",e)})}addGdnAction(e){this.mt.sendToGdn&&this.di.db.GdnActionDAO.create({_id:void 0,centralUuid:this.txIdentifier,requestType:"GET",scriptUrl:this.TX_GDN_ACTION_URL,getParams:this.buildGetParams(e)}).then(()=>{this.logger.info("Gdn action added"),this.sioEmitApp("newGdnAction")}).catch(e=>{this.logger.warn("Cannot add GDN action: ",e)})}buildGetParams(e){return{uuid:e.uuid,timestamp:Math.round(e.timestamp.getTime()/1e3),rssi:e.rssi,packetCounter:e.packetCounter,temperature:e.temperature,batteryVoltage:e.batteryVoltage,measurement:e.measurement,maximumRange:e.maximumRange,minimumRange:e.minimumRange,maximumUnit:e.maximumUnit,minimumUnit:e.minimumUnit,maximumAdc:e.maximumAdc,minimumAdc:e.minimumAdc,centralIdent:this.txIdentifier,centralVersion:this.txSoftwareVersion}}executeAction(){const e=this.getAction();if(!e)return this.logger.log("info","no action"),Promise.resolve();const[t,r]=e;switch(this.logger.log("info",`do ${t} ${r}`),t){case u.ConfigDownload:return this.executeDownloadAction();case u.ConfigUplaod:return this.executeUploadAction();case u.Stream:return this.executeStream()}return Promise.reject(new Error("Unknown task: "+t))}getAction(){let e=this.advert,t=this.mt.config,r=this.tasks;const i=t.primary.configNumber,o=e.configNumber;if(this.logger.log("info","configuraton",JSON.stringify(t)),this.activeTask=null,null===t.timestamp)return[u.ConfigDownload,d.NewDevice];if(255===e.configNumber)return[u.ConfigUplaod,d.NewFirmware];if(i!==o)return[u.ConfigDownload,d.DifferentConfigNumber];if(r.length)switch(this.activeTask=r[0],r[0].command){case"upload":return[u.ConfigUplaod,d.UserRequest];case"download":return[u.ConfigDownload,d.UserRequest];case"stream":return[u.Stream,d.UserRequest]}return null}executeDownloadAction(){this.logger.log("info","Download");let e=0,t=null;return Promise.resolve().then(()=>(e=1,this.startConnection())).then(()=>(e=2,this.connection.config.read())).then(r=>(e=3,this.logger.log("info","Configuration downloaded"),t=r,this.stopConnection())).then(()=>(e=4,this.handleDownloadedConfig(t))).catch(t=>{switch(this.sioEmitMt("config-state","download-error",t),e){case 1:return;case 2:return this.stopConnection()}throw t})}handleDownloadedConfig(e){return this.logger.log("info","Handle downloaded configuration"),i.extend(this.mt.config,e),this.di.db.MtDAO.save(this.mt).then(e=>(this.mt=e,this.emitConfigNumericAction("download"),this.removeActiveTask()))}startConnection(){return this.markStatus("Connecting..."),this.connection.connect().then(()=>(this.logger.log("info","Connected"),this.connection.discover())).then(()=>{this.markStatus("Connected"),this.logger.log("info","Discovered")})}stopConnection(){return this.markStatus("Disconnecting..."),this.connection.disconnect().then(()=>{this.markStatus("Disconnected"),this.logger.log("info","Disconnected")})}emitConfigNumericAction(e){this.sioEmitMt("config-state",e,this.mt.config)}removeActiveTask(){return Promise.resolve().then(()=>{if(null!==this.activeTask){let e=this.activeTask;return this.activeTask=null,this.di.db.TaskDAO.remove(e)}})}executeUploadAction(){return null!==this.activeTask?this.upload(this.activeTask.options):this.prepareConfigToUpload().then(e=>this.upload(e))}upload(e){let t=0;return this.logger.log("info","Upload"),Promise.resolve().then(()=>(t=1,this.startConnection())).then(()=>(t=2,this.connection.config.write(e))).then(()=>(t=3,this.logger.log("info","Configuration uploaded"),this.connection.command.storeConfiguration())).then(()=>new Promise(e=>setTimeout(()=>e(),1e3))).then(()=>(t=4,this.logger.log("info","Configuration commited"),this.connection.command.restart())).then(()=>(t=5,this.logger.log("info","Device restart requested"),this.stopConnection())).then(()=>this.handleUploadedConfig(e)).catch(e=>{switch(this.sioEmitMt("config-state","upload-error",e),t){case 1:return;case 2:case 3:return this.stopConnection()}throw e})}prepareConfigToUpload(){return this.logger.log("info","Copy config (actual->edit)"),Promise.resolve(i.clone(this.mt.config))}handleUploadedConfig(e){return this.logger.log("info","Handle uploaded configuration"),e.primary.configNumber=this.mt.advertisement.configNumber,++e.primary.configNumber>254&&(e.primary.configNumber=0),i.extend(this.mt.config,e),this.di.db.MtDAO.save(this.mt).then(e=>(this.mt=e,this.emitConfigNumericAction("upload"),this.logger.log("info","Configuration upload handled"),this.removeActiveTask()))}executeStream(){let e=0;return Promise.resolve().then(()=>(e=1,this.logger.log("info","Stream"),this.startConnection())).then(()=>(e=2,this.streamStart())).then(()=>(e=3,this.streamRun())).then(()=>(e=4,this.streamCleanup())).then(()=>{this.sioEmitMt("stream-state","completed")}).catch(t=>{switch(this.sioEmitMt("stream-state","error",t.message),this.logger.log("error","stream error",t," state: "+e),e){case 1:return;case 2:return this.streamCleanupDisconnectOnly()}throw t})}streamStart(){return this.connection.stream.start(this.onStreamData.bind(this))}streamCleanupDisconnectOnly(){return this.stopConnection().catch(e=>{this.logger.log("warn","Error during disconnecting")})}streamCleanup(){return this.connection.stream.stop().then(()=>this.stopConnection(),e=>this.stopConnection()).catch(e=>{this.logger.log("warn","Error during data stream cleanup")})}streamRun(){return this.logger.log("info","Started"),this.streamTaskRunner()}onStreamData(e){this.streamValue=e,this.streamCounter++;try{this.sioEmitMt("stream-sample",e)}catch(e){this.logger.log("warn","serialize stream data",e)}}streamTaskRunner(){return this.sioEmitMt("stream-state","started"),new Promise((e,t)=>{let r=0,i=null;const o=()=>{this.adapter.removeListener("deviceDisconnected",n),null!==i&&clearInterval(i)},n=e=>{e.address===this.peripheral.address&&(o(),t(new Error("Remote device disconnected unexpectedly during data stream.")))};this.adapter.on("deviceDisconnected",n),i=setInterval(()=>{++r>=5&&(r=0,this.logger.log("info","Ping"),this.connection.command.ping()),this.streamValue&&(this.logger.log("info",JSON.stringify(this.streamValue,(e,t)=>t&&t.toFixed?parseFloat(t.toFixed(6)):t)),this.logger.log("info","Frequency: "+this.streamCounter),this.streamCounter=0,this.streamValue=null),this.findTaskById(this.activeTask._id).then(t=>{null===t&&(o(),e())}).catch(e=>{this.logger.log("warn","find mt",e),o(),t(e)})},1e3)})}findTaskById(e){return this.di.db.TaskDAO.findById(e)}sioEmitMt(e,...t){this.mt&&this.mt.uuid&&a.TdEvent.emitMt(e,this.mt.uuid,...t)}sioEmitApp(e,...t){this.mt&&this.mt.uuid&&a.TdEvent.emitApp(e,this.mt.uuid,...t)}}t.MtHandler=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(272),o=r(273),n=r(19),s=r(18),a=r(21);class l extends s.Connection{constructor(e,t){super(e,t),this.servicesList=["000016231212efde1523785fdabcd123","000015231212efde1523785fdabcd123"],this.clearCharacteristics()}discover(){return new Promise((e,t)=>{super.discover(this.servicesList).then(r=>{if(this.logger.info("Validate services/characteristics"),this.clearCharacteristics(),Object.keys(r).forEach(e=>{Object.keys(r[e]).forEach(t=>{this.discoverCharacteristic(e,r[e][t])})}),!this.validateCharacteristics()){const e=new Error("Invalid characteristics discovered");return this.logger.info(e.message),void t(e)}this.onCharacteristicsDiscover(),this.logger.info("Services/characteristics valid"),e(r)}).catch(e=>{this.logger.info("Error during validating services/characteristics",e),t(e)})})}clearCharacteristics(){this.indexChar=null,this.valueChar=null,this.streamChar=null}discoverCharacteristic(e,t){switch(e.toLowerCase()){case"000016231212efde1523785fdabcd123":this.discoverConfigurationCharacteristic(t);break;case"000015231212efde1523785fdabcd123":this.discoverStreamCharacteristic(t)}}discoverConfigurationCharacteristic(e){switch(e.uuid.toLowerCase()){case"000016241212efde1523785fdabcd123":this.indexChar=e;break;case"000016251212efde1523785fdabcd123":this.valueChar=e}}discoverStreamCharacteristic(e){switch(e.uuid.toLowerCase()){case"000015331212efde1523785fdabcd123":this.streamChar=e}}validateCharacteristics(){return null!==this.indexChar&&null!==this.valueChar}onCharacteristicsDiscover(){const e=new a.ConfigMessageDpmBcmMt(this.adapter,this.indexChar,this.valueChar);this._config=new i.ConfigMt(e),this._command=new n.CommandV1(this.adapter,this.indexChar,this.valueChar),this._stream=new o.Stream(this.adapter,this.peripheral,{stream:this.streamChar})}get config(){return this._config}get command(){return this._command}get stream(){return this._stream}}t.ConnectionMt=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(20);class o extends i.Config{constructor(e){super(e,[["name","string","rw",1e3,20],["deviceType","uint16","r",0,2],["firmwareVersion","uint16","r",1,2],["configNumber","uint16","r",2,2],["advertInterval","uint16","rw",3,2],["advertWindowNonContactable","uint16","rw",4,2],["advertWindowContactable","uint16","rw",5,2],["nonContactableAdverts","uint16","rw",6,2],["samplingInterval","uint16","rw",7,2],["minimumRange","uint16","rw",8,2],["maximumRange","uint16","rw",9,2],["minimumUnit","uint16","rw",10,2],["maximumUnit","uint16","rw",11,2],["minimumAdc","uint16","rw",12,2],["maximumAdc","uint16","rw",13,2],["sensorType","uint16","rw",14,2],["analogStabilizationTime","uint16","rw",15,2]])}read(){let e={primary:{}};return Promise.resolve().then(()=>this.readPrimary()).then(t=>(e.timestamp=new Date,e.primary.deviceType=this.getNumber(t.deviceType),e.primary.firmwareVersion=this.getNumber(t.firmwareVersion),e.primary.configNumber=this.getNumber(t.configNumber),e.primary.advertInterval=this.getNumber(t.advertInterval),e.primary.advertWindowNonContactable=this.getNumber(t.advertWindowNonContactable),e.primary.advertWindowContactable=this.getNumber(t.advertWindowContactable),e.primary.nonContactableAdverts=this.getNumber(t.nonContactableAdverts),e.primary.samplingInterval=this.getNumber(t.samplingInterval),e.primary.minimumRange=this.getNumber(t.minimumRange),e.primary.maximumRange=this.getNumber(t.maximumRange),e.primary.minimumUnit=this.getNumber(t.minimumUnit),e.primary.maximumUnit=this.getNumber(t.maximumUnit),e.primary.minimumAdc=this.getNumber(t.minimumAdc),e.primary.maximumAdc=this.getNumber(t.maximumAdc),e.primary.sensorType=this.getNumber(t.sensorType),e.primary.analogStabilizationTime=this.getNumber(t.analogStabilizationTime),e.primary.name=this.getString(t.name),e))}getNumber(e){return"number"==typeof e?e:0}getString(e){return"string"==typeof e?e:""}write(e){return Promise.resolve().then(()=>this.writePrimary(e.primary)).then(()=>{e.timestamp=new Date})}}t.ConfigMt=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4),o=r(1);t.Stream=class{constructor(e,t,r){this.adapter=e,this.peripheral=t,this.chars=r,this.logger=o.Logger.getLogger("mt-stream"),this.value={measurement:0,temperature:0,batteryVoltage:0,packetCounter:0,remoteRssi:127,localRssi:127},this.onNotificationReference=null,this.onDataCallback=null}start(e){return Promise.resolve().then(()=>(this.onDataCallback=e,this.adapter.startCharacteristicsNotifications(this.chars.stream))).then(()=>{this.onNotificationReference=this.onNotification.bind(this),this.adapter.on("characteristicValueChanged",this.onNotificationReference)})}stop(){return Promise.resolve().then(()=>(this.onNotificationReference&&(this.adapter.removeListener("characteristicValueChanged",this.onNotificationReference),this.onNotificationReference=null),this.adapter.stopCharacteristicsNotifications(this.chars.stream)))}onNotification(e){try{if(e.instanceId!==this.chars.stream.instanceId)return;const t=Buffer.from(e.value);this.value.measurement=this.parseMeasurement(t,0),this.value.temperature=this.parseTemperature(t,2),this.value.batteryVoltage=this.parseBatteryVoltage(t,4),this.value.packetCounter=t.readUInt8(6),this.value.remoteRssi=t.readInt8(7),this.value.localRssi=null,this.onDataCallback(i.clone(this.value))}catch(e){this.logger.warn(e)}}parseMeasurement(e,t){return e.readUInt16LE(t)}parseTemperature(e,t){return e.readInt16LE(t)/4}parseBatteryVoltage(e,t){return e.readInt16LE(t)/1024*3.6}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(4),n=r(17),s=r(275),a=r(1),l=r(11),c=r(281),u=r(282),d=r(283),g=r(284),p=r(285),h=r(287),m=r(289),f=r(32),y=r(291);var _,S,v;!function(e){e[e.ConfigDownload=0]="ConfigDownload",e[e.ConfigUplaod=1]="ConfigUplaod",e[e.ConfigDownloadUpload=2]="ConfigDownloadUpload",e[e.DataStream=3]="DataStream",e[e.DownloadEvent=4]="DownloadEvent",e[e.DownloadNormal=5]="DownloadNormal",e[e.DownloadAll=6]="DownloadAll",e[e.Idle=7]="Idle"}(_||(_={})),function(e){e[e.Default=0]="Default",e[e.NewDevice=1]="NewDevice",e[e.NewFirmware=2]="NewFirmware",e[e.ConfigNumber=3]="ConfigNumber",e[e.UserRequest=4]="UserRequest"}(S||(S={})),function(e){e[e.Normal=1]="Normal",e[e.Trigger=2]="Trigger"}(v||(v={}));class w extends n.DeviceHandler{constructor(e,t){super(e,t),this.logger=a.Logger.getLogger("jrd-hdl-wa"),this.gdnEndpoints={addSample:"http://10.8.0.1/api/wa-data-add.php",uploadFile:"http://10.8.0.1/api/file-gzdecode-add.php",generateReport:"http://10.8.0.1/api/file-gzdecode-add.php"},this.TX_IDENTIFIER="",this.TX_SOFTWARE_VERSION=3,this.wa=null,this.tasks=null,this.activeTask=null,this.connection=new s.WirelessAccelConnection(e.adapter,t.peripheral,e=>{this.markStatus(e)}),this.TX_IDENTIFIER=e.config.Transceiver.Identifier,this.TX_SOFTWARE_VERSION=e.config.Transceiver.Version}handleConnection(){return i(this,void 0,void 0,(function*(){this.logger.log("info","Wireless accelerometer handler started"),yield this.pullDatabase(),yield this.execute()}))}pullDatabase(){return i(this,void 0,void 0,(function*(){let e=yield this.findWirelessAccel();null===e&&(e=yield this.createWirelessAccel()),this.wa=e,this.tasks=yield this.findTasks(this.wa.uuid)}))}findWirelessAccel(){return i(this,void 0,void 0,(function*(){return this.di.db.WirelessAccelDAO.findByUuid(this.advert.uuid)}))}createWirelessAccel(){return i(this,void 0,void 0,(function*(){const e=this.advert;return this.di.db.WirelessAccelDAO.create({uuid:e.uuid,address:e.address,enabled:!0,hidden:!1})}))}findTasks(e){return i(this,void 0,void 0,(function*(){return this.di.db.TaskDAO.find({order:"-createdOn",skip:0,limit:1,criteria:{uuid:e}})}))}removeActiveTask(){return i(this,void 0,void 0,(function*(){if(null===this.activeTask)return;const e=this.activeTask;this.activeTask=null,yield this.di.db.TaskDAO.remove(e)}))}execute(){return i(this,void 0,void 0,(function*(){if(this.logger.log("info","execute action"),this.updateAdvertisement(),this.isDisabled())this.markStatus("Disabled");else try{this.markStatus("Wake Up"),this.addSample(this.buildSample()),yield this.executeAction(),this.markStatus("Success"),this.logger.log("info","Wireless accel action successfully completed")}catch(e){if(this.markStatus("Failure",e.message),this.logger.log("error","Cannot execute action",e.message),"Connect timed out."===e.message)return;throw e}}))}updateAdvertisement(){return i(this,void 0,void 0,(function*(){const e=this.advert;this.wa.advertisement||(this.wa.advertisement={});const t=this.wa.advertisement;t.timestamp=e.timestamp,t.rssi=e.rssi,t.packetCounter=e.packetCounter,t.configNumber=e.configNumber,t.temperature=e.temperature,t.batteryVoltage=e.batteryVoltage,t.restartsUnknown=e.restartsUnknown,t.restartsSoftware=e.restartsSoftware,t.restartsWatchdog=e.restartsWatchdog,t.event=e.event,t.accx=e.accx,t.accy=e.accy,t.accz=e.accz,t.errors=e.errors;try{const t=f.Serializer.advert(e);this.sioEmitApp("advert",t.serializeBinary().buffer)}catch(e){this.logger.log("warn",e)}try{yield this.di.db.AdvertDAO.create(e)}catch(e){this.logger.warn("Wireless accel cannot store advert",e)}this.wa=yield this.di.db.WirelessAccelDAO.save(this.wa),this.logger.info("Wireless accel advertisement updated")}))}isDisabled(){return!this.wa.enabled}markStatus(e,t){return i(this,void 0,void 0,(function*(){this.wa.connection||(this.wa.connection={}),this.wa.connection.status||(this.wa.connection.status={});let r=this.wa.connection.status;r.timestamp=new Date,r.label=e,r.message=t||"",this.sioEmitWa("status",r),this.logger.log("info","Status",e),this.wa=yield this.di.db.WirelessAccelDAO.save(this.wa),this.logger.info("Wireless accel status updated "+e)}))}addSample(e){return i(this,void 0,void 0,(function*(){try{const t=f.Serializer.sample(e).serializeBinary().buffer;this.sioEmitWa("sample",t)}catch(e){this.logger.log("warn",e)}this.logger.info(JSON.stringify(e,null,2));try{yield this.di.db.WirelessAccelSampleDAO.create(e)}catch(e){this.logger.log("warn","Wireless accel cannot save sample ",e)}this.uploadSampleToGdn(e)}))}uploadSampleToGdn(e){return i(this,void 0,void 0,(function*(){try{if(!this.wa.sendToGdn)return;const t=this.TX_IDENTIFIER,r=this.gdnEndpoints.addSample;yield this.di.db.GdnActionDAO.create({_id:void 0,centralUuid:t,requestType:"GET",scriptUrl:r,getParams:this.buildGetParams(e)}),this.logger.info("Gdn action added"),this.sioEmitApp("newGdnAction")}catch(e){this.logger.warn("Cannot add GDN action: ",e)}}))}executeAction(){return i(this,void 0,void 0,(function*(){const e=this.getAction(),[t,r]=e;switch(this.logger.log("info","do "+t+" "+r),t){case _.ConfigDownload:return this.executeDownloadConfig();case _.ConfigUplaod:return this.executeUploadConfig();case _.ConfigDownloadUpload:return this.executeDownloadUploadConfig();case _.DataStream:return this.executeDataStream();case _.DownloadNormal:return this.executeNormal();case _.DownloadEvent:return this.executeTrigger();case _.DownloadAll:return this.executeTriggerAndNormal();case _.Idle:return}throw new Error("Unknown task: "+t)}))}getAction(){this.activeTask=null;const e=this.getConfigAction();if(null!==e)return e;if(this.tasks&&this.tasks.length>0&&"stream"===this.tasks[0].command)return[_.DataStream,S.Default];const t=this.getLoggingAction();return null!==t?t:[_.Idle,S.Default]}getConfigAction(){const e=this.advert,t=this.wa.remoteConfig,r=this.tasks,i=255&t.primary.configNumber,o=e.configNumber;if(this.logger.log("info","configuraton",JSON.stringify(t)),null===t.timestamp)return[_.ConfigDownload,S.NewDevice];if(255===e.configNumber)return[_.ConfigUplaod,S.NewFirmware];if(254===e.configNumber)return[_.ConfigDownloadUpload,S.NewFirmware];if(i!==o)return[_.ConfigDownload,S.ConfigNumber];if(r.length)switch(this.activeTask=r[0],r[0].command){case"upload":return[_.ConfigUplaod,S.UserRequest];case"download":return[_.ConfigDownload,S.UserRequest]}return null}getLoggingAction(){const e=this.advert,t=this.wa.remoteConfig.primary.modesEnabled,r=e.event;return this.doNormalMode(t,r)&&this.doTriggerMode(t,r)?[_.DownloadAll,S.Default]:this.doNormalMode(t,r)?[_.DownloadNormal,S.Default]:this.doTriggerMode(t,r)?[_.DownloadEvent,S.Default]:null}doNormalMode(e,t){return this.isNormalModeEnabled(e)&&this.isNormalDataAvailable(t)}isNormalModeEnabled(e){return 0!=(e&v.Normal)}isNormalDataAvailable(e){return 0!=(e&v.Normal)}doTriggerMode(e,t){return this.isTriggerModeEnabled(e)&&this.isTriggerDataAvailable(t)}isTriggerModeEnabled(e){return 0!=(e&v.Trigger)}isTriggerDataAvailable(e){return 0!=(e&v.Trigger)}executeDownloadConfig(){return i(this,void 0,void 0,(function*(){yield this.downloadConfig()}))}downloadConfig(){return i(this,void 0,void 0,(function*(){this.logger.log("info","Download");try{const e=new y.TasksRunner(this.connection,[new c.PingTask(this.connection),new d.ConfigDownloadTask({connection:this.connection,postProcess:this.postProcessDownloadedConfig.bind(this)})]);yield e.execute(),yield e.postProcess()}catch(e){throw this.logger.error("config-state","download-error",e),this.sioEmitWa("config-state","download-error",e),e}}))}postProcessDownloadedConfig(e){return i(this,void 0,void 0,(function*(){this.logger.log("info","Handle downloaded configuration"),o.extend(this.wa.remoteConfig,e),this.wa=yield this.di.db.WirelessAccelDAO.save(this.wa),this.emitConfigNumericAction("download"),yield this.removeActiveTask()}))}emitConfigNumericAction(e){this.sioEmitWa("config-state",e,this.wa.remoteConfig)}executeUploadConfig(){return i(this,void 0,void 0,(function*(){null!==this.activeTask?yield this.uploadConfig(this.activeTask.options):(this.logger.log("info","Copy config (actual->edit)"),yield this.uploadConfig(o.clone(this.wa.remoteConfig)))}))}uploadConfig(e){return i(this,void 0,void 0,(function*(){this.logger.log("info","Upload");try{const t=new y.TasksRunner(this.connection,[new c.PingTask(this.connection),new g.ConfigUploadTask(e,{connection:this.connection,postProcess:this.postProcessConfigUpload.bind(this)})]);yield t.execute(),yield t.postProcess()}catch(e){throw this.logger.error("config-state","upload-error",e),this.sioEmitWa("config-state","upload-error",e),e}}))}postProcessConfigUpload(e){return i(this,void 0,void 0,(function*(){this.logger.log("info","Handle uploaded configuration"),e.primary.configNumber=this.wa.advertisement.configNumber,++e.primary.configNumber>=254&&(e.primary.configNumber=0),o.extend(this.wa.remoteConfig,e),this.wa=yield this.di.db.WirelessAccelDAO.save(this.wa),this.emitConfigNumericAction("upload"),this.logger.log("info","Configuration upload handled"),yield this.removeActiveTask()}))}executeDownloadUploadConfig(){return i(this,void 0,void 0,(function*(){this.logger.log("info","Download then upload");try{const e=new y.TasksRunner(this.connection,[new c.PingTask(this.connection),new d.ConfigDownloadTask({connection:this.connection,postProcess:()=>i(this,void 0,void 0,(function*(){}))}),new u.GenericTask({execute:()=>i(this,void 0,void 0,(function*(){return this.postProcessDownloadedConfig.bind(this)})),postProcess:null}),new c.PingTask(this.connection),new g.ConfigUploadTask(this.wa.remoteConfig,{connection:this.connection,postProcess:this.postProcessConfigUpload.bind(this)})]);yield e.execute(),yield e.postProcess()}catch(e){throw this.logger.error("config-state","download-error",e),this.sioEmitWa("config-state","download-error",e),e}}))}executeDataStream(){return i(this,void 0,void 0,(function*(){try{const e=new y.TasksRunner(this.connection,[new c.PingTask(this.connection),new m.DataStreamTask({adapter:this.adapter,connection:this.connection,taskDAO:this.di.db.TaskDAO,config:this.wa.remoteConfig.primary,peripheral:this.peripheral,activeTask:this.activeTask,sioEmit:(e,...t)=>this.sioEmitWa(e,...t)})]);yield e.execute(),yield e.postProcess()}catch(e){throw this.logger.error(`event: ${e.stack||e.message}`),e}}))}executeNormal(){return i(this,void 0,void 0,(function*(){try{const e=new y.TasksRunner(this.connection,[new c.PingTask(this.connection),new p.DataDownloadTask({wa:this.wa,connection:this.connection,advert:this.advert,transceiver:{dataStoragePath:this.di.config.Transceiver.DataStoragePath,identifier:this.TX_IDENTIFIER,softwareVersion:this.TX_SOFTWARE_VERSION},gdn:{uploadFile:e=>this.uploadFileToGdn(e,this.gdnEndpoints.uploadFile)}})]);yield e.execute(),yield e.postProcess()}catch(e){throw this.logger.error(`downlaod data: ${e.stack||e.message}`),e}}))}executeTrigger(){return i(this,void 0,void 0,(function*(){try{const e=new y.TasksRunner(this.connection,[new c.PingTask(this.connection),new h.EventDownloadTask({db:this.di.db,wa:this.wa,connection:this.connection,advert:this.advert,transceiver:{dataStoragePath:this.di.config.Transceiver.DataStoragePath,identifier:this.TX_IDENTIFIER,softwareVersion:this.TX_SOFTWARE_VERSION},gdn:{uploadFile:e=>this.uploadFileToGdn(e,this.gdnEndpoints.generateReport)}})]);yield e.execute(),yield e.postProcess()}catch(e){throw this.logger.error(`event: ${e.stack||e.message}`),e}}))}executeTriggerAndNormal(){return i(this,void 0,void 0,(function*(){try{const e={dataStoragePath:this.di.config.Transceiver.DataStoragePath,identifier:this.TX_IDENTIFIER,softwareVersion:this.TX_SOFTWARE_VERSION},t=new y.TasksRunner(this.connection,[new c.PingTask(this.connection),new p.DataDownloadTask({wa:this.wa,connection:this.connection,advert:this.advert,transceiver:e,gdn:{uploadFile:e=>this.uploadFileToGdn(e,this.gdnEndpoints.uploadFile)}}),new c.PingTask(this.connection),new h.EventDownloadTask({db:this.di.db,wa:this.wa,connection:this.connection,advert:this.advert,transceiver:e,gdn:{uploadFile:e=>this.uploadFileToGdn(e,this.gdnEndpoints.generateReport)}})]);yield t.execute(),yield t.postProcess()}catch(e){throw this.logger.error(`downlaod data: ${e.stack||e.message}`),e}}))}handleData(){return Promise.resolve()}uploadFileToGdn(e,t){return i(this,void 0,void 0,(function*(){try{if(!this.wa.sendToGdn)return;const r=this.TX_IDENTIFIER;yield this.di.db.GdnActionDAO.create({_id:void 0,centralUuid:r,filename:e,requestType:"POST",scriptUrl:t}),this.logger.info("Gdn action added"),this.sioEmitApp("newGdnAction")}catch(e){this.logger.warn("Cannot add GDN action: ",e)}}))}buildSample(){const e=this.advert,t=this.wa.remoteConfig.primary;return{uuid:e.uuid,timestamp:e.timestamp,rssi:e.rssi,packetCounter:e.packetCounter,configNumber:e.configNumber,temperature:e.temperature,batteryVoltage:e.batteryVoltage,restartsUnknown:e.restartsUnknown,restartsSoftware:e.restartsSoftware,restartsWatchdog:e.restartsWatchdog,event:e.event,accx:e.accx,accy:e.accy,accz:e.accz,errors:e.errors,firmwareVersion:t.firmwareVersion}}buildGetParams(e){return{uuid:e.uuid,timestamp:Math.round(e.timestamp.getTime()/1e3),rssi:e.rssi,packetCounter:e.packetCounter,batteryVoltage:e.batteryVoltage,temperature:e.temperature,event:e.event,accx:e.accx,accy:e.accy,accz:e.accz,centralIdent:this.TX_IDENTIFIER,centralVersion:this.TX_SOFTWARE_VERSION,firmwareVersion:e.firmwareVersion}}sioEmitWa(e,...t){this.wa&&this.wa.uuid&&l.TdEvent.emitWirelessAccel(e,this.wa.uuid,...t)}sioEmitApp(e,...t){this.wa&&this.wa.uuid&&l.TdEvent.emitApp(e,this.wa.uuid,...t)}}t.WirelessAccelHandler=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(276),o=r(277),n=r(21),s=r(278),a=r(26),l=r(280);class c{constructor(e,t,r){this.serviceUUID=e,this.controlPointUUID=t,this.packetUUID=r,this.controlPoint=null,this.packet=null}discover(e,t){if(e.toLowerCase()===this.serviceUUID)switch(t.uuid.toLowerCase()){case this.controlPointUUID:this.controlPoint=t;break;case this.packetUUID:this.packet=t}}isValid(){return null!==this.controlPoint&&null!==this.packet}}class u extends o.DeviceConnection{constructor(e,t,r){super(e,t),this.setStatus=r,this.config=null,this.command=null,this.downloadData=null,this.stream=null,this.configService=new c("000016231212efde1523785fdabcd123","000016341212efde1523785fdabcd123","000016351212efde1523785fdabcd123"),this.streamService=new c("000015231212efde1523785fdabcd123","000015241212efde1523785fdabcd123","000015251212efde1523785fdabcd123"),this.downloadService=new c("000017231212efde1523785fdabcd123","000017241212efde1523785fdabcd123","000017251212efde1523785fdabcd123"),this.commandChar=null,this.commandUUID="000016361212efde1523785fdabcd123"}markStatus(e){this.setStatus(e)}discover(){return super.discover([],!0).then(e=>{if(this.logger.debug("Validate services/characteristics"),Object.keys(e).forEach(t=>{Object.keys(e[t]).forEach(r=>{this.discoverCharacteristic(t,e[t][r])})}),!this.validateCharacteristics())throw new Error("Invalid characteristics discovered");return this.onCharacteristicsDiscover(),this.logger.debug("Services/characteristics valid"),e}).catch(e=>{throw this.logger.debug("Error during validating services/characteristics"+e),e})}discoverCharacteristic(e,t){this.configService.discover(e,t),this.downloadService.discover(e,t),this.streamService.discover(e,t),t.uuid.toLowerCase()===this.commandUUID&&(this.commandChar=t)}validateCharacteristics(){return this.configService.isValid()&&this.downloadService.isValid()&&this.streamService.isValid()&&null!==this.commandChar}onCharacteristicsDiscover(){const e=this.adapter,t=this.peripheral;this.config=new i.WirelessAccelConfig(new n.ConfigMessageV2(this.adapter,this.configService.controlPoint,this.configService.packet)),this.command=new s.WirelessAccelCommand(this.adapter,this.commandChar),this.downloadData=new a.DownloadData(e,t,this.downloadService.controlPoint,this.downloadService.packet,this.command.ping.bind(this.command)),this.stream=new l.Stream(this.adapter,this.peripheral,this.streamService.controlPoint,this.streamService.packet)}get Config(){return this.config}get Command(){return this.command}get Download(){return this.downloadData}get Stream(){return this.stream}}t.WirelessAccelConnection=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(20);class o extends i.Config{constructor(e){super(e,[["configNumber","uint32","r",0,4],["deviceType","uint32","r",4,4],["firmwareVersion","uint32","r",8,4],["advertInterval","uint32","rw",12,4],["advertWindow","uint32","rw",16,4],["modesEnabled","uint32","rw",20,4],["ch1Config","uint32","rw",24,4],["ch1Offset","uint32","rw",28,4],["ch1MinDelta","uint32","rw",32,4],["ch1EmiRejRatio","uint32","rw",36,4],["ch1FiltConfig","uint32","rw",40,4],["ch1FiltS1B0","uint32","rw",44,4],["ch1FiltS1B1","uint32","rw",48,4],["ch1FiltS1B2","uint32","rw",52,4],["ch1FiltS1A0","uint32","rw",56,4],["ch1FiltS1A1","uint32","rw",60,4],["ch1FiltS1A2","uint32","rw",64,4],["ch1FiltS1Gain","uint32","rw",68,4],["ch1FiltS2B0","uint32","rw",72,4],["ch1FiltS2B1","uint32","rw",76,4],["ch1FiltS2B2","uint32","rw",80,4],["ch1FiltS2A0","uint32","rw",84,4],["ch1FiltS2A1","uint32","rw",88,4],["ch1FiltS2A2","uint32","rw",92,4],["ch1FiltS2Gain","uint32","rw",96,4],["ch1FiltS3B0","uint32","rw",100,4],["ch1FiltS3B1","uint32","rw",104,4],["ch1FiltS3B2","uint32","rw",108,4],["ch1FiltS3A0","uint32","rw",112,4],["ch1FiltS3A1","uint32","rw",116,4],["ch1FiltS3A2","uint32","rw",120,4],["ch1FiltS3Gain","uint32","rw",124,4],["ch2Config","uint32","rw",128,4],["ch2Offset","uint32","rw",132,4],["ch2MinDelta","uint32","rw",136,4],["ch2EmiRejRatio","uint32","rw",140,4],["ch2FiltConfig","uint32","rw",144,4],["ch2FiltS1B0","uint32","rw",148,4],["ch2FiltS1B1","uint32","rw",152,4],["ch2FiltS1B2","uint32","rw",156,4],["ch2FiltS1A0","uint32","rw",160,4],["ch2FiltS1A1","uint32","rw",164,4],["ch2FiltS1A2","uint32","rw",168,4],["ch2FiltS1Gain","uint32","rw",172,4],["ch2FiltS2B0","uint32","rw",176,4],["ch2FiltS2B1","uint32","rw",180,4],["ch2FiltS2B2","uint32","rw",184,4],["ch2FiltS2A0","uint32","rw",188,4],["ch2FiltS2A1","uint32","rw",192,4],["ch2FiltS2A2","uint32","rw",196,4],["ch2FiltS2Gain","uint32","rw",200,4],["ch2FiltS3B0","uint32","rw",204,4],["ch2FiltS3B1","uint32","rw",208,4],["ch2FiltS3B2","uint32","rw",212,4],["ch2FiltS3A0","uint32","rw",216,4],["ch2FiltS3A1","uint32","rw",220,4],["ch2FiltS3A2","uint32","rw",224,4],["ch2FiltS3Gain","uint32","rw",228,4],["ch3Config","uint32","rw",232,4],["ch3Offset","uint32","rw",236,4],["ch3MinDelta","uint32","rw",240,4],["ch3EmiRejRatio","uint32","rw",244,4],["ch3FiltConfig","uint32","rw",248,4],["ch3FiltS1B0","uint32","rw",252,4],["ch3FiltS1B1","uint32","rw",256,4],["ch3FiltS1B2","uint32","rw",260,4],["ch3FiltS1A0","uint32","rw",264,4],["ch3FiltS1A1","uint32","rw",268,4],["ch3FiltS1A2","uint32","rw",272,4],["ch3FiltS1Gain","uint32","rw",276,4],["ch3FiltS2B0","uint32","rw",280,4],["ch3FiltS2B1","uint32","rw",284,4],["ch3FiltS2B2","uint32","rw",288,4],["ch3FiltS2A0","uint32","rw",292,4],["ch3FiltS2A1","uint32","rw",296,4],["ch3FiltS2A2","uint32","rw",300,4],["ch3FiltS2Gain","uint32","rw",304,4],["ch3FiltS3B0","uint32","rw",308,4],["ch3FiltS3B1","uint32","rw",312,4],["ch3FiltS3B2","uint32","rw",316,4],["ch3FiltS3A0","uint32","rw",320,4],["ch3FiltS3A1","uint32","rw",324,4],["ch3FiltS3A2","uint32","rw",328,4],["ch3FiltS3Gain","uint32","rw",332,4],["xlTapDelta","uint32","rw",338,4],["name","string","rw",400,4]])}read(){return this.readPrimary().then(e=>{const t={timestamp:new Date,primary:{}};for(const r of this.fields){const i=r[0];t.primary[i]=this.getNumber(e[i])}return t.primary.name=this.getString(e.name),t})}getNumber(e){return"number"==typeof e?e:0}getString(e){return"string"==typeof e?e:""}write(e){return Promise.resolve().then(()=>this.writePrimary(e.primary)).then(()=>{e.timestamp=new Date})}}t.WirelessAccelConfig=o},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(18);class n extends o.Connection{startConnection(){return i(this,void 0,void 0,(function*(){return Promise.resolve().then(()=>(this.markStatus("Connecting..."),this.connect())).then(()=>(this.logger.info("Connected"),this.discover())).then(()=>{this.logger.info("Discovered"),this.markStatus("Connected")})}))}stopConnection(){return i(this,void 0,void 0,(function*(){return Promise.resolve().then(()=>(this.markStatus("Disconnecting..."),this.disconnect())).then(()=>{this.markStatus("Disconnected")})}))}}t.DeviceConnection=n},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(279),n=r(19),s=r(1);var a;!function(e){e[e.ConfigCommit=0]="ConfigCommit",e[e.ConfigRestoreDefaults=1]="ConfigRestoreDefaults",e[e.SystemReset=2]="SystemReset",e[e.SystemHeartbeat=3]="SystemHeartbeat",e[e.SystemSetTime=4]="SystemSetTime",e[e.SystemGetTime=5]="SystemGetTime",e[e.SystemGetLastError=6]="SystemGetLastError",e[e.SystemEnableTimeSync=7]="SystemEnableTimeSync",e[e.DeviceEventRequestStart=128]="DeviceEventRequestStart",e[e.DeviceEventRequestComplete=129]="DeviceEventRequestComplete"}(a||(a={}));class l extends n.Command{constructor(e,t){super(e),this.tdAdapter=e,this.commandChar=t,this.logger=s.Logger.getLogger("wa-cmd")}storeConfiguration(){return i(this,void 0,void 0,(function*(){yield this.command(Buffer.alloc(1,a.ConfigCommit))}))}restoreConfiguration(){return i(this,void 0,void 0,(function*(){yield this.command(Buffer.alloc(1,a.ConfigRestoreDefaults))}))}restart(){return i(this,void 0,void 0,(function*(){this.logger.warn("reset command"),yield this.command(Buffer.alloc(1,a.SystemReset))}))}ping(){return i(this,void 0,void 0,(function*(){yield this.command(Buffer.alloc(1,a.SystemHeartbeat))}))}requestLastError(){return i(this,void 0,void 0,(function*(){yield this.command(Buffer.alloc(1,a.SystemGetLastError))}))}enableTimeSync(){return i(this,void 0,void 0,(function*(){yield this.command(Buffer.alloc(1,a.SystemEnableTimeSync))}))}eventRequest(){return i(this,void 0,void 0,(function*(){this.logger.info("request event");const e=yield this.command(Buffer.alloc(1,a.DeviceEventRequestStart)),t=new o.Uint64LE(e.slice(4,12)).toNumber();if(e.length<12)throw new Error("Invalid event request response");return{delta:e.readUInt32LE(0),timestamp:t,channel:e.readUInt32LE(12)}}))}eventRequestComplete(){return i(this,void 0,void 0,(function*(){yield this.command(Buffer.alloc(1,a.DeviceEventRequestComplete))}))}command(e){return i(this,void 0,void 0,(function*(){let t;t=!0;try{t=!1,yield this.startNotifications(this.commandChar),t=!0;const r=yield this.sendCommand(e);return t=!1,yield this.stopNotifications(this.commandChar),r}catch(e){throw!0===t&&(yield this.tryStopNotifications()),e}}))}tryStopNotifications(){return i(this,void 0,void 0,(function*(){try{yield this.stopNotifications(this.commandChar)}catch(e){}}))}sendCommand(e){return new Promise((t,r)=>{const i=e=>{if(e.instanceId!==this.commandChar.instanceId)return;this.adapter.removeListener("characteristicValueChanged",i);const o=new Buffer(e.value);o.readUInt8(0)!==n.CommandResult.ACK?r(new Error("Command not acknowledged.")):t(o.slice(1))};this.adapter.on("characteristicValueChanged",i),this.writeChar(this.commandChar,e).catch(e=>{this.adapter.removeListener("characteristicValueChanged",i),r(e)})})}syncTimeBluetooth(){return i(this,void 0,void 0,(function*(){const e=Buffer.alloc(12);e.writeUInt8(a.SystemSetTime,0),e.writeUIntLE(Date.now(),3,6),e.writeUInt16LE(0,9),yield this.startNotifications(this.commandChar),yield this.writeChar(this.commandChar,e),yield this.stopNotifications(this.commandChar)}))}syncTime(){return i(this,void 0,void 0,(function*(){return this.syncTimeBluetooth()}))}}t.WirelessAccelCommand=l},function(e,t,r){!function(e){var t,r="undefined",i=r!==typeof Buffer&&Buffer,o=r!==typeof Uint8Array&&Uint8Array,n=r!==typeof ArrayBuffer&&ArrayBuffer,s=[0,0,0,0,0,0,0,0],a=Array.isArray||function(e){return!!e&&"[object Array]"==Object.prototype.toString.call(e)},l=4294967296,c=16777216;function u(a,u,w){var b=u?0:4,M=u?4:0,T=u?0:3,A=u?1:2,D=u?2:1,L=u?3:0,E=u?y:S,F=u?_:v,C=O.prototype,k="is"+a,R="_"+k;return C.buffer=void 0,C.offset=0,C[R]=!0,C.toNumber=N,C.toString=function(e){var t=this.buffer,r=this.offset,i=I(t,r+b),o=I(t,r+M),n="",s=!w&&2147483648&i;s&&(i=~i,o=l-o);e=e||10;for(;;){var a=i%e*l+o;if(i=Math.floor(i/e),o=Math.floor(a/e),n=(a%e).toString(e)+n,!i&&!o)break}s&&(n="-"+n);return n},C.toJSON=N,C.toArray=d,i&&(C.toBuffer=g),o&&(C.toArrayBuffer=p),O[k]=function(e){return!(!e||!e[R])},e[a]=O,O;function O(e,i,a,c){return this instanceof O?function(e,i,a,c,u){o&&n&&(i instanceof n&&(i=new o(i)),c instanceof n&&(c=new o(c)));if(!(i||a||c||t))return void(e.buffer=f(s,0));if(!h(i,a)){var d=t||Array;u=a,c=i,a=0,i=new d(8)}if(e.buffer=i,e.offset=a|=0,r===typeof c)return;"string"==typeof c?function(e,t,r,i){var o=0,n=r.length,s=0,a=0;"-"===r[0]&&o++;var c=o;for(;o<n;){var u=parseInt(r[o++],i);if(!(u>=0))break;a=a*i+u,s=s*i+Math.floor(a/l),a%=l}c&&(s=~s,a?a=l-a:s++);W(e,t+b,s),W(e,t+M,a)}(i,a,c,u||10):h(c,u)?m(i,a,c,u):"number"==typeof u?(W(i,a+b,c),W(i,a+M,u)):c>0?E(i,a,c):c<0?F(i,a,c):m(i,a,s,0)}(this,e,i,a,c):new O(e,i,a,c)}function N(){var e=this.buffer,t=this.offset,r=I(e,t+b),i=I(e,t+M);return w||(r|=0),r?r*l+i:i}function W(e,t,r){e[t+L]=255&r,r>>=8,e[t+D]=255&r,r>>=8,e[t+A]=255&r,r>>=8,e[t+T]=255&r}function I(e,t){return e[t+T]*c+(e[t+A]<<16)+(e[t+D]<<8)+e[t+L]}}function d(e){var r=this.buffer,i=this.offset;return t=null,!1!==e&&a(r)?8===r.length?r:r.slice(i,i+8):f(r,i)}function g(e){var r=this.buffer,o=this.offset;return t=i,!1!==e&&i.isBuffer(r)?8===r.length?r:r.slice(o,o+8):i.from(p.call(this,e))}function p(e){var r=this.buffer,i=this.offset,s=r.buffer;if(t=o,!1!==e&&!r.offset&&s instanceof n)return 8===s.byteLength?s:s.slice(i,i+8);var a=new o(8);return m(a,0,r,i),a.buffer}function h(e,t){var r=e&&e.length;return t|=0,r&&t+8<=r&&"string"!=typeof e[t]}function m(e,t,r,i){t|=0,i|=0;for(var o=0;o<8;o++)e[t++]=255&r[i++]}function f(e,t){return Array.prototype.slice.call(e,t,t+8)}function y(e,t,r){for(var i=t+8;i>t;)e[--i]=255&r,r/=256}function _(e,t,r){var i=t+8;for(r++;i>t;)e[--i]=255&-r^255,r/=256}function S(e,t,r){for(var i=t+8;t<i;)e[t++]=255&r,r/=256}function v(e,t,r){var i=t+8;for(r++;t<i;)e[t++]=255&-r^255,r/=256}u("Uint64BE",!0,!0),u("Int64BE",!0,!1),u("Uint64LE",!1,!0),u("Int64LE",!1,!1)}("string"!=typeof t.nodeName?t:this||{})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4),o=r(29),n=r(1);t.Stream=class{constructor(e,t,r,i){this.adapter=e,this.device=t,this.controlPoint=r,this.packet=i,this.logger=n.Logger.getLogger("wa-stream"),this.onDataCallback=null,this.onNotificationReference=null,this.onDisconnectedReference=null}start(e,t){return this.onDataCallback=t,this.startAllNotifications().then(()=>this.startStream(e.freq)).then(()=>this.adapter.gapStartRSSI(this.device)).then(()=>{this.setupNotificationHandler()})}startAllNotifications(){return this.adapter.startCharacteristicsNotifications(this.controlPoint).then(()=>this.adapter.startCharacteristicsNotifications(this.packet))}startStream(e=10){const t=Buffer.from([1,0,0]);return t.writeUInt16LE(e,1),this.sendAndReceive(t)}setupNotificationHandler(){this.onNotificationReference=this.onNotification.bind(this),this.adapter.on("characteristicValueChanged",this.onNotificationReference),this.onDisconnectedReference=this.onDisconnected.bind(this),this.adapter.on("deviceDisconnected",this.onDisconnectedReference)}stop(){return this.cleanupNotificationHandler(),this.logger.info("gapStopRSSI"),this.adapter.gapStopRSSI(this.device).then(()=>this.delay(1e3)).then(()=>this.stopStream()).then(()=>this.stopAllNotifications())}delay(e){return new Promise(t=>setTimeout(t,e))}cleanupNotificationHandler(){this.onNotificationReference&&(this.adapter.removeListener("characteristicValueChanged",this.onNotificationReference),this.onNotificationReference=null),this.onDisconnectedReference&&(this.adapter.removeListener("deviceDisconnected",this.onDisconnectedReference),this.onDisconnectedReference=null)}stopStream(){return this.sendAndReceive(Buffer.from([0]))}stopAllNotifications(){return this.adapter.stopCharacteristicsNotifications(this.controlPoint).then(()=>this.adapter.stopCharacteristicsNotifications(this.packet))}onDisconnected(){this.cleanupNotificationHandler()}onNotification(e){try{if(e.instanceId!==this.packet.instanceId)return;const t=Buffer.from(e.value);let r=0;const n=t.readUInt16LE(r);r+=2;const s=t.readInt16LE(r);r+=2;const a=t.readUInt16LE(r);r+=2;const l=t.readInt16LE(r);r+=2;const c=t.readInt16LE(r);r+=2;const u=t.readInt16LE(r);r+=2;const d=t.readInt16LE(r);r+=2;const g=t.readInt16LE(r);r+=2;const p=t.readInt16LE(r);r+=2;const h=t.readInt8(r);r+=1;const m={packetCounter:n,remoteRssi:h,localRssi:this.device.rssi,temperatureRaw:s,temperature:o.Converter.intTempToDegC(s),batteryVoltageRaw:a,batteryVoltage:o.Converter.vbatToVolts(a),sensorGyroXRaw:l,sensorGyroX:o.Converter.sensGyroToDps(l),sensorGyroYRaw:c,sensorGyroY:o.Converter.sensGyroToDps(c),sensorGyroZRaw:u,sensorGyroZ:o.Converter.sensGyroToDps(u),sensorAccelXRaw:d,sensorAccelX:o.Converter.sensAccelToG(d),sensorAccelYRaw:g,sensorAccelY:o.Converter.sensAccelToG(g),sensorAccelZRaw:p,sensorAccelZ:o.Converter.sensAccelToG(p)};this.onDataCallback&&this.onDataCallback(i.clone(m))}catch(e){this.logger.warn(e)}}sendAndReceive(e){return new Promise((t,r)=>{if(null===this.controlPoint||null===this.packet)return r(new Error("Cannot send and receive data"));const i=()=>{this.adapter.removeListener("deviceDisconnected",o),this.adapter.removeListener("characteristicValueChanged",n)},o=e=>{e.instanceId===this.device.instanceId&&(i(),r(new Error("Device disconnected during data download")))},n=e=>{e.instanceId===this.controlPoint.instanceId&&(e=>{0!==e.readUInt8(0)?(i(),r(new Error("Cannot download header: no ack"))):t()})(new Buffer(e.value))};this.adapter.on("deviceDisconnected",o),this.adapter.on("characteristicValueChanged",n),this.adapter.writeCharacteristicValue(this.controlPoint,e).catch(e=>{i(),r(e)})})}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.PingTask=class{constructor(e){this.connection=e,this.logger=o.Logger.getLogger("wa-ping"),this.taskSuccess=!1}get Name(){return"PingTask"}execute(){return i(this,void 0,void 0,(function*(){this.logger.info("ping"),yield this.connection.Command.ping(),this.taskSuccess=!0}))}completedWithSuccess(){return this.taskSuccess}postProcess(){return i(this,void 0,void 0,(function*(){return Promise.resolve()}))}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});t.GenericTask=class{constructor(e){this.di=e,this.taskSuccess=!1}get Name(){return"GenericTask"}execute(){return i(this,void 0,void 0,(function*(){this.di.execute&&(yield this.di.execute()),this.taskSuccess=!0}))}completedWithSuccess(){return this.taskSuccess}postProcess(){return i(this,void 0,void 0,(function*(){this.di.postProcess&&(yield this.di.postProcess())}))}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.ConfigDownloadTask=class{constructor(e){this.di=e,this.logger=o.Logger.getLogger("wa-cfg-dld"),this.taskSuccess=!1,this.config=null}get Name(){return"ConfigDownloadTask"}execute(){return i(this,void 0,void 0,(function*(){this.logger.info("Download accelerometer data"),this.config=yield this.di.connection.Config.read(),this.logger.info("Configuration downloaded"),this.taskSuccess=!0}))}completedWithSuccess(){return this.taskSuccess}postProcess(){return i(this,void 0,void 0,(function*(){yield this.di.postProcess(this.config)}))}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.ConfigUploadTask=class{constructor(e,t){this.config=e,this.di=t,this.logger=o.Logger.getLogger("wa-cfg-dld"),this.taskSuccess=!1}get Name(){return"ConfigUploadTask"}execute(){return i(this,void 0,void 0,(function*(){this.logger.info("Upload configuration"),yield this.di.connection.Config.write(this.config),this.logger.log("info","Configuration uploaded"),yield this.di.connection.Command.storeConfiguration(),this.taskSuccess=!0}))}completedWithSuccess(){return this.taskSuccess}postProcess(){return i(this,void 0,void 0,(function*(){yield this.di.postProcess(this.config)}))}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(24),n=r(10),s=r(168),a=r(1),l=r(32);t.DataDownloadTask=class{constructor(e){this.di=e,this.logger=a.Logger.getLogger("wa-data-dld"),this.taskSuccess=!1,this.data=null}get Name(){return"DataDownloadTask"}execute(){return i(this,void 0,void 0,(function*(){this.logger.info("Download data");const e=yield this.di.connection.Download.download();if(!e)throw new Error("Invalid data downloaded");this.logger.info("Data downloaded: "+e.length),this.data=e,this.taskSuccess=!0}))}completedWithSuccess(){return this.taskSuccess}postProcess(){return i(this,void 0,void 0,(function*(){try{if(!this.data)throw new Error("Invalid data downloaded");const e=this.processAccelGyroData(this.data);let t=this.buildFileName();yield s.Utils.mkdirp(n.dirname(t)),t=yield s.Utils.saveFile(t,this.prepareData(e)),this.logger.info(`saved: ${t}`),yield this.di.gdn.uploadFile(t)}catch(e){this.logger.error("Cannot process data",e.message)}}))}processAccelGyroData(e){if(e.length<99600)throw new Error("Invalid data, not enough");let t=0;const r=[[],[],[]],i=[[],[],[]];for(;t<e.length;){for(let i=0;i<3;i++)r[i].push(e.readInt16LE(t)),t+=2;for(let r=0;r<3;r++)i[r].push(e.readInt16LE(t)),t+=2}return{accel:r,gyro:i}}buildFileName(){const e=this.di.transceiver.dataStoragePath,t=this.di.wa.uuid;return s.Utils.buildFileName(e,t,new Date,"wad")}prepareData(e){const t=this.di.wa,r=this.di.advert,i=l.Serializer.file({timestamp:r.timestamp,remoteDevice:l.Serializer.remoteDevice(t),remoteStatus:l.Serializer.remoteStatus(r),remoteConfig:l.Serializer.remoteConfig(t),localDevice:l.Serializer.localDevice({identifier:this.di.transceiver.identifier,firmwareVersion:this.di.transceiver.softwareVersion}),localStatus:l.Serializer.localStatus({uptime:o.uptime()}),localConfig:l.Serializer.localConfig(),acceleration:l.Serializer.accelData(1666,e.accel),gyroscope:l.Serializer.gyroData(1666,e.gyro)});return Buffer.from(i.serializeBinary().buffer)}}},function(e,t,r){var i=r(5),o=i,n=Function("return this")();o.exportSymbol("proto.WirelessAccelSample.Data",null,n),o.exportSymbol("proto.WirelessAccelSample.DataArray",null,n),proto.WirelessAccelSample.Data=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.WirelessAccelSample.Data,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelSample.Data.displayName="proto.WirelessAccelSample.Data"),i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelSample.Data.prototype.toObject=function(e){return proto.WirelessAccelSample.Data.toObject(e,this)},proto.WirelessAccelSample.Data.toObject=function(e,t){var r={uuid:t.getUuid(),timestamp:t.getTimestamp(),rssi:t.getRssi(),packetCounter:t.getPacketCounter(),configNumber:t.getConfigNumber(),batteryVoltage:t.getBatteryVoltage(),temperature:t.getTemperature(),restartsUnknown:t.getRestartsUnknown(),restartsSoftware:t.getRestartsSoftware(),restartsWatchdog:t.getRestartsWatchdog(),firmwareVersion:t.getFirmwareVersion(),errors:t.getErrors(),event:t.getEvent(),accx:t.getAccx(),accy:t.getAccy(),accz:t.getAccz()};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelSample.Data.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelSample.Data;return proto.WirelessAccelSample.Data.deserializeBinaryFromReader(r,t)},proto.WirelessAccelSample.Data.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setUuid(r);break;case 2:r=t.readInt64();e.setTimestamp(r);break;case 3:r=t.readSint32();e.setRssi(r);break;case 4:r=t.readUint32();e.setPacketCounter(r);break;case 5:r=t.readUint32();e.setConfigNumber(r);break;case 6:r=t.readFloat();e.setBatteryVoltage(r);break;case 7:r=t.readFloat();e.setTemperature(r);break;case 9:r=t.readUint32();e.setRestartsUnknown(r);break;case 10:r=t.readUint32();e.setRestartsSoftware(r);break;case 11:r=t.readUint32();e.setRestartsWatchdog(r);break;case 12:r=t.readUint32();e.setFirmwareVersion(r);break;case 13:r=t.readUint32();e.setErrors(r);break;case 14:r=t.readUint32();e.setEvent(r);break;case 15:r=t.readFloat();e.setAccx(r);break;case 16:r=t.readFloat();e.setAccy(r);break;case 17:r=t.readFloat();e.setAccz(r);break;default:t.skipField()}}return e},proto.WirelessAccelSample.Data.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelSample.Data.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelSample.Data.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getUuid()).length>0&&e.writeString(1,t),0!==(t=this.getTimestamp())&&e.writeInt64(2,t),0!==(t=this.getRssi())&&e.writeSint32(3,t),0!==(t=this.getPacketCounter())&&e.writeUint32(4,t),0!==(t=this.getConfigNumber())&&e.writeUint32(5,t),0!==(t=this.getBatteryVoltage())&&e.writeFloat(6,t),0!==(t=this.getTemperature())&&e.writeFloat(7,t),0!==(t=this.getRestartsUnknown())&&e.writeUint32(9,t),0!==(t=this.getRestartsSoftware())&&e.writeUint32(10,t),0!==(t=this.getRestartsWatchdog())&&e.writeUint32(11,t),0!==(t=this.getFirmwareVersion())&&e.writeUint32(12,t),0!==(t=this.getErrors())&&e.writeUint32(13,t),0!==(t=this.getEvent())&&e.writeUint32(14,t),0!==(t=this.getAccx())&&e.writeFloat(15,t),0!==(t=this.getAccy())&&e.writeFloat(16,t),0!==(t=this.getAccz())&&e.writeFloat(17,t)},proto.WirelessAccelSample.Data.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelSample.Data.prototype.getUuid=function(){return i.Message.getFieldProto3(this,1,"")},proto.WirelessAccelSample.Data.prototype.setUuid=function(e){i.Message.setField(this,1,e)},proto.WirelessAccelSample.Data.prototype.getTimestamp=function(){return i.Message.getFieldProto3(this,2,0)},proto.WirelessAccelSample.Data.prototype.setTimestamp=function(e){i.Message.setField(this,2,e)},proto.WirelessAccelSample.Data.prototype.getRssi=function(){return i.Message.getFieldProto3(this,3,0)},proto.WirelessAccelSample.Data.prototype.setRssi=function(e){i.Message.setField(this,3,e)},proto.WirelessAccelSample.Data.prototype.getPacketCounter=function(){return i.Message.getFieldProto3(this,4,0)},proto.WirelessAccelSample.Data.prototype.setPacketCounter=function(e){i.Message.setField(this,4,e)},proto.WirelessAccelSample.Data.prototype.getConfigNumber=function(){return i.Message.getFieldProto3(this,5,0)},proto.WirelessAccelSample.Data.prototype.setConfigNumber=function(e){i.Message.setField(this,5,e)},proto.WirelessAccelSample.Data.prototype.getBatteryVoltage=function(){return i.Message.getFieldProto3(this,6,0)},proto.WirelessAccelSample.Data.prototype.setBatteryVoltage=function(e){i.Message.setField(this,6,e)},proto.WirelessAccelSample.Data.prototype.getTemperature=function(){return i.Message.getFieldProto3(this,7,0)},proto.WirelessAccelSample.Data.prototype.setTemperature=function(e){i.Message.setField(this,7,e)},proto.WirelessAccelSample.Data.prototype.getRestartsUnknown=function(){return i.Message.getFieldProto3(this,9,0)},proto.WirelessAccelSample.Data.prototype.setRestartsUnknown=function(e){i.Message.setField(this,9,e)},proto.WirelessAccelSample.Data.prototype.getRestartsSoftware=function(){return i.Message.getFieldProto3(this,10,0)},proto.WirelessAccelSample.Data.prototype.setRestartsSoftware=function(e){i.Message.setField(this,10,e)},proto.WirelessAccelSample.Data.prototype.getRestartsWatchdog=function(){return i.Message.getFieldProto3(this,11,0)},proto.WirelessAccelSample.Data.prototype.setRestartsWatchdog=function(e){i.Message.setField(this,11,e)},proto.WirelessAccelSample.Data.prototype.getFirmwareVersion=function(){return i.Message.getFieldProto3(this,12,0)},proto.WirelessAccelSample.Data.prototype.setFirmwareVersion=function(e){i.Message.setField(this,12,e)},proto.WirelessAccelSample.Data.prototype.getErrors=function(){return i.Message.getFieldProto3(this,13,0)},proto.WirelessAccelSample.Data.prototype.setErrors=function(e){i.Message.setField(this,13,e)},proto.WirelessAccelSample.Data.prototype.getEvent=function(){return i.Message.getFieldProto3(this,14,0)},proto.WirelessAccelSample.Data.prototype.setEvent=function(e){i.Message.setField(this,14,e)},proto.WirelessAccelSample.Data.prototype.getAccx=function(){return i.Message.getFieldProto3(this,15,0)},proto.WirelessAccelSample.Data.prototype.setAccx=function(e){i.Message.setField(this,15,e)},proto.WirelessAccelSample.Data.prototype.getAccy=function(){return i.Message.getFieldProto3(this,16,0)},proto.WirelessAccelSample.Data.prototype.setAccy=function(e){i.Message.setField(this,16,e)},proto.WirelessAccelSample.Data.prototype.getAccz=function(){return i.Message.getFieldProto3(this,17,0)},proto.WirelessAccelSample.Data.prototype.setAccz=function(e){i.Message.setField(this,17,e)},proto.WirelessAccelSample.DataArray=function(e){i.Message.initialize(this,e,0,-1,proto.WirelessAccelSample.DataArray.repeatedFields_,null)},o.inherits(proto.WirelessAccelSample.DataArray,i.Message),o.DEBUG&&!COMPILED&&(proto.WirelessAccelSample.DataArray.displayName="proto.WirelessAccelSample.DataArray"),proto.WirelessAccelSample.DataArray.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.WirelessAccelSample.DataArray.prototype.toObject=function(e){return proto.WirelessAccelSample.DataArray.toObject(e,this)},proto.WirelessAccelSample.DataArray.toObject=function(e,t){var r={samplesList:i.Message.toObjectList(t.getSamplesList(),proto.WirelessAccelSample.Data.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.WirelessAccelSample.DataArray.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.WirelessAccelSample.DataArray;return proto.WirelessAccelSample.DataArray.deserializeBinaryFromReader(r,t)},proto.WirelessAccelSample.DataArray.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.WirelessAccelSample.Data;t.readMessage(r,proto.WirelessAccelSample.Data.deserializeBinaryFromReader),e.getSamplesList().push(r),e.setSamplesList(e.getSamplesList());break;default:t.skipField()}}return e},proto.WirelessAccelSample.DataArray.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.WirelessAccelSample.DataArray.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.WirelessAccelSample.DataArray.prototype.serializeBinaryToWriter=function(e){var t;(t=this.getSamplesList()).length>0&&e.writeRepeatedMessage(1,t,proto.WirelessAccelSample.Data.serializeBinaryToWriter)},proto.WirelessAccelSample.DataArray.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.WirelessAccelSample.DataArray.prototype.getSamplesList=function(){return i.Message.getRepeatedWrapperField(this,proto.WirelessAccelSample.Data,1)},proto.WirelessAccelSample.DataArray.prototype.setSamplesList=function(e){i.Message.setRepeatedWrapperField(this,1,e)},proto.WirelessAccelSample.DataArray.prototype.clearSamplesList=function(){this.setSamplesList([])},o.object.extend(t,proto.WirelessAccelSample)},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(16),n=r(29),s=r(1),a=r(288);t.EventDownloadTask=class{constructor(e){this.di=e,this.logger=s.Logger.getLogger("wa-evt-dld"),this.debugData=!1,this.descriptor=null,this.data=null,this.taskSuccess=!1}get Name(){return"EventDownloadTask"}execute(){return i(this,void 0,void 0,(function*(){const e=this.di.connection.Command,t=this.di.connection.Download;yield e.syncTime(),yield e.ping(),this.logger.info("Time synchronized"),this.descriptor=yield e.eventRequest(),yield e.ping(),this.logger.info("event description: "+JSON.stringify(this.descriptor)),this.data=yield t.download(),yield e.ping(),this.logger.info("Event download completed"),yield e.eventRequestComplete(),yield e.ping(),this.logger.info("OK"),this.taskSuccess=!0}))}completedWithSuccess(){return this.taskSuccess}postProcess(){return i(this,void 0,void 0,(function*(){if(null===this.descriptor||null===this.data)throw new Error("Event data is missing");this.logger.info("data size: "+this.data.length);const e={desc:this.descriptor,data:this.parseData(this.data),raw:this.data};this.debugData&&this.writeDebugData(e),yield this.handleEvent(e)}))}parseData(e){const t=[];for(let e=0;e<3;e++)t[e]=[];for(let r=0;r<e.length;r+=2){t[r/2%3].push(e.readInt16LE(r))}return t}writeDebugData(e){let t="",r=0;for(const i of e.data){for(const e of i)t+=`${n.Converter.sensAccelToG(e)}\n`;r++}o.writeFileSync(`/home/td/TEST_LOGS/testLog_${r}.log`,t),o.writeFileSync("/home/td/TEST_LOGS/AllBuffer.txt",e.raw)}handleEvent(e){return i(this,void 0,void 0,(function*(){const t=new a.EventHandler({db:this.di.db,wa:this.di.wa,txIdentifier:this.di.transceiver.identifier,txSoftwareVersion:this.di.transceiver.softwareVersion,storagePath:this.di.transceiver.dataStoragePath,gdn:{uploadFile:this.di.gdn.uploadFile}});yield t.handleEvent(e)}))}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(10),n=r(168),s=r(32),a=r(1);t.EventHandler=class{constructor(e){this.di=e,this.logger=a.Logger.getLogger("wa-event")}handleEvent(e){return i(this,void 0,void 0,(function*(){try{const t=e.desc.delta,r=e.desc.channel,i=new Date(e.desc.timestamp);let s=this.buildFileName(i);yield n.Utils.mkdirp(o.dirname(s));const a=yield this.findGnssLocations(),l=this.findClosestLocation(a,i),c=yield this.buildWaadFile(e,a);if(s=yield n.Utils.saveFile(s,c),this.logger.info(`filename: ${s}`),null===l)throw new Error("No GNSS stamps.");this.validateSpeedThreshold(l.speed);const u=this.getUniqueId();this.logger.info(`actionId: ${u}`),t>=this.getLowAlarmThreshold(r)&&(this.logger.info("delta >= lowAlarmThreshold"),this.di.gdn.uploadFile(s)),t>=this.getHighAlarmThreshold(r)&&this.logger.info("delta >= highAlarmThreshold")}catch(e){this.logger.error(e.stack||e.message)}}))}buildFileName(e){const t=this.di.storagePath,r=this.di.wa.uuid;return n.Utils.buildFileName(t,r,e,"waad")}findGnssLocations(){return i(this,void 0,void 0,(function*(){return this.logger.info("Find locations by timestamp"),Promise.resolve([])}))}findClosestLocation(e,t){if(0===e.length)return null;let r=e[0],i=Math.abs(e[0].timestamp.getTime()-t.getTime());for(let o=1;o<e.length;o++){const n=Math.abs(e[o].timestamp.getTime()-t.getTime());n<i&&(r=e[o],i=n)}return r}buildWaadFile(e,t){return i(this,void 0,void 0,(function*(){const r=s.Serializer.eventRemoteDevice(this.di.wa),i=s.Serializer.eventRemoteStatus(this.di.wa.advertisement),o=s.Serializer.eventRemoteConfig(this.di.wa),n=s.Serializer.eventLocalDevice({identifier:this.di.txIdentifier,firmwareVersion:this.di.txSoftwareVersion}),a=s.Serializer.eventLocalStatus({orientation:0}),l=s.Serializer.eventLocalConfig(this.di.wa);this.logger.info(JSON.stringify(e.desc,null,2));const c=s.Serializer.eventData({timestamp:new Date(e.desc.timestamp),channel:e.desc.channel,delta:e.desc.delta,locations:t.map(e=>s.Serializer.location(e)),allSamples:e.data});return Buffer.from(s.Serializer.event({timestamp:e.desc.timestamp,remoteDevice:r,remoteStatus:i,remoteConfig:o,localDevice:n,localStatus:a,localConfig:l,data:c}).serializeBinary().buffer)}))}validateSpeedThreshold(e){if(this.logger.info("Validate speed"),e<=0)throw new Error(`Speed too low, speed: ${e}, threshold: 0.`)}getUniqueId(){return Math.random().toString(36).substr(2,9)}getLowAlarmThreshold(e){const t=this.di.wa.localConfig.lowAlarmThresholds;switch(e){case 0:return t.x;case 1:return t.y;case 2:return t.z}return Number.MAX_SAFE_INTEGER}getHighAlarmThreshold(e){const t=this.di.wa.localConfig.highAlarmThresholds;switch(e){case 0:return t.x;case 1:return t.y;case 2:return t.z}return Number.MAX_SAFE_INTEGER}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(290);t.DataStreamTask=class{constructor(e){this.di=e,this.logger=o.Logger.getLogger("wa-stream"),this.taskSuccess=!1}get Name(){return"DataStreamTask"}execute(){return i(this,void 0,void 0,(function*(){const e=new n.StreamHandler({adapter:this.di.adapter,connection:this.di.connection,taskDAO:this.di.taskDAO,ping:()=>this.di.connection.Command.ping(),sioEmit:this.di.sioEmit});yield e.start({config:this.di.config,device:this.di.peripheral,activeTask:this.di.activeTask}),yield e.taskRunner(),yield e.stop(),this.logger.info("stream completed"),this.taskSuccess=!0}))}completedWithSuccess(){return this.taskSuccess}postProcess(){return i(this,void 0,void 0,(function*(){}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(1);t.StreamHandler=class{constructor(e){this.di=e,this.PING_INTERVAL=5,this.logger=i.Logger.getLogger("wa-stream"),this.streamValue=null,this.streamCounter=0,this.device=null,this.activeTask=null,this.pingTimer=0,this.completeTaskRunner=null}start(e){this.device=e.device,this.activeTask=e.activeTask;const t=this.di.connection.Stream,r=this.getFrequency(this.activeTask);return t.start({freq:r},this.onData.bind(this)).then(()=>{this.logger.info("started")})}getFrequency(e){const t=e.options.freq;return t<0||t>100?10:t}stop(){return this.di.connection.Stream.stop()}onData(e){this.streamValue=e,this.streamCounter++,this.di.sioEmit("stream-sample",e)}taskRunner(){return new Promise((e,t)=>{if(null===this.device||null===this.activeTask)return t(new Error("Invalid device or active task"));this.completeTaskRunner=o=>{try{this.completeTaskRunner=null,clearInterval(i),this.di.adapter.removeListener("deviceDisconnected",r),o?(this.logger.warn(o.message),this.di.sioEmit("stream-state","stopped",o.message),t(o)):(this.di.sioEmit("stream-state","stopped"),e())}catch(e){this.logger.error(e.message),t(e)}};const r=this.onDisconnected.bind(this),i=setInterval(this.doPeriodicCheck.bind(this),1e3);this.di.sioEmit("stream-state","started"),this.di.adapter.on("deviceDisconnected",r)})}onDisconnected(e){e.address===this.device.address&&this.completeTaskRunner(new Error("Remote device disconnected unexpectedly during data stream."))}doPeriodicCheck(){this.pingHandler().then(()=>{this.logger.info("Ping")}).catch(e=>{this.logger.error(`Cannot ping remote device: ${e.message}`)}),this.printLatestSample(),this.streamCounter=0,this.streamValue=null,this.findTasks(this.activeTask.uuid).then(e=>{0===e.length?this.completeTaskRunner&&this.completeTaskRunner():(this.activeTask=e[0],this.checkActiveTask())}).catch(e=>{this.logger.info("find task error: "+e.message),this.completeTaskRunner&&this.completeTaskRunner(e)})}checkActiveTask(){if(!this.completeTaskRunner)return;const e=this.activeTask.createdOn;Date.now()-e.getTime()<=6e4||(this.logger.warn("no ping, data stream timeout"),this.di.taskDAO.remove(this.activeTask).then(()=>{this.completeTaskRunner&&this.completeTaskRunner()}).catch(e=>{this.completeTaskRunner&&this.completeTaskRunner(new Error("Cannot remove active task."))}))}pingHandler(){return Promise.resolve().then(()=>{if(!(++this.pingTimer<this.PING_INTERVAL))return this.pingTimer=0,this.di.ping()})}printLatestSample(){null!==this.streamValue&&(this.logger.log("info",JSON.stringify(this.streamValue,(e,t)=>t&&t.toFixed?parseFloat(t.toFixed(6)):t)),this.logger.log("info",`Frequency: ${this.streamCounter} Hz`))}findTasks(e){return this.di.taskDAO.find({order:"-createdOn",skip:0,limit:1,criteria:{uuid:e,command:"stream"}})}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});t.TasksRunner=class{constructor(e,t){this.connection=e,this.tasksQueue=t}execute(){return i(this,void 0,void 0,(function*(){let e=!1;try{yield this.connection.startConnection(),e=!0;for(const e of this.tasksQueue)yield e.execute();e=!1,yield this.connection.stopConnection()}catch(t){throw!0===e&&(yield this.tryDisconnect()),t}}))}tryDisconnect(){return i(this,void 0,void 0,(function*(){try{yield this.connection.stopConnection()}catch(e){}}))}postProcess(){return i(this,void 0,void 0,(function*(){for(const e of this.tasksQueue)yield e.postProcess()}))}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(16),n=r(24),s=r(27),a=r(10),l=r(0),c=r(23),u=r(4),d=r(17),g=r(293),p=r(1),h=r(11),m=r(30),f=r(296),y=r(297);var _,S;!function(e){e[e.ConfigDownload=0]="ConfigDownload",e[e.ConfigUplaod=1]="ConfigUplaod",e[e.ConfigUploadDownload=2]="ConfigUploadDownload",e[e.ConfigDownloadUpload=3]="ConfigDownloadUpload",e[e.DownloadData=4]="DownloadData",e[e.DataStream=5]="DataStream",e[e.Idle=6]="Idle"}(_||(_={})),function(e){e[e.Default=0]="Default",e[e.NewDevice=1]="NewDevice",e[e.NewFirmware=2]="NewFirmware",e[e.ConfigNumber=3]="ConfigNumber",e[e.UserRequest=4]="UserRequest"}(S||(S={}));class v extends d.DeviceHandler{constructor(e,t){super(e,t),this.logger=p.Logger.getLogger("jrd-hdl-sop"),this.TX_GDN_ACTION_URL="http://10.8.0.1/api/sop-data-add.php",this.uploadFileScriptUrl="http://10.8.0.1/api/file-gzdecode-add.php",this.TX_IDENTIFIER="",this.TX_SOFTWARE_VERSION=3,this.sop=null,this.tasks=null,this.activeTask=null,this.devAdvert=null,this.sampleUploaded=!1,this.connection=new g.ConnectionSop(e.adapter,t.peripheral),this.TX_IDENTIFIER=e.config.Transceiver.Identifier,this.TX_SOFTWARE_VERSION=e.config.Transceiver.Version,this.devAdvert=t.advert}handleConnection(){return i(this,void 0,void 0,(function*(){this.logger.log("info","SOP handler started"),yield this.pullDatabase(),this.recalculateAdvertCapacitance(),yield this.execute()}))}pullDatabase(){return i(this,void 0,void 0,(function*(){const e=yield this.findSop();this.sop=null===e?yield this.createSop():e,this.tasks=yield this.findTasks(this.sop.uuid)}))}findSop(){return this.di.db.SopDAO.findByUuid(this.advert.uuid)}createSop(){const e=this.advert;return this.di.db.SopDAO.create({uuid:e.uuid,address:e.address,enabled:!1,hidden:!1})}findTasks(e){return this.di.db.TaskDAO.find({order:"-createdOn",skip:0,limit:1,criteria:{uuid:e}})}removeActiveTask(e){return i(this,void 0,void 0,(function*(){const t=this.activeTask;!1!==this.checkTaskType(t,e)&&(this.activeTask=null,yield this.di.db.TaskDAO.remove(t))}))}recalculateAdvertCapacitance(){const e=this.devAdvert,t=this.sop.config.primary;e.recalculateCapacitance(t.capdaca,t.capdacb)}execute(){return i(this,void 0,void 0,(function*(){if(this.logger.log("info","execute action"),yield this.updateAdvert(),this.isDisabled())return void(yield this.markStatus("Disabled"));yield this.markStatus("Wake Up");const e=this.buildSample();this.addSampleAsync(e);try{yield this.executeAction(),yield this.markStatus("Success"),this.logger.info("SOP action successfully completed")}catch(e){if(yield this.markStatus("Failure",e.message),this.logger.error("Cannot execute action",e.message),"Connect timed out."===e.message)return;throw e}}))}updateAdvert(){return i(this,void 0,void 0,(function*(){const e=this.devAdvert;this.sop.advertisement||(this.sop.advertisement={});const t=this.sop.advertisement;t.timestamp=e.timestamp,t.rssi=e.rssi,t.packetCounter=e.packetCounter,t.configNumber=e.configNumber,t.temperatureInternal=e.temperature,t.batteryVoltage=e.batteryVoltage,t.capacitance=e.sensorCapacitance,t.temperature=e.sensorTemperature,t.acceleration=e.sensorAcceleration,t.restartsUnknown=e.restartsUnknown,t.restartsSoftware=e.restartsSoftware,t.restartsWatchdog=e.restartsWatchdog,t.errors=e.errors;try{const t=y.Serializer.advert(e);this.sioEmitApp("advert",t.serializeBinary().buffer)}catch(e){this.logger.log("warn",e)}try{yield this.di.db.AdvertDAO.create(e)}catch(e){this.logger.log("warn","SOP cannot store advert",e)}this.sop=yield this.di.db.SopDAO.save(this.sop),this.logger.log("info","SOP advertisement updated")}))}isDisabled(){return!this.sop.enabled}markStatus(e,t){return i(this,void 0,void 0,(function*(){try{this.sop.connection||(this.sop.connection={}),this.sop.connection.status||(this.sop.connection.status={});let r=this.sop.connection.status;r.timestamp=new Date,r.label=e,r.message=t||"",this.sioEmitSop("status",r),this.logger.log("info","Status",e),this.sop=yield this.di.db.SopDAO.save(this.sop),this.logger.info("SOP status updated "+e)}catch(e){this.logger.error("cannot mark status "+e.message)}}))}addSampleAsync(e){return i(this,void 0,void 0,(function*(){try{const t=y.Serializer.sample(e).serializeBinary().buffer;this.sioEmitSop("sample",t)}catch(e){this.logger.log("warn",e)}this.logger.info(JSON.stringify(e,null,2));try{yield this.di.db.SopSampleDAO.create(e)}catch(e){this.logger.log("warn","SOP cannot save sample ",e)}}))}executeAction(){return i(this,void 0,void 0,(function*(){const e=this.getAction(),[t,r]=e;switch(this.logger.log("info","do "+t+" "+r),t){case _.ConfigDownload:return this.executeDownloadConfig();case _.ConfigUplaod:return this.executeUploadConfig();case _.ConfigUploadDownload:return this.executeUploadDownloadConfig();case _.ConfigDownloadUpload:return this.executeDownloadUploadConfig();case _.DownloadData:return this.executeDownloadData();case _.DataStream:return this.executeDataStream();case _.Idle:return}throw new Error("Unknown task: "+t)}))}getAction(){this.activeTask=null;const e=this.getConfigAction();return null!==e?e:this.tasks&&this.tasks.length>0&&"stream"===this.tasks[0].command?[_.DataStream,S.Default]:2===this.sop.config.primary.hsAccelEnable?[_.Idle,S.Default]:!1===this.devAdvert.isAccData?[_.Idle,S.Default]:[_.DownloadData,S.Default]}getConfigAction(){const e=this.advert,t=this.sop.config,r=this.tasks,i=255&t.primary.configNumber,o=e.configNumber;if(this.logger.log("info","configuraton",JSON.stringify(t)),null===t.timestamp)return[_.ConfigDownload,S.NewDevice];if(255===e.configNumber)return[_.ConfigUplaod,S.NewFirmware];if(254===e.configNumber)return[_.ConfigDownloadUpload,S.NewFirmware];if(i!==o)return[_.ConfigDownload,S.ConfigNumber];if(r.length)switch(this.activeTask=r[0],r[0].command){case"upload":return[_.ConfigUplaod,S.UserRequest];case"download":return[_.ConfigDownload,S.UserRequest]}return null}executeDownloadConfig(){return i(this,void 0,void 0,(function*(){try{this.logger.log("info","Download"),yield this.runConnection(()=>i(this,void 0,void 0,(function*(){this.logger.info("Download configuration");const e=yield this.connection.Config.read();this.logger.log("info","Configuration downloaded"),this.configDownloadHandleAsync(e)})))}catch(e){throw this.sioEmitSop("config-state","download-error",e),e}}))}configDownloadHandleAsync(e){return i(this,void 0,void 0,(function*(){try{this.logger.log("info","Handle downloaded configuration"),u.extend(this.sop.config,e),this.sop=yield this.di.db.SopDAO.save(this.sop),this.emitConfigNumericAction("download"),yield this.removeActiveTask("download")}catch(e){this.logger.error("config-state",e),this.sioEmitSop("config-state","download-error",e)}}))}executeUploadConfig(){return i(this,void 0,void 0,(function*(){return this.upload()}))}selectUploadConfig(){return this.checkTaskType(this.activeTask,"upload")?this.activeTask.options:u.clone(this.sop.config)}checkTaskType(e,t){return null!==e&&e.command===t}upload(){return i(this,void 0,void 0,(function*(){try{this.logger.info("Download"),yield this.runConnection(()=>i(this,void 0,void 0,(function*(){const e=this.selectUploadConfig();this.logger.info("Upload configuration"),yield this.connection.Config.write(e),this.logger.info("Configuration uploaded"),yield this.connection.Command.storeConfiguration(),yield this.configUploadHandle(e)})))}catch(e){throw this.sioEmitSop("config-state","upload-error",e),e}}))}configUploadHandle(e){return i(this,void 0,void 0,(function*(){try{return this.logger.log("info","Handle uploaded configuration"),e.primary.configNumber=this.sop.advertisement.configNumber,++e.primary.configNumber>=254&&(e.primary.configNumber=0),u.extend(this.sop.config,e),this.sop=yield this.di.db.SopDAO.save(this.sop),this.emitConfigNumericAction("upload"),this.logger.log("info","Configuration upload handled"),this.removeActiveTask("upload")}catch(e){this.logger.error("config-state",e),this.sioEmitSop("config-state","upload-error",e)}}))}executeUploadDownloadConfig(){return i(this,void 0,void 0,(function*(){try{this.logger.log("info","Upload / Download"),yield this.runConnection(()=>i(this,void 0,void 0,(function*(){let e=this.selectUploadConfig();this.logger.info("Upload configuration"),yield this.connection.Config.write(e),this.logger.info("Configuration uploaded"),yield this.connection.Command.storeConfiguration(),yield this.configUploadHandle(e),e=yield this.connection.Config.read(),this.logger.info("Configuration downloaded"),yield this.configDownloadHandleAsync(e)})))}catch(e){throw this.sioEmitSop("config-state","download-error",e),e}}))}executeDownloadUploadConfig(){return i(this,void 0,void 0,(function*(){try{this.logger.log("info","Download / Upload"),yield this.runConnection(()=>i(this,void 0,void 0,(function*(){let e=yield this.connection.Config.read();this.logger.info("Downloading configuration..."),yield this.configDownloadHandleAsync(e),e=this.selectUploadConfig(),this.logger.info("Uploading configuration..."),yield this.connection.Config.write(e),this.logger.info("Configuration uploaded"),yield this.connection.Command.storeConfiguration(),yield this.configUploadHandle(e)})))}catch(e){throw this.sioEmitSop("config-state","download-error",e),e}}))}executeDataStream(){return i(this,void 0,void 0,(function*(){const e=new f.StreamHandler({adapter:this.adapter,connection:this.connection,taskDAO:this.di.db.TaskDAO,ping:()=>this.connection.Command.ping(),sioEmit:(e,...t)=>this.sioEmitSop(e,...t)});yield this.runConnection(()=>i(this,void 0,void 0,(function*(){yield e.start({config:this.sop.config.primary,device:this.peripheral,activeTask:this.activeTask}),yield e.taskRunner(),yield e.stop()}))),this.logger.info("stream completed")}))}executeDownloadData(){return i(this,void 0,void 0,(function*(){try{yield this.runConnection(()=>i(this,void 0,void 0,(function*(){this.logger.info("Download accelerometer data");const e=yield this.connection.DataDownload.download();this.logger.info(`Data downloaded: ${e.length}`),this.processDataAsync(e)})))}catch(e){this.uploadSample(0,0)}}))}processDataAsync(e){return i(this,void 0,void 0,(function*(){try{if(!e)throw new Error("Invalid data downloaded");this.logger.info("Data downloaded");const t=this.processAccelData(e),r=this.di.config.Transceiver.DataStoragePath,i=this.buildFileName(r,this.sop.uuid);yield this.ensureDirectoryExits(a.dirname(i));const o=this.calcAccelStats(t),n=o[2].pp/10,s=o[2].std/10;yield this.uploadSample(n,s),yield this.saveAndUploadFile(i,t)}catch(e){this.logger.error("Cannot process data",e.message)}}))}uploadSample(e,t){return i(this,void 0,void 0,(function*(){try{if(this.sampleUploaded)return;this.sampleUploaded=!0,yield this.addGdnAction(this.buildGetParams(e,t))}catch(e){this.logger.error("Cannot process data",e.message)}}))}calcAccelStats(e){return e.samples.map(e=>{const t=e.reduce((e,t)=>(e.n++,e.mean+=t,e),{mean:0,n:0}),r=t.mean/t.n,i=e.reduce((e,t)=>(t-=r,e.n++,e.std+=t*t,e.min=t<e.min?t:e.min,e.max=t>e.max?t:e.max,e),{min:Number.MAX_SAFE_INTEGER,max:Number.MIN_SAFE_INTEGER,std:0,n:0,pp:0});return i.std=Math.sqrt(i.std/i.n),i.pp=i.max-i.min,i})}addGdnAction(e){return i(this,void 0,void 0,(function*(){try{if(!this.sop.sendToGdn)return;yield this.di.db.GdnActionDAO.create({_id:void 0,centralUuid:this.TX_IDENTIFIER,requestType:"GET",scriptUrl:this.TX_GDN_ACTION_URL,getParams:e}),this.sioEmitApp("newGdnAction"),this.logger.info("Gdn action added")}catch(e){this.logger.warn("Cannot add GDN action: ",e)}}))}buildGetParams(e,t){const r=this.advert,i=this.sop.config.primary;return{uuid:r.uuid,timestamp:Math.round(r.timestamp.getTime()/1e3),rssi:r.rssi,packetCounter:r.packetCounter,batteryVoltage:r.batteryVoltage,temperatureInternal:r.temperature,temperature:r.sensorTemperature,capacitance:r.sensorCapacitance,acceleration:r.sensorAcceleration,centralIdent:this.TX_IDENTIFIER,centralVersion:this.TX_SOFTWARE_VERSION,firmwareVersion:i.firmwareVersion,acczPp:e,acczStd:t}}saveAndUploadFile(e,t){return i(this,void 0,void 0,(function*(){try{const r=this.prepareData(t),i=yield this.saveFile(e,r);this.logger.info(`saved: ${i}`),yield this.uploadFileToGdn(i)}catch(e){this.logger.error("Cannot process data",e.message)}}))}processAccelData(e){const t=this.sop.config.primary;let r=144e3;if(t.firmwareVersion>=3090&&t.measSamples){r=3*t.measSamples*12/8}if(e.length<r)throw new Error("Invalid data, not enough");if((e.length-r)%24!=0)throw new Error("Invalid data, stats size");const i=m.BinaryDecoder.decodeInt12Array(e.slice(0,r)),o=[[],[],[]];let n=0;for(;n<i.length;)o[0].push(i[n]),n++,o[1].push(i[n]),n++,o[2].push(i[n]),n++;const s=e.slice(r);this.logger.info(`stats buffer: ${s.length}`);const a=[];for(let e=0;e<s.length;e+=24){let t=e;const r=[];for(let e=0;e<3;e++){const e=s.readInt16LE(t);t+=2;const i=s.readInt16LE(t);t+=2;const o=s.readUInt16LE(t);t+=2;const n=s.readInt16LE(t);t+=2,r.push({min:e,max:i,std:o,avg:n})}a.push(r)}return{samples:o,stats:a}}ensureDirectoryExits(e){return new Promise((t,r)=>{c(e,e=>e?r(e):t())})}saveFile(e,t){return i(this,void 0,void 0,(function*(){e=`${e}.gz`;const r=yield this.compress(t);return yield this.writeFile(e,r),e}))}prepareData(e){const t=this.sop,r=this.devAdvert,i=y.Serializer.file({timestamp:r.timestamp,remoteDevice:y.Serializer.remoteDevice(t),remoteStatus:y.Serializer.remoteStatus(r),remoteConfig:y.Serializer.remoteConfig(t),localDevice:y.Serializer.localDevice({identifier:this.TX_IDENTIFIER,firmwareVersion:this.TX_SOFTWARE_VERSION}),localStatus:y.Serializer.localStatus({uptime:n.uptime()}),localConfig:y.Serializer.localConfig(),acceleration:y.Serializer.acceleration(e.samples,e.stats)});return Buffer.from(i.serializeBinary().buffer)}compress(e){return new Promise((t,r)=>{s.gzip(e,(e,i)=>{e?r(e):t(i)})})}buildFileName(e,t){const r=l().format("YYYYMMDD"),i=l().format("YYYYMMDDHHmmss"),o=a.join(e,t,r);return a.join(o,`${i}.sbd`)}writeFile(e,t){return new Promise((r,i)=>{o.writeFile(e,t,e=>{e?i(e):r()})})}uploadFileToGdn(e){return i(this,void 0,void 0,(function*(){try{if(!this.sop.sendToGdn)return;yield this.di.db.GdnActionDAO.create({_id:void 0,centralUuid:this.TX_IDENTIFIER,requestType:"POST",scriptUrl:this.uploadFileScriptUrl,filename:e}),this.logger.info("Gdn action added"),this.sioEmitApp("newGdnAction")}catch(e){this.logger.warn("Cannot add GDN action: ",e)}}))}handleData(){return Promise.resolve()}runConnection(e){return i(this,void 0,void 0,(function*(){yield this.markStatus("Connecting..."),yield this.connection.connect(),this.logger.info("Connected");try{yield this.connection.discover(),this.logger.info("Discovered"),yield this.markStatus("Connected"),yield e()}finally{yield this.stopConnection()}}))}stopConnection(){return i(this,void 0,void 0,(function*(){yield this.markStatus("Disconnecting..."),yield this.connection.disconnect(),yield this.markStatus("Disconnected")}))}emitConfigNumericAction(e){this.sioEmitSop("config-state",e,this.sop.config)}buildSample(){const e=this.advert,t=this.sop.config.primary;return{uuid:e.uuid,timestamp:e.timestamp,rssi:e.rssi,packetCounter:e.packetCounter,configNumber:e.configNumber,temperatureInternal:e.temperature,batteryVoltage:e.batteryVoltage,temperature:e.sensorTemperature,acceleration:e.sensorAcceleration,capacitance:e.sensorCapacitance,restartsUnknown:e.restartsUnknown,restartsSoftware:e.restartsSoftware,restartsWatchdog:e.restartsWatchdog,firmwareVersion:t.firmwareVersion,errors:e.errors,isAccData:e.isAccData}}sioEmitSop(e,...t){this.sop&&this.sop.uuid&&h.TdEvent.emitSop(e,this.sop.uuid,...t)}sioEmitApp(e,...t){this.sop&&this.sop.uuid&&h.TdEvent.emitApp(e,this.sop.uuid,...t)}}t.SopHandler=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(294),o=r(19),n=r(18),s=r(21),a=r(26),l=r(295);class c{constructor(e,t,r){this.serviceUUID=e,this.controlPointUUID=t,this.packetUUID=r,this.controlPoint=null,this.packet=null}discover(e,t){if(e.toLowerCase()===this.serviceUUID)switch(t.uuid.toLowerCase()){case this.controlPointUUID:this.controlPoint=t;break;case this.packetUUID:this.packet=t}}isValid(){return null!==this.controlPoint&&null!==this.packet}}class u extends n.Connection{constructor(e,t){super(e,t),this.config=null,this.command=null,this.downloadData=null,this.stream=null,this.configService=new c("000016231212efde1523785fdabcd123","000016341212efde1523785fdabcd123","000016351212efde1523785fdabcd123"),this.streamService=new c("000015231212efde1523785fdabcd123","000015241212efde1523785fdabcd123","000015251212efde1523785fdabcd123"),this.downloadService=new c("000017231212efde1523785fdabcd123","000017241212efde1523785fdabcd123","000017251212efde1523785fdabcd123")}discover(){return super.discover([],!0).then(e=>{if(this.logger.info("Validate services/characteristics"),Object.keys(e).forEach(t=>{Object.keys(e[t]).forEach(r=>{this.discoverCharacteristic(t,e[t][r])})}),!this.validateCharacteristics())throw new Error("Invalid characteristics discovered");return this.onCharacteristicsDiscover(),this.logger.info("Services/characteristics valid"),e}).catch(e=>{throw this.logger.info("Error during validating services/characteristics"+e),e})}discoverCharacteristic(e,t){this.configService.discover(e,t),this.downloadService.discover(e,t),this.streamService.discover(e,t)}validateCharacteristics(){return this.configService.isValid()&&this.downloadService.isValid()&&this.streamService.isValid()}onCharacteristicsDiscover(){const e=this.adapter,t=this.peripheral;this.config=new i.ConfigSop(new s.ConfigMessageV1(e,this.configService.controlPoint,this.configService.packet)),this.command=new o.CommandV1(e,this.configService.controlPoint,this.configService.packet),this.downloadData=new a.DownloadData(e,t,this.downloadService.controlPoint,this.downloadService.packet,this.command.ping.bind(this.command)),this.stream=new l.Stream(e,t,this.streamService.controlPoint,this.streamService.packet)}get Config(){return this.config}get Command(){return this.command}get DataDownload(){return this.downloadData}get Stream(){return this.stream}}t.ConnectionSop=u},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(20);class n extends o.Config{constructor(e){super(e,[["name","string","rw",1e3,20],["deviceType","uint16","r",0,2],["firmwareVersion","uint16","r",1,2],["configNumber","uint16","r",2,2],["advertInterval","uint16","rw",3,2],["advertWindowNonContactable","uint16","rw",4,2],["advertWindowContactable","uint16","rw",5,2],["nonContactableAdverts","uint16","rw",6,2],["samplingInterval","uint16","rw",7,2],["capdaca","uint16","rw",8,2],["capdacb","uint16","rw",9,2],["capOffset","uint16","rw",10,2],["capGain","uint16","rw",11,2],["capCtrl","uint16","rw",12,2],["hsAccelEnable","uint16","rw",13,2],["sensorType","uint16","rw",14,2],["analogStabilizationTime","uint16","rw",15,2],["accAcqDivider","uint16","rw",16,2],["xThreshold","uint16","rw",17,2],["yThreshold","uint16","rw",18,2],["zThreshold","uint16","rw",19,2],["measSamples","uint16","rw",20,2],["checkSamples","uint16","rw",21,2]])}read(){return this.readPrimary().then(e=>{const t={timestamp:new Date,primary:{}};for(const r of this.fields){const i=r[0];t.primary[i]=this.getNumber(e[i])}return t.primary.name=this.getString(e.name),t})}getNumber(e){return"number"==typeof e?e:0}getString(e){return"string"==typeof e?e:""}write(e){return i(this,void 0,void 0,(function*(){yield this.writePrimary(e.primary),e.timestamp=new Date}))}}t.ConfigSop=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4),o=r(34),n=r(30),s=r(1);t.Stream=class{constructor(e,t,r,i){this.adapter=e,this.device=t,this.controlPoint=r,this.packet=i,this.logger=s.Logger.getLogger("sop-stream"),this.onDataCallback=null,this.onNotificationReference=null,this.onDisconnectedReference=null,this.capdaca=0,this.capdacb=0}start(e,t){return this.onDataCallback=t,this.capdaca=e.capdaca,this.capdacb=e.capdacb,this.startAllNotifications().then(()=>this.startStream(e.freq)).then(()=>this.adapter.gapStartRSSI(this.device)).then(()=>{this.setupNotificationHandler()})}startAllNotifications(){return this.adapter.startCharacteristicsNotifications(this.controlPoint).then(()=>this.adapter.startCharacteristicsNotifications(this.packet))}startStream(e=10){const t=Buffer.from([1,0,0]);return t.writeUInt16LE(e,1),this.sendAndReceive(t)}setupNotificationHandler(){this.onNotificationReference=this.onNotification.bind(this),this.adapter.on("characteristicValueChanged",this.onNotificationReference),this.onDisconnectedReference=this.onDisconnected.bind(this),this.adapter.on("deviceDisconnected",this.onDisconnectedReference)}stop(){return this.cleanupNotificationHandler(),this.logger.info("gapStopRSSI"),this.adapter.gapStopRSSI(this.device).then(()=>this.delay(1e3)).then(()=>this.stopStream()).then(()=>this.stopAllNotifications())}delay(e){return new Promise(t=>setTimeout(t,e))}cleanupNotificationHandler(){this.onNotificationReference&&(this.adapter.removeListener("characteristicValueChanged",this.onNotificationReference),this.onNotificationReference=null),this.onDisconnectedReference&&(this.adapter.removeListener("deviceDisconnected",this.onDisconnectedReference),this.onDisconnectedReference=null)}stopStream(){return this.sendAndReceive(Buffer.from([0]))}stopAllNotifications(){return this.adapter.stopCharacteristicsNotifications(this.controlPoint).then(()=>this.adapter.stopCharacteristicsNotifications(this.packet))}onDisconnected(){this.cleanupNotificationHandler()}onNotification(e){try{if(e.instanceId!==this.packet.instanceId)return;const t=Buffer.from(e.value);let r=0;const s=t.readUInt16LE(r);r+=2;const a=t.readInt16LE(r);r+=2;const l=t.readUInt16LE(r);r+=2;const c=t.readUIntLE(r,3);r+=3;const u=t.readUIntLE(r,3);r+=3;let d=t.readInt16LE(r);r+=2;let g=t.readInt16LE(r);r+=2;let p=t.readInt16LE(r);r+=2;const h=t.readInt8(r);r+=1;const m=this.device.rssi;d=n.BinaryDecoder.decodeInt12(d),g=n.BinaryDecoder.decodeInt12(g),p=n.BinaryDecoder.decodeInt12(p);const f={packetCounter:s,remoteRssi:h,localRssi:m,temperatureRaw:a,temperature:o.Converter.intTempToDegC(a),batteryVoltageRaw:l,batteryVoltage:o.Converter.vbatToVolts(l),sensorCapacitanceRaw:c,sensorCapacitance:o.Converter.sensCapToPikoFarad(c,this.capdaca,this.capdacb),sensorTemperatureRaw:u,sensorTemperature:o.Converter.sensTempToDegC(u),sensorAccelXRaw:d,sensorAccelX:o.Converter.sensAccelToG(d),sensorAccelYRaw:g,sensorAccelY:o.Converter.sensAccelToG(g),sensorAccelZRaw:p,sensorAccelZ:o.Converter.sensAccelToG(p)};this.onDataCallback&&this.onDataCallback(i.clone(f))}catch(e){this.logger.warn(e)}}sendAndReceive(e){return new Promise((t,r)=>{if(null===this.controlPoint||null===this.packet)return r(new Error("Cannot send and receive data"));const i=()=>{this.adapter.removeListener("deviceDisconnected",o),this.adapter.removeListener("characteristicValueChanged",n)},o=e=>{e.instanceId===this.device.instanceId&&(i(),r(new Error("Device disconnected during data download")))},n=e=>{e.instanceId===this.controlPoint.instanceId&&(e=>{0!==e.readUInt8(0)?(i(),r(new Error("Cannot download header: no ack"))):t()})(new Buffer(e.value))};this.adapter.on("deviceDisconnected",o),this.adapter.on("characteristicValueChanged",n),this.adapter.writeCharacteristicValue(this.controlPoint,e).catch(e=>{i(),r(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(1);t.StreamHandler=class{constructor(e){this.di=e,this.PING_INTERVAL=5,this.logger=i.Logger.getLogger("sop-stream"),this.streamValue=null,this.streamCounter=0,this.device=null,this.activeTask=null,this.pingTimer=0,this.completeTaskRunner=null}start(e){this.device=e.device,this.activeTask=e.activeTask;const t=this.di.connection.Stream,r=this.getFrequency(this.activeTask);return t.start({freq:r,capdaca:e.config.capdaca,capdacb:e.config.capdacb},this.onData.bind(this)).then(()=>{this.logger.info("started")})}getFrequency(e){const t=e.options.freq;return t<0||t>100?10:t}stop(){return this.di.connection.Stream.stop()}onData(e){this.streamValue=e,this.streamCounter++,this.di.sioEmit("stream-sample",e)}taskRunner(){return new Promise((e,t)=>{if(null===this.device||null===this.activeTask)return t(new Error("Invalid device or active task"));this.completeTaskRunner=o=>{try{this.completeTaskRunner=null,clearInterval(i),this.di.adapter.removeListener("deviceDisconnected",r),o?(this.logger.warn(o.message),this.di.sioEmit("stream-state","stopped",o.message),t(o)):(this.di.sioEmit("stream-state","stopped"),e())}catch(e){this.logger.error(e.message),t(e)}};const r=this.onDisconnected.bind(this),i=setInterval(this.doPeriodicCheck.bind(this),1e3);this.di.sioEmit("stream-state","started"),this.di.adapter.on("deviceDisconnected",r)})}onDisconnected(e){e.address===this.device.address&&this.completeTaskRunner(new Error("Remote device disconnected unexpectedly during data stream."))}doPeriodicCheck(){this.pingHandler().then(()=>{this.logger.info("Ping")}).catch(e=>{this.logger.error(`Cannot ping remote device: ${e.message}`)}),this.printLatestSample(),this.streamCounter=0,this.streamValue=null,this.findTasks(this.activeTask.uuid).then(e=>{0===e.length?this.completeTaskRunner&&this.completeTaskRunner():(this.activeTask=e[0],this.checkActiveTask())}).catch(e=>{this.logger.info("find task error"),this.completeTaskRunner&&this.completeTaskRunner(e)})}checkActiveTask(){if(!this.completeTaskRunner)return;const e=this.activeTask.createdOn;Date.now()-e.getTime()<=6e4||(this.logger.warn("no ping, data stream timeout"),this.di.taskDAO.remove(this.activeTask).then(()=>{this.completeTaskRunner&&this.completeTaskRunner()}).catch(e=>{this.completeTaskRunner&&this.completeTaskRunner(new Error("Cannot remove active task."))}))}pingHandler(){return Promise.resolve().then(()=>{if(!(++this.pingTimer<this.PING_INTERVAL))return this.pingTimer=0,this.di.ping()})}printLatestSample(){null!==this.streamValue&&(this.logger.log("info",JSON.stringify(this.streamValue,(e,t)=>t&&t.toFixed?parseFloat(t.toFixed(6)):t)),this.logger.log("info",`Frequency: ${this.streamCounter} Hz`))}findTasks(e){return this.di.taskDAO.find({order:"-createdOn",skip:0,limit:1,criteria:{uuid:e,command:"stream"}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(22),o=r(298),n=r(9),s=r(9),a=r(9),l=r(9),c=r(9),u=r(9),d=r(9),g=r(9),p=r(9),h=r(9),m=r(9);t.Serializer=class{static advert(e){const t=new i.Data;return t.setTimestamp(e.timestamp.getTime()),t.setRssi(e.rssi),t.setPacketCounter(e.packetCounter),t.setConfigNumber(e.configNumber),t.setTemperature(e.temperature),t.setBatteryVoltage(e.batteryVoltage),t.setRestartsUnknown(e.restartsUnknown),t.setRestartsSoftware(e.restartsSoftware),t.setRestartsWatchdog(e.restartsWatchdog),t.setShallowSleepTimeout(0),t}static sample(e){const t=new o.Data;return t.setUuid(e.uuid),t.setTimestamp(e.timestamp.getTime()),t.setRssi(e.rssi),t.setPacketCounter(e.packetCounter),t.setConfigNumber(e.configNumber),t.setBatteryVoltage(e.batteryVoltage),t.setTemperatureInternal(e.temperatureInternal),t.setTemperature(e.temperature),t.setCapacitance(e.capacitance),t.setAcceleration(e.acceleration),t.setRestartsUnknown(e.restartsUnknown),t.setRestartsSoftware(e.restartsSoftware),t.setRestartsWatchdog(e.restartsWatchdog),t.setErrors(e.errors),t}static file(e){const t=new n.File;return t.setTimestamp(e.timestamp.getTime()),t.setRemoteDevice(e.remoteDevice),t.setRemoteStatus(e.remoteStatus),t.setRemoteConfig(e.remoteConfig),t.setLocalDevice(e.localDevice),t.setLocalStatus(e.localStatus),t.setLocalConfig(e.localConfig),t.setAcceleration(e.acceleration),t}static remoteDevice(e){const t=new s.RemoteDevice;return t.setAddress(e.address),t.setUuid(e.uuid),t.setType(e.type),t.setName(e.type),t.setFirmwareVersion(e.config.primary.firmwareVersion),t}static remoteStatus(e){const t=new a.RemoteStatus;return t.setPacketCounter(e.packetCounter),t.setConfigNumber(e.configNumber),t.setRssi(e.rssi),t.setCapacitance(e.sensorCapacitance),t.setTemperature(e.sensorTemperature),t.setTemperatureInternal(e.temperature),t.setBatteryVoltage(e.batteryVoltage),t.setRestartsSoftware(e.restartsSoftware),t.setRestartsUnknown(e.restartsUnknown),t.setRestartsWatchdog(e.restartsWatchdog),t}static remoteConfig(e){const t=new l.RemoteConfig,r=e.config.primary;return t.setWakeupWindow(r.advertInterval),t.setSleepTime(r.advertWindowContactable),t.setSamplingInterval(r.samplingInterval),t.setCapDacA(r.capdaca),t.setCapDacB(r.capdacb),t.setCapOffset(r.capOffset),t.setCapGain(r.capGain),t.setCapCtrl(r.capCtrl),t}static localDevice(e){const t=new c.LocalDevice;return t.setIdentifier(e.identifier),t.setFirmwareVersion(e.firmwareVersion),t}static localStatus(e){const t=new u.LocalStatus;return t.setUptime(e.uptime),t}static localConfig(){return new d.LocalConfig}static acceleration(e,t){const r=new Array;for(const t of e){const e=new p.Data;e.setValuesList(t),r.push(e)}const i=new Array;for(const e of t){const t=new Array;for(const r of e){const e=new h.Stats;e.setMin(r.min),e.setMax(r.max),e.setStd(r.std),e.setAvg(r.avg),t.push(e)}const r=new m.ChannelStats;r.setValuesList(t),i.push(r)}const o=new g.Acceleration;return o.setSamplesList(r),o.setSamplingRate(6400),o.setStatsList(i),o}}},function(e,t,r){var i=r(5),o=i,n=Function("return this")();o.exportSymbol("proto.SopSample.Data",null,n),o.exportSymbol("proto.SopSample.DataArray",null,n),proto.SopSample.Data=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.SopSample.Data,i.Message),o.DEBUG&&!COMPILED&&(proto.SopSample.Data.displayName="proto.SopSample.Data"),i.Message.GENERATE_TO_OBJECT&&(proto.SopSample.Data.prototype.toObject=function(e){return proto.SopSample.Data.toObject(e,this)},proto.SopSample.Data.toObject=function(e,t){var r={uuid:t.getUuid(),timestamp:t.getTimestamp(),rssi:t.getRssi(),packetCounter:t.getPacketCounter(),configNumber:t.getConfigNumber(),batteryVoltage:t.getBatteryVoltage(),temperatureInternal:t.getTemperatureInternal(),temperature:t.getTemperature(),capacitance:t.getCapacitance(),acceleration:t.getAcceleration(),restartsUnknown:t.getRestartsUnknown(),restartsSoftware:t.getRestartsSoftware(),restartsWatchdog:t.getRestartsWatchdog(),errors:t.getErrors()};return e&&(r.$jspbMessageInstance=t),r}),proto.SopSample.Data.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.SopSample.Data;return proto.SopSample.Data.deserializeBinaryFromReader(r,t)},proto.SopSample.Data.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setUuid(r);break;case 2:r=t.readInt64();e.setTimestamp(r);break;case 3:r=t.readSint32();e.setRssi(r);break;case 4:r=t.readUint32();e.setPacketCounter(r);break;case 5:r=t.readUint32();e.setConfigNumber(r);break;case 6:r=t.readFloat();e.setBatteryVoltage(r);break;case 7:r=t.readFloat();e.setTemperatureInternal(r);break;case 8:r=t.readFloat();e.setTemperature(r);break;case 9:r=t.readFloat();e.setCapacitance(r);break;case 10:r=t.readFloat();e.setAcceleration(r);break;case 11:r=t.readUint32();e.setRestartsUnknown(r);break;case 12:r=t.readUint32();e.setRestartsSoftware(r);break;case 13:r=t.readUint32();e.setRestartsWatchdog(r);break;case 14:r=t.readUint32();e.setErrors(r);break;default:t.skipField()}}return e},proto.SopSample.Data.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.SopSample.Data.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.SopSample.Data.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getUuid()).length>0&&e.writeString(1,t),0!==(t=this.getTimestamp())&&e.writeInt64(2,t),0!==(t=this.getRssi())&&e.writeSint32(3,t),0!==(t=this.getPacketCounter())&&e.writeUint32(4,t),0!==(t=this.getConfigNumber())&&e.writeUint32(5,t),0!==(t=this.getBatteryVoltage())&&e.writeFloat(6,t),0!==(t=this.getTemperatureInternal())&&e.writeFloat(7,t),0!==(t=this.getTemperature())&&e.writeFloat(8,t),0!==(t=this.getCapacitance())&&e.writeFloat(9,t),0!==(t=this.getAcceleration())&&e.writeFloat(10,t),0!==(t=this.getRestartsUnknown())&&e.writeUint32(11,t),0!==(t=this.getRestartsSoftware())&&e.writeUint32(12,t),0!==(t=this.getRestartsWatchdog())&&e.writeUint32(13,t),0!==(t=this.getErrors())&&e.writeUint32(14,t)},proto.SopSample.Data.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.SopSample.Data.prototype.getUuid=function(){return i.Message.getFieldProto3(this,1,"")},proto.SopSample.Data.prototype.setUuid=function(e){i.Message.setField(this,1,e)},proto.SopSample.Data.prototype.getTimestamp=function(){return i.Message.getFieldProto3(this,2,0)},proto.SopSample.Data.prototype.setTimestamp=function(e){i.Message.setField(this,2,e)},proto.SopSample.Data.prototype.getRssi=function(){return i.Message.getFieldProto3(this,3,0)},proto.SopSample.Data.prototype.setRssi=function(e){i.Message.setField(this,3,e)},proto.SopSample.Data.prototype.getPacketCounter=function(){return i.Message.getFieldProto3(this,4,0)},proto.SopSample.Data.prototype.setPacketCounter=function(e){i.Message.setField(this,4,e)},proto.SopSample.Data.prototype.getConfigNumber=function(){return i.Message.getFieldProto3(this,5,0)},proto.SopSample.Data.prototype.setConfigNumber=function(e){i.Message.setField(this,5,e)},proto.SopSample.Data.prototype.getBatteryVoltage=function(){return i.Message.getFieldProto3(this,6,0)},proto.SopSample.Data.prototype.setBatteryVoltage=function(e){i.Message.setField(this,6,e)},proto.SopSample.Data.prototype.getTemperatureInternal=function(){return i.Message.getFieldProto3(this,7,0)},proto.SopSample.Data.prototype.setTemperatureInternal=function(e){i.Message.setField(this,7,e)},proto.SopSample.Data.prototype.getTemperature=function(){return i.Message.getFieldProto3(this,8,0)},proto.SopSample.Data.prototype.setTemperature=function(e){i.Message.setField(this,8,e)},proto.SopSample.Data.prototype.getCapacitance=function(){return i.Message.getFieldProto3(this,9,0)},proto.SopSample.Data.prototype.setCapacitance=function(e){i.Message.setField(this,9,e)},proto.SopSample.Data.prototype.getAcceleration=function(){return i.Message.getFieldProto3(this,10,0)},proto.SopSample.Data.prototype.setAcceleration=function(e){i.Message.setField(this,10,e)},proto.SopSample.Data.prototype.getRestartsUnknown=function(){return i.Message.getFieldProto3(this,11,0)},proto.SopSample.Data.prototype.setRestartsUnknown=function(e){i.Message.setField(this,11,e)},proto.SopSample.Data.prototype.getRestartsSoftware=function(){return i.Message.getFieldProto3(this,12,0)},proto.SopSample.Data.prototype.setRestartsSoftware=function(e){i.Message.setField(this,12,e)},proto.SopSample.Data.prototype.getRestartsWatchdog=function(){return i.Message.getFieldProto3(this,13,0)},proto.SopSample.Data.prototype.setRestartsWatchdog=function(e){i.Message.setField(this,13,e)},proto.SopSample.Data.prototype.getErrors=function(){return i.Message.getFieldProto3(this,14,0)},proto.SopSample.Data.prototype.setErrors=function(e){i.Message.setField(this,14,e)},proto.SopSample.DataArray=function(e){i.Message.initialize(this,e,0,-1,proto.SopSample.DataArray.repeatedFields_,null)},o.inherits(proto.SopSample.DataArray,i.Message),o.DEBUG&&!COMPILED&&(proto.SopSample.DataArray.displayName="proto.SopSample.DataArray"),proto.SopSample.DataArray.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.SopSample.DataArray.prototype.toObject=function(e){return proto.SopSample.DataArray.toObject(e,this)},proto.SopSample.DataArray.toObject=function(e,t){var r={samplesList:i.Message.toObjectList(t.getSamplesList(),proto.SopSample.Data.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.SopSample.DataArray.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.SopSample.DataArray;return proto.SopSample.DataArray.deserializeBinaryFromReader(r,t)},proto.SopSample.DataArray.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.SopSample.Data;t.readMessage(r,proto.SopSample.Data.deserializeBinaryFromReader),e.getSamplesList().push(r),e.setSamplesList(e.getSamplesList());break;default:t.skipField()}}return e},proto.SopSample.DataArray.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.SopSample.DataArray.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.SopSample.DataArray.prototype.serializeBinaryToWriter=function(e){var t;(t=this.getSamplesList()).length>0&&e.writeRepeatedMessage(1,t,proto.SopSample.Data.serializeBinaryToWriter)},proto.SopSample.DataArray.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.SopSample.DataArray.prototype.getSamplesList=function(){return i.Message.getRepeatedWrapperField(this,proto.SopSample.Data,1)},proto.SopSample.DataArray.prototype.setSamplesList=function(e){i.Message.setRepeatedWrapperField(this,1,e)},proto.SopSample.DataArray.prototype.clearSamplesList=function(){this.setSamplesList([])},o.object.extend(t,proto.SopSample)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(16),o=r(24),n=r(27),s=r(10),a=r(0),l=r(23),c=r(4),u=r(17),d=r(300),g=r(1),p=r(11),h=r(303),m=r(304);var f,y;!function(e){e[e.ConfigDownload=0]="ConfigDownload",e[e.ConfigUplaod=1]="ConfigUplaod",e[e.ConfigDownloadUpload=2]="ConfigDownloadUpload",e[e.DownloadData=3]="DownloadData",e[e.DataStream=4]="DataStream",e[e.Idle=5]="Idle"}(f||(f={})),function(e){e[e.Default=0]="Default",e[e.NewDevice=1]="NewDevice",e[e.NewFirmware=2]="NewFirmware",e[e.ConfigNumber=3]="ConfigNumber",e[e.UserRequest=4]="UserRequest"}(y||(y={}));class _ extends u.DeviceHandler{constructor(e,t){super(e,t),this.logger=g.Logger.getLogger("jrd-hdl-cw"),this.TX_GDN_ACTION_URL="http://10.8.0.1/api/cw-data-add.php",this.uploadFileScriptUrl="http://10.8.0.1/api/file-gzdecode-add.php",this.TX_IDENTIFIER="",this.TX_SOFTWARE_VERSION=3,this.cw=null,this.tasks=null,this.activeTask=null,this.connection=new d.ConnectionCarbonWear(e.adapter,t.peripheral),this.TX_IDENTIFIER=e.config.Transceiver.Identifier,this.TX_SOFTWARE_VERSION=e.config.Transceiver.Version}handleConnection(){return this.logger.log("info","Carbon Wear handler started"),Promise.resolve().then(()=>this.pullDatabase()).then(()=>this.execute())}pullDatabase(){return this.findCarbonWear().then(e=>{if(null===e)return this.createCarbonWear().then(e=>{this.cw=e});this.cw=e}).then(()=>this.findTasks(this.cw.uuid)).then(e=>{this.tasks=e})}findCarbonWear(){return this.di.db.CarbonWearDAO.findByUuid(this.advert.uuid)}createCarbonWear(){const e=this.advert;return this.di.db.CarbonWearDAO.create({uuid:e.uuid,address:e.address,enabled:!0,hidden:!1})}findTasks(e){return this.di.db.TaskDAO.find({order:"-createdOn",skip:0,limit:1,criteria:{uuid:e}})}removeActiveTask(){return Promise.resolve().then(()=>{if(null===this.activeTask)return;const e=this.activeTask;return this.activeTask=null,this.di.db.TaskDAO.remove(e)})}execute(){if(this.logger.log("info","execute action"),this.updateAdvertisement(),this.isDisabled())return this.markStatus("Disabled"),Promise.resolve();this.markStatus("Wake Up");const e=this.buildSample();return this.addSample(e),this.executeAction().then(()=>{this.markStatus("Success"),this.logger.log("info","Carbon Wear action successfully completed")}).catch(e=>{if(this.markStatus("Failure",e.message),this.logger.log("error","Cannot execute action",e.message),"Connect timed out."!==e.message)throw e})}updateAdvertisement(){const e=this.advert;this.cw.advertisement||(this.cw.advertisement={});const t=this.cw.advertisement;t.timestamp=e.timestamp,t.rssi=e.rssi,t.packetCounter=e.packetCounter,t.configNumber=e.configNumber,t.temperature=e.temperature,t.batteryVoltage=e.batteryVoltage,t.photoArrayRaw=e.photoArrayRaw,t.restartsUnknown=e.restartsUnknown,t.restartsSoftware=e.restartsSoftware,t.restartsWatchdog=e.restartsWatchdog,t.errors=e.errors;try{const t=m.Serializer.advert(e);this.sioEmitApp("advert",t.serializeBinary().buffer)}catch(e){this.logger.log("warn",e)}return this.di.db.AdvertDAO.create(e).catch(e=>{this.logger.log("warn","Carbon Wear cannot store advert",e)}),this.di.db.CarbonWearDAO.save(this.cw).then(e=>{this.cw=e,this.logger.log("info","Carbon Wear advertisement updated")})}isDisabled(){return!this.cw.enabled}markStatus(e,t){this.cw.connection||(this.cw.connection={}),this.cw.connection.status||(this.cw.connection.status={});let r=this.cw.connection.status;return r.timestamp=new Date,r.label=e,r.message=t||"",this.sioEmitCw("status",r),this.logger.log("info","Status",e),this.di.db.CarbonWearDAO.save(this.cw).then(t=>{this.cw=t,this.logger.log("info","Carbon Wear status updated "+e)})}addSample(e){try{const t=m.Serializer.sample(e).serializeBinary().buffer;this.sioEmitCw("sample",t)}catch(e){this.logger.log("warn",e)}this.logger.info(JSON.stringify(e,null,2)),this.di.db.CarbonWearSampleDAO.create(e).catch(e=>{this.logger.log("warn","Carbon Wear cannot save sample ",e)})}addGdnAction(e){if(!this.cw.sendToGdn)return;const t=this.TX_IDENTIFIER;this.di.db.GdnActionDAO.create({_id:void 0,centralUuid:t,requestType:"GET",scriptUrl:this.TX_GDN_ACTION_URL,getParams:this.buildGetParams(e)}).then(()=>{this.logger.info("Gdn action added"),this.sioEmitApp("newGdnAction")}).catch(e=>{this.logger.warn("Cannot add GDN action: ",e)})}executeAction(){const e=this.getAction(),[t,r]=e;switch(this.logger.log("info","do "+t+" "+r),t){case f.ConfigDownload:return this.executeDownloadConfig();case f.ConfigUplaod:return this.executeUploadConfig();case f.ConfigDownloadUpload:return this.executeDownloadUploadConfig();case f.DownloadData:return this.executeDownloadData();case f.DataStream:return this.executeDataStream();case f.Idle:return Promise.resolve()}return Promise.reject(new Error("Unknown task: "+t))}getAction(){this.activeTask=null;const e=this.getConfigAction();return null!==e?e:this.tasks&&this.tasks.length>0&&"stream"===this.tasks[0].command?[f.DataStream,y.Default]:2===this.cw.config.primary.hsAccelEnable?[f.Idle,y.Default]:[f.DownloadData,y.Default]}getConfigAction(){const e=this.advert,t=this.cw.config,r=this.tasks,i=255&t.primary.configNumber,o=e.configNumber;if(this.logger.log("info","configuraton",JSON.stringify(t)),null===t.timestamp)return[f.ConfigDownload,y.NewDevice];if(255===e.configNumber)return[f.ConfigUplaod,y.NewFirmware];if(254===e.configNumber)return[f.ConfigDownloadUpload,y.NewFirmware];if(i!==o)return[f.ConfigDownload,y.ConfigNumber];if(r.length)switch(this.activeTask=r[0],r[0].command){case"upload":return[f.ConfigUplaod,y.UserRequest];case"download":return[f.ConfigDownload,y.UserRequest]}return null}executeDownloadConfig(){return this.logger.log("info","Download"),this.runConnection(()=>(this.logger.info("Download accelerometer data"),this.connection.Config.read().then(e=>{this.logger.log("info","Configuration downloaded"),this.configDownloadHandleAsync(e)}))).catch(e=>{throw this.sioEmitCw("config-state","download-error",e),e})}configDownloadHandleAsync(e){this.logger.log("info","Handle downloaded configuration"),c.extend(this.cw.config,e),this.di.db.CarbonWearDAO.save(this.cw).then(e=>(this.cw=e,this.emitConfigNumericAction("download"),this.removeActiveTask())).catch(e=>{this.logger.error("config-state",e),this.sioEmitCw("config-state","download-error",e)})}executeUploadConfig(){return null!==this.activeTask?this.upload(this.activeTask.options):(this.logger.log("info","Copy config (actual->edit)"),this.upload(c.clone(this.cw.config)))}upload(e){return this.logger.log("info","Download"),this.runConnection(()=>(this.logger.info("Download accelerometer data"),this.connection.Config.write(e).then(()=>(this.logger.log("info","Configuration uploaded"),this.connection.Command.storeConfiguration())).then(()=>{this.configUploadHandleAsync(e)}))).catch(e=>{throw this.sioEmitCw("config-state","upload-error",e),e})}configUploadHandleAsync(e){this.logger.log("info","Handle uploaded configuration"),e.primary.configNumber=this.cw.advertisement.configNumber,++e.primary.configNumber>=254&&(e.primary.configNumber=0),c.extend(this.cw.config,e),this.di.db.CarbonWearDAO.save(this.cw).then(e=>(this.cw=e,this.emitConfigNumericAction("upload"),this.logger.log("info","Configuration upload handled"),this.removeActiveTask())).catch(e=>{this.logger.error("config-state",e),this.sioEmitCw("config-state","upload-error",e)})}executeDownloadUploadConfig(){return this.logger.log("info","Download"),this.runConnection(()=>(this.logger.info("Download accelerometer data"),this.connection.Config.read().then(e=>(this.logger.log("info","Configuration downloaded"),this.connection.Config.write(e).then(()=>e))).then(e=>this.connection.Command.storeConfiguration().then(()=>e)).then(e=>{this.configUploadHandleAsync(e)}))).catch(e=>{throw this.sioEmitCw("config-state","download-error",e),e})}executeDataStream(){const e=new h.StreamHandler({adapter:this.adapter,connection:this.connection,taskDAO:this.di.db.TaskDAO,ping:()=>this.connection.Command.ping(),sioEmit:(e,...t)=>this.sioEmitCw(e,...t)});return this.runConnection(()=>e.start({config:this.cw.config.primary,device:this.peripheral,activeTask:this.activeTask}).then(()=>e.taskRunner()).then(()=>e.stop())).then(()=>{this.logger.info("stream completed")})}executeDownloadData(){return this.runConnection(()=>(this.logger.info("Download accelerometer data"),this.connection.DataDownload.download().then(e=>{this.processDataAsync(e)}).catch(e=>{throw e})))}processDataAsync(e){Promise.resolve().then(()=>{if(!e)throw new Error("Invalid data downloaded");this.logger.info("Data downloaded");const t=this.processAccelGyroData(e),r=this.di.config.Transceiver.DataStoragePath,i=this.buildFileName(r,this.cw.uuid);return this.ensureDirectoryExits(s.dirname(i)).then(()=>({filename:i,accelGyroData:t}))}).then(({filename:e,accelGyroData:t})=>this.saveFile(e,this.prepareData(t))).then(e=>(this.logger.info(`saved: ${e}`),this.uploadFileToGdn(e))).catch(e=>{this.logger.error("Cannot process data",e.message)})}processAccelGyroData(e){if(e.length<99600)throw new Error("Invalid data, not enough");let t=0;const r=[[],[],[]],i=[[],[],[]];for(;t<e.length;){for(let i=0;i<3;i++)r[i].push(e.readInt16LE(t)),t+=2;for(let r=0;r<3;r++)i[r].push(e.readInt16LE(t)),t+=2}return{accel:r,gyro:i}}ensureDirectoryExits(e){return new Promise((t,r)=>{l(e,e=>e?r(e):t())})}saveFile(e,t){return e=`${e}.gz`,this.compress(t).then(t=>this.writeFile(e,t)).then(()=>e)}prepareData(e){const t=this.cw,r=this.advert,i=m.Serializer.file({timestamp:r.timestamp,remoteDevice:m.Serializer.remoteDevice(t),remoteStatus:m.Serializer.remoteStatus(r),remoteConfig:m.Serializer.remoteConfig(t),localDevice:m.Serializer.localDevice({identifier:this.TX_IDENTIFIER,firmwareVersion:this.TX_SOFTWARE_VERSION}),localStatus:m.Serializer.localStatus({uptime:o.uptime()}),localConfig:m.Serializer.localConfig(),acceleration:m.Serializer.accelData(1666,e.accel),gyroscope:m.Serializer.gyroData(1666,e.gyro)});return Buffer.from(i.serializeBinary().buffer)}compress(e){return new Promise((t,r)=>{n.gzip(e,(e,i)=>{e?r(e):t(i)})})}buildFileName(e,t){const r=a().format("YYYYMMDD"),i=a().format("YYYYMMDDHHmmss"),o=s.join(e,t,r);return s.join(o,`${i}.cwd`)}writeFile(e,t){return new Promise((r,o)=>{i.writeFile(e,t,e=>{e?o(e):r()})})}uploadFileToGdn(e){if(!this.cw.sendToGdn)return Promise.resolve();const t=this.TX_IDENTIFIER;return this.di.db.GdnActionDAO.create({_id:void 0,centralUuid:t,requestType:"POST",scriptUrl:this.uploadFileScriptUrl,filename:e}).then(()=>{this.logger.info("Gdn action added"),this.sioEmitApp("newGdnAction")}).catch(e=>{this.logger.warn("Cannot add GDN action: ",e)})}handleData(){return Promise.resolve()}runConnection(e){return new Promise((t,r)=>{this.markStatus("Connecting..."),this.connection.connect().then(()=>{this.logger.log("info","Connected"),this.connection.discover().then(()=>(this.markStatus("Connected"),this.logger.log("info","Discovered"),e())).then(()=>this.stopConnection().then(()=>t()).catch(e=>r(e)),e=>this.stopConnection().then(()=>r(e)).catch(()=>r(e)))},e=>r(e))})}stopConnection(){return this.markStatus("Disconnecting..."),this.connection.disconnect().then(()=>{this.markStatus("Disconnected"),this.logger.log("info","Disconnected")})}emitConfigNumericAction(e){this.sioEmitCw("config-state",e,this.cw.config)}buildSample(){const e=this.advert,t=this.cw.config.primary;return{uuid:e.uuid,timestamp:e.timestamp,rssi:e.rssi,packetCounter:e.packetCounter,configNumber:e.configNumber,temperature:e.temperature,batteryVoltage:e.batteryVoltage,photoArrayRaw:e.photoArrayRaw,restartsUnknown:e.restartsUnknown,restartsSoftware:e.restartsSoftware,restartsWatchdog:e.restartsWatchdog,firmwareVersion:t.firmwareVersion,errors:e.errors}}buildGetParams(e){return{uuid:e.uuid,timestamp:Math.round(e.timestamp.getTime()/1e3),rssi:e.rssi,packetCounter:e.packetCounter,batteryVoltage:e.batteryVoltage,temperature:e.temperature,photoArrayRaw:e.photoArrayRaw,centralIdent:this.TX_IDENTIFIER,centralVersion:this.TX_SOFTWARE_VERSION,firmwareVersion:e.firmwareVersion}}sioEmitCw(e,...t){this.cw&&this.cw.uuid&&p.TdEvent.emitCarbonWear(e,this.cw.uuid,...t)}sioEmitApp(e,...t){this.cw&&this.cw.uuid&&p.TdEvent.emitApp(e,this.cw.uuid,...t)}}t.CarbonWearHandler=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(301),o=r(19),n=r(18),s=r(21),a=r(26),l=r(302);class c{constructor(e,t,r){this.serviceUUID=e,this.controlPointUUID=t,this.packetUUID=r,this.controlPoint=null,this.packet=null}discover(e,t){if(e.toLowerCase()===this.serviceUUID)switch(t.uuid.toLowerCase()){case this.controlPointUUID:this.controlPoint=t;break;case this.packetUUID:this.packet=t}}isValid(){return null!==this.controlPoint&&null!==this.packet}}class u extends n.Connection{constructor(e,t){super(e,t),this.config=null,this.command=null,this.downloadData=null,this.stream=null,this.configService=new c("000016231212efde1523785fdabcd123","000016341212efde1523785fdabcd123","000016351212efde1523785fdabcd123"),this.streamService=new c("000015231212efde1523785fdabcd123","000015241212efde1523785fdabcd123","000015251212efde1523785fdabcd123"),this.downloadService=new c("000017231212efde1523785fdabcd123","000017241212efde1523785fdabcd123","000017251212efde1523785fdabcd123")}discover(){return super.discover([],!0).then(e=>{if(this.logger.info("Validate services/characteristics"),Object.keys(e).forEach(t=>{Object.keys(e[t]).forEach(r=>{this.discoverCharacteristic(t,e[t][r])})}),!this.validateCharacteristics())throw new Error("Invalid characteristics discovered");return this.onCharacteristicsDiscover(),this.logger.info("Services/characteristics valid"),e}).catch(e=>{throw this.logger.info("Error during validating services/characteristics"+e),e})}discoverCharacteristic(e,t){this.configService.discover(e,t),this.downloadService.discover(e,t),this.streamService.discover(e,t)}validateCharacteristics(){return this.configService.isValid()&&this.downloadService.isValid()&&this.streamService.isValid()}onCharacteristicsDiscover(){const e=this.adapter,t=this.peripheral;this.config=new i.ConfigCarbonWear(new s.ConfigMessageV1(e,this.configService.controlPoint,this.configService.packet)),this.command=new o.CommandV1(e,this.configService.controlPoint,this.configService.packet),this.downloadData=new a.DownloadData(e,t,this.downloadService.controlPoint,this.downloadService.packet,this.command.ping.bind(this.command)),this.stream=new l.Stream(e,t,this.streamService.controlPoint,this.streamService.packet)}get Config(){return this.config}get Command(){return this.command}get DataDownload(){return this.downloadData}get Stream(){return this.stream}}t.ConnectionCarbonWear=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(20);class o extends i.Config{constructor(e){super(e,[["name","string","rw",1e3,20],["deviceType","uint16","r",0,2],["firmwareVersion","uint16","r",1,2],["configNumber","uint16","r",2,2],["advertInterval","uint16","rw",3,2],["advertWindowNonContactable","uint16","rw",4,2],["advertWindowContactable","uint16","rw",5,2],["nonContactableAdverts","uint16","rw",6,2],["samplingInterval","uint16","rw",7,2],["reserved1","uint16","rw",8,2],["reserved2","uint16","rw",9,2],["reserved3","uint16","rw",10,2],["reserved4","uint16","rw",11,2],["reserved5","uint16","rw",12,2],["hsAccelEnable","uint16","rw",13,2],["sensorType","uint16","rw",14,2],["analogStabilizationTime","uint16","rw",15,2]])}read(){return this.readPrimary().then(e=>{const t={timestamp:new Date,primary:{}};for(const r of this.fields){const i=r[0];t.primary[i]=this.getNumber(e[i])}return t.primary.name=this.getString(e.name),t})}getNumber(e){return"number"==typeof e?e:0}getString(e){return"string"==typeof e?e:""}write(e){return Promise.resolve().then(()=>this.writePrimary(e.primary)).then(()=>{e.timestamp=new Date})}}t.ConfigCarbonWear=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4),o=r(35),n=r(1);t.Stream=class{constructor(e,t,r,i){this.adapter=e,this.device=t,this.controlPoint=r,this.packet=i,this.logger=n.Logger.getLogger("cw-stream"),this.onDataCallback=null,this.onNotificationReference=null,this.onDisconnectedReference=null}start(e,t){return this.onDataCallback=t,this.startAllNotifications().then(()=>this.startStream(e.freq)).then(()=>this.adapter.gapStartRSSI(this.device)).then(()=>{this.setupNotificationHandler()})}startAllNotifications(){return this.adapter.startCharacteristicsNotifications(this.controlPoint).then(()=>this.adapter.startCharacteristicsNotifications(this.packet))}startStream(e=10){const t=Buffer.from([1,0,0]);return t.writeUInt16LE(e,1),this.sendAndReceive(t)}setupNotificationHandler(){this.onNotificationReference=this.onNotification.bind(this),this.adapter.on("characteristicValueChanged",this.onNotificationReference),this.onDisconnectedReference=this.onDisconnected.bind(this),this.adapter.on("deviceDisconnected",this.onDisconnectedReference)}stop(){return this.cleanupNotificationHandler(),this.logger.info("gapStopRSSI"),this.adapter.gapStopRSSI(this.device).then(()=>this.delay(1e3)).then(()=>this.stopStream()).then(()=>this.stopAllNotifications())}delay(e){return new Promise(t=>setTimeout(t,e))}cleanupNotificationHandler(){this.onNotificationReference&&(this.adapter.removeListener("characteristicValueChanged",this.onNotificationReference),this.onNotificationReference=null),this.onDisconnectedReference&&(this.adapter.removeListener("deviceDisconnected",this.onDisconnectedReference),this.onDisconnectedReference=null)}stopStream(){return this.sendAndReceive(Buffer.from([0]))}stopAllNotifications(){return this.adapter.stopCharacteristicsNotifications(this.controlPoint).then(()=>this.adapter.stopCharacteristicsNotifications(this.packet))}onDisconnected(){this.cleanupNotificationHandler()}onNotification(e){try{if(e.instanceId!==this.packet.instanceId)return;const t=Buffer.from(e.value);let r=0;const n=t.readUInt16LE(r);r+=2;const s=t.readInt16LE(r);r+=2;const a=t.readUInt16LE(r);r+=2;const l=t.readUIntLE(r,3);r+=3;const c=t.readUIntLE(r,3);r+=3;let u=t.readInt16LE(r);r+=2;let d=t.readInt16LE(r);r+=2;let g=t.readInt16LE(r);r+=2;const p=t.readInt8(r);r+=1;const h={packetCounter:n,remoteRssi:p,localRssi:this.device.rssi,temperatureRaw:s,temperature:o.Converter.intTempToDegC(s),batteryVoltageRaw:a,batteryVoltage:o.Converter.vbatToVolts(a),sensorCapacitanceRaw:l,sensorCapacitance:0,sensorTemperatureRaw:c,sensorTemperature:o.Converter.sensTempToDegC(c),sensorAccelXRaw:u,sensorAccelX:o.Converter.sensAccelToG(u),sensorAccelYRaw:d,sensorAccelY:o.Converter.sensAccelToG(d),sensorAccelZRaw:g,sensorAccelZ:o.Converter.sensAccelToG(g)};this.onDataCallback&&this.onDataCallback(i.clone(h))}catch(e){this.logger.warn(e)}}sendAndReceive(e){return new Promise((t,r)=>{if(null===this.controlPoint||null===this.packet)return r(new Error("Cannot send and receive data"));const i=()=>{this.adapter.removeListener("deviceDisconnected",o),this.adapter.removeListener("characteristicValueChanged",n)},o=e=>{e.instanceId===this.device.instanceId&&(i(),r(new Error("Device disconnected during data download")))},n=e=>{e.instanceId===this.controlPoint.instanceId&&(e=>{0!==e.readUInt8(0)?(i(),r(new Error("Cannot download header: no ack"))):t()})(new Buffer(e.value))};this.adapter.on("deviceDisconnected",o),this.adapter.on("characteristicValueChanged",n),this.adapter.writeCharacteristicValue(this.controlPoint,e).catch(e=>{i(),r(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(1);t.StreamHandler=class{constructor(e){this.di=e,this.PING_INTERVAL=5,this.logger=i.Logger.getLogger("cw-stream"),this.streamValue=null,this.streamCounter=0,this.device=null,this.activeTask=null,this.pingTimer=0,this.completeTaskRunner=null}start(e){this.device=e.device,this.activeTask=e.activeTask;const t=this.di.connection.Stream,r=this.getFrequency(this.activeTask);return t.start({freq:r},this.onData.bind(this)).then(()=>{this.logger.info("started")})}getFrequency(e){const t=e.options.freq;return t<0||t>100?10:t}stop(){return this.di.connection.Stream.stop()}onData(e){this.streamValue=e,this.streamCounter++,this.di.sioEmit("stream-sample",e)}taskRunner(){return new Promise((e,t)=>{if(null===this.device||null===this.activeTask)return t(new Error("Invalid device or active task"));this.completeTaskRunner=o=>{try{this.completeTaskRunner=null,clearInterval(i),this.di.adapter.removeListener("deviceDisconnected",r),o?(this.logger.warn(o.message),this.di.sioEmit("stream-state","stopped",o.message),t(o)):(this.di.sioEmit("stream-state","stopped"),e())}catch(e){this.logger.error(e.message),t(e)}};const r=this.onDisconnected.bind(this),i=setInterval(this.doPeriodicCheck.bind(this),1e3);this.di.sioEmit("stream-state","started"),this.di.adapter.on("deviceDisconnected",r)})}onDisconnected(e){e.address===this.device.address&&this.completeTaskRunner(new Error("Remote device disconnected unexpectedly during data stream."))}doPeriodicCheck(){this.pingHandler().then(()=>{this.logger.info("Ping")}).catch(e=>{this.logger.error(`Cannot ping remote device: ${e.message}`)}),this.printLatestSample(),this.streamCounter=0,this.streamValue=null,this.findTasks(this.activeTask.uuid).then(e=>{0===e.length?this.completeTaskRunner&&this.completeTaskRunner():(this.activeTask=e[0],this.checkActiveTask())}).catch(e=>{this.logger.info("find task error"),this.completeTaskRunner&&this.completeTaskRunner(e)})}checkActiveTask(){if(!this.completeTaskRunner)return;const e=this.activeTask.createdOn;Date.now()-e.getTime()<=6e4||(this.logger.warn("no ping, data stream timeout"),this.di.taskDAO.remove(this.activeTask).then(()=>{this.completeTaskRunner&&this.completeTaskRunner()}).catch(e=>{this.completeTaskRunner&&this.completeTaskRunner(new Error("Cannot remove active task."))}))}pingHandler(){return Promise.resolve().then(()=>{if(!(++this.pingTimer<this.PING_INTERVAL))return this.pingTimer=0,this.di.ping()})}printLatestSample(){null!==this.streamValue&&(this.logger.log("info",JSON.stringify(this.streamValue,(e,t)=>t&&t.toFixed?parseFloat(t.toFixed(6)):t)),this.logger.log("info",`Frequency: ${this.streamCounter} Hz`))}findTasks(e){return this.di.taskDAO.find({order:"-createdOn",skip:0,limit:1,criteria:{uuid:e,command:"stream"}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(22),o=r(305),n=r(13),s=r(13),a=r(13),l=r(13),c=r(13),u=r(13),d=r(13),g=r(13),p=r(13),h=r(13);t.Serializer=class{static advert(e){const t=new i.Data;return t.setTimestamp(e.timestamp.getTime()),t.setRssi(e.rssi),t.setPacketCounter(e.packetCounter),t.setConfigNumber(e.configNumber),t.setTemperature(e.temperature),t.setBatteryVoltage(e.batteryVoltage),t.setRestartsUnknown(e.restartsUnknown),t.setRestartsSoftware(e.restartsSoftware),t.setRestartsWatchdog(e.restartsWatchdog),t.setShallowSleepTimeout(0),t}static sample(e){const t=new o.Data;return t.setUuid(e.uuid),t.setTimestamp(e.timestamp.getTime()),t.setRssi(e.rssi),t.setPacketCounter(e.packetCounter),t.setConfigNumber(e.configNumber),t.setBatteryVoltage(e.batteryVoltage),t.setTemperature(e.temperature),t.setPhotoArrayRaw(e.photoArrayRaw),t.setRestartsUnknown(e.restartsUnknown),t.setRestartsSoftware(e.restartsSoftware),t.setRestartsWatchdog(e.restartsWatchdog),t.setErrors(e.errors),t}static file(e){const t=new n.File;return t.setTimestamp(e.timestamp.getTime()),t.setRemoteDevice(e.remoteDevice),t.setRemoteStatus(e.remoteStatus),t.setRemoteConfig(e.remoteConfig),t.setLocalDevice(e.localDevice),t.setLocalStatus(e.localStatus),t.setLocalConfig(e.localConfig),t.setAcceleration(e.acceleration),t.setGyroscope(e.gyroscope),t}static remoteDevice(e){const t=new s.RemoteDevice;return t.setAddress(e.address),t.setUuid(e.uuid),t.setType(e.type),t.setName(e.type),t.setFirmwareVersion(e.config.primary.firmwareVersion),t}static remoteStatus(e){const t=new a.RemoteStatus;return t.setRssi(e.rssi),t.setPacketCounter(e.packetCounter),t.setConfigNumber(e.configNumber),t.setTemperature(e.temperature),t.setBatteryVoltage(e.batteryVoltage),t.setPhotoArrayRaw(e.photoArrayRaw),t.setRestartsUnknown(e.restartsUnknown),t.setRestartsSoftware(e.restartsSoftware),t.setRestartsWatchdog(e.restartsWatchdog),t}static remoteConfig(e){const t=new l.RemoteConfig,r=e.config.primary;return t.setWakeupWindow(r.advertInterval),t.setSleepTime(r.advertWindowContactable),t.setSamplingInterval(r.samplingInterval),t}static localDevice(e){const t=new c.LocalDevice;return t.setIdentifier(e.identifier),t.setFirmwareVersion(e.firmwareVersion),t}static localStatus(e){const t=new u.LocalStatus;return t.setUptime(e.uptime),t}static localConfig(){return new d.LocalConfig}static accelData(e,t){const r=new Array;for(const e of t){const t=new h.Data;t.setValuesList(e),r.push(t)}const i=new g.Acceleration;return i.setSamplesList(r),i.setSamplingRate(e),i}static gyroData(e,t){const r=new Array;for(const e of t){const t=new h.Data;t.setValuesList(e),r.push(t)}const i=new p.Gyroscope;return i.setSamplesList(r),i.setSamplingRate(e),i}}},function(e,t,r){var i=r(5),o=i,n=Function("return this")();o.exportSymbol("proto.CarbonWearSample.Data",null,n),o.exportSymbol("proto.CarbonWearSample.DataArray",null,n),proto.CarbonWearSample.Data=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.CarbonWearSample.Data,i.Message),o.DEBUG&&!COMPILED&&(proto.CarbonWearSample.Data.displayName="proto.CarbonWearSample.Data"),i.Message.GENERATE_TO_OBJECT&&(proto.CarbonWearSample.Data.prototype.toObject=function(e){return proto.CarbonWearSample.Data.toObject(e,this)},proto.CarbonWearSample.Data.toObject=function(e,t){var r={uuid:t.getUuid(),timestamp:t.getTimestamp(),rssi:t.getRssi(),packetCounter:t.getPacketCounter(),configNumber:t.getConfigNumber(),batteryVoltage:t.getBatteryVoltage(),temperature:t.getTemperature(),photoArrayRaw:t.getPhotoArrayRaw(),restartsUnknown:t.getRestartsUnknown(),restartsSoftware:t.getRestartsSoftware(),restartsWatchdog:t.getRestartsWatchdog(),firmwareVersion:t.getFirmwareVersion(),errors:t.getErrors()};return e&&(r.$jspbMessageInstance=t),r}),proto.CarbonWearSample.Data.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.CarbonWearSample.Data;return proto.CarbonWearSample.Data.deserializeBinaryFromReader(r,t)},proto.CarbonWearSample.Data.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setUuid(r);break;case 2:r=t.readInt64();e.setTimestamp(r);break;case 3:r=t.readSint32();e.setRssi(r);break;case 4:r=t.readUint32();e.setPacketCounter(r);break;case 5:r=t.readUint32();e.setConfigNumber(r);break;case 6:r=t.readFloat();e.setBatteryVoltage(r);break;case 7:r=t.readFloat();e.setTemperature(r);break;case 8:r=t.readUint32();e.setPhotoArrayRaw(r);break;case 9:r=t.readUint32();e.setRestartsUnknown(r);break;case 10:r=t.readUint32();e.setRestartsSoftware(r);break;case 11:r=t.readUint32();e.setRestartsWatchdog(r);break;case 12:r=t.readUint32();e.setFirmwareVersion(r);break;case 13:r=t.readUint32();e.setErrors(r);break;default:t.skipField()}}return e},proto.CarbonWearSample.Data.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.CarbonWearSample.Data.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.CarbonWearSample.Data.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getUuid()).length>0&&e.writeString(1,t),0!==(t=this.getTimestamp())&&e.writeInt64(2,t),0!==(t=this.getRssi())&&e.writeSint32(3,t),0!==(t=this.getPacketCounter())&&e.writeUint32(4,t),0!==(t=this.getConfigNumber())&&e.writeUint32(5,t),0!==(t=this.getBatteryVoltage())&&e.writeFloat(6,t),0!==(t=this.getTemperature())&&e.writeFloat(7,t),0!==(t=this.getPhotoArrayRaw())&&e.writeUint32(8,t),0!==(t=this.getRestartsUnknown())&&e.writeUint32(9,t),0!==(t=this.getRestartsSoftware())&&e.writeUint32(10,t),0!==(t=this.getRestartsWatchdog())&&e.writeUint32(11,t),0!==(t=this.getFirmwareVersion())&&e.writeUint32(12,t),0!==(t=this.getErrors())&&e.writeUint32(13,t)},proto.CarbonWearSample.Data.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.CarbonWearSample.Data.prototype.getUuid=function(){return i.Message.getFieldProto3(this,1,"")},proto.CarbonWearSample.Data.prototype.setUuid=function(e){i.Message.setField(this,1,e)},proto.CarbonWearSample.Data.prototype.getTimestamp=function(){return i.Message.getFieldProto3(this,2,0)},proto.CarbonWearSample.Data.prototype.setTimestamp=function(e){i.Message.setField(this,2,e)},proto.CarbonWearSample.Data.prototype.getRssi=function(){return i.Message.getFieldProto3(this,3,0)},proto.CarbonWearSample.Data.prototype.setRssi=function(e){i.Message.setField(this,3,e)},proto.CarbonWearSample.Data.prototype.getPacketCounter=function(){return i.Message.getFieldProto3(this,4,0)},proto.CarbonWearSample.Data.prototype.setPacketCounter=function(e){i.Message.setField(this,4,e)},proto.CarbonWearSample.Data.prototype.getConfigNumber=function(){return i.Message.getFieldProto3(this,5,0)},proto.CarbonWearSample.Data.prototype.setConfigNumber=function(e){i.Message.setField(this,5,e)},proto.CarbonWearSample.Data.prototype.getBatteryVoltage=function(){return i.Message.getFieldProto3(this,6,0)},proto.CarbonWearSample.Data.prototype.setBatteryVoltage=function(e){i.Message.setField(this,6,e)},proto.CarbonWearSample.Data.prototype.getTemperature=function(){return i.Message.getFieldProto3(this,7,0)},proto.CarbonWearSample.Data.prototype.setTemperature=function(e){i.Message.setField(this,7,e)},proto.CarbonWearSample.Data.prototype.getPhotoArrayRaw=function(){return i.Message.getFieldProto3(this,8,0)},proto.CarbonWearSample.Data.prototype.setPhotoArrayRaw=function(e){i.Message.setField(this,8,e)},proto.CarbonWearSample.Data.prototype.getRestartsUnknown=function(){return i.Message.getFieldProto3(this,9,0)},proto.CarbonWearSample.Data.prototype.setRestartsUnknown=function(e){i.Message.setField(this,9,e)},proto.CarbonWearSample.Data.prototype.getRestartsSoftware=function(){return i.Message.getFieldProto3(this,10,0)},proto.CarbonWearSample.Data.prototype.setRestartsSoftware=function(e){i.Message.setField(this,10,e)},proto.CarbonWearSample.Data.prototype.getRestartsWatchdog=function(){return i.Message.getFieldProto3(this,11,0)},proto.CarbonWearSample.Data.prototype.setRestartsWatchdog=function(e){i.Message.setField(this,11,e)},proto.CarbonWearSample.Data.prototype.getFirmwareVersion=function(){return i.Message.getFieldProto3(this,12,0)},proto.CarbonWearSample.Data.prototype.setFirmwareVersion=function(e){i.Message.setField(this,12,e)},proto.CarbonWearSample.Data.prototype.getErrors=function(){return i.Message.getFieldProto3(this,13,0)},proto.CarbonWearSample.Data.prototype.setErrors=function(e){i.Message.setField(this,13,e)},proto.CarbonWearSample.DataArray=function(e){i.Message.initialize(this,e,0,-1,proto.CarbonWearSample.DataArray.repeatedFields_,null)},o.inherits(proto.CarbonWearSample.DataArray,i.Message),o.DEBUG&&!COMPILED&&(proto.CarbonWearSample.DataArray.displayName="proto.CarbonWearSample.DataArray"),proto.CarbonWearSample.DataArray.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.CarbonWearSample.DataArray.prototype.toObject=function(e){return proto.CarbonWearSample.DataArray.toObject(e,this)},proto.CarbonWearSample.DataArray.toObject=function(e,t){var r={samplesList:i.Message.toObjectList(t.getSamplesList(),proto.CarbonWearSample.Data.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.CarbonWearSample.DataArray.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.CarbonWearSample.DataArray;return proto.CarbonWearSample.DataArray.deserializeBinaryFromReader(r,t)},proto.CarbonWearSample.DataArray.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.CarbonWearSample.Data;t.readMessage(r,proto.CarbonWearSample.Data.deserializeBinaryFromReader),e.getSamplesList().push(r),e.setSamplesList(e.getSamplesList());break;default:t.skipField()}}return e},proto.CarbonWearSample.DataArray.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.CarbonWearSample.DataArray.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.CarbonWearSample.DataArray.prototype.serializeBinaryToWriter=function(e){var t;(t=this.getSamplesList()).length>0&&e.writeRepeatedMessage(1,t,proto.CarbonWearSample.Data.serializeBinaryToWriter)},proto.CarbonWearSample.DataArray.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.CarbonWearSample.DataArray.prototype.getSamplesList=function(){return i.Message.getRepeatedWrapperField(this,proto.CarbonWearSample.Data,1)},proto.CarbonWearSample.DataArray.prototype.setSamplesList=function(e){i.Message.setRepeatedWrapperField(this,1,e)},proto.CarbonWearSample.DataArray.prototype.clearSamplesList=function(){this.setSamplesList([])},o.object.extend(t,proto.CarbonWearSample)},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(4),n=r(17),s=r(307),a=r(1),l=r(11),c=r(318);var u,d,g;!function(e){e[e.ConfigDownload=0]="ConfigDownload",e[e.ConfigUplaod=1]="ConfigUplaod",e[e.ConfigDownloadUpload=2]="ConfigDownloadUpload",e[e.DownloadData=3]="DownloadData",e[e.DataStream=4]="DataStream",e[e.Idle=5]="Idle"}(u||(u={})),function(e){e[e.Default=0]="Default",e[e.NewDevice=1]="NewDevice",e[e.NewFirmware=2]="NewFirmware",e[e.ConfigNumber=3]="ConfigNumber",e[e.UserRequest=4]="UserRequest"}(d||(d={})),function(e){e[e.Header=0]="Header",e[e.Event=1]="Event",e[e.BGG=2]="BGG",e[e.EventTime=3]="EventTime",e[e.EventDummyData=4]="EventDummyData"}(g||(g={}));class p extends n.DeviceHandler{constructor(e,t){super(e,t),this.logger=a.Logger.getLogger("jrd-hdl-dpm"),this.TX_IDENTIFIER="",this.TX_SOFTWARE_VERSION=2,this.dpm=null,this.tasks=null,this.activeTask=null,this._actionResult={wakeup:!1,configDownload:!1,configUpload:!1,eventDownloaded:!1},this._eventData=null,this.connection=new s.ConnectionDpm(e.adapter,t.peripheral),this.TX_IDENTIFIER=e.config.Transceiver.Identifier,this.TX_SOFTWARE_VERSION=e.config.Transceiver.Version}handleConnection(){return i(this,void 0,void 0,(function*(){return this.logger.log("info","DPM handler started"),Promise.resolve().then(()=>this.pullDatabase()).then(()=>this.execute())}))}handleData(){return Promise.resolve()}pullDatabase(){return this.findDpm().then(e=>{if(null===e)return this.createDpm().then(e=>{this.dpm=e});this.dpm=e}).then(()=>this.findTasks(this.dpm.uuid)).then(e=>{this.tasks=e})}findDpm(){return this.di.db.DpmDAO.findByUuid(this.advert.uuid)}createDpm(){const e=this.advert;return this.di.db.DpmDAO.create({uuid:e.uuid,address:e.address,enabled:!0,hidden:!1})}findTasks(e){return this.di.db.TaskDAO.find({order:"-createdOn",skip:0,limit:1,criteria:{uuid:e}})}removeActiveTask(){return Promise.resolve().then(()=>{if(null===this.activeTask)return;const e=this.activeTask;return this.activeTask=null,this.di.db.TaskDAO.remove(e)})}execute(){if(this.logger.log("info","execute action"),this.updateAdvertisement(),this.isDisabled())return this.markStatus("Disabled"),Promise.resolve();this.markStatus("Wake Up");const e=this.buildSample();return this.addSample(e),this.executeAction().then(()=>{this.markStatus("Success"),this.logger.log("info","Dpm action successfully completed")}).catch(e=>{if(this.markStatus("Failure",e.message),this.logger.log("error","Cannot execute action",e.message),"Connect timed out."!==e.message)throw e})}updateAdvertisement(){const e=this.advert;this.dpm.advertisement||(this.dpm.advertisement={});const t=this.dpm.advertisement;return t.timestamp=e.timestamp,t.rssi=e.rssi,t.packetCounter=e.packetCounter,t.configNumber=e.configNumber,t.delta=e.value,t.temperature=e.temperature,t.batteryVoltage=e.batteryVoltage,t.restartsUnknown=e.restartsUnknown,t.restartsSoftware=e.restartsSoftware,t.restartsWatchdog=e.restartsWatchdog,t.offsetCh1=e.offsetCh1,t.offsetCh2=e.offsetCh2,this.di.db.AdvertDAO.create(e).catch(e=>{this.logger.log("warn","DPM cannot store advert",e)}),this.di.db.DpmDAO.save(this.dpm).then(e=>{this.dpm=e,this.logger.log("info","DPM advertisement updated")})}isDisabled(){return!this.dpm.enabled}markStatus(e,t){this.dpm.connection||(this.dpm.connection={}),this.dpm.connection.status||(this.dpm.connection.status={});let r=this.dpm.connection.status;return r.timestamp=new Date,r.label=e,r.message=t||"",this.sioEmitDpm("status",r),this.logger.log("info","Status",e),this.di.db.DpmDAO.save(this.dpm).then(t=>{this.dpm=t,this.logger.log("info","Dpm status updated "+e)})}addSample(e){this.logger.info("addSample: \r\n",JSON.stringify(e,null,2)),this.di.db.DpmSampleDAO.create(e).catch(e=>{this.logger.log("warn","Dpm cannot save sample ",e)})}addSlowSample(e){try{this.sioEmitDpm("sample",e)}catch(e){this.logger.log("warn",e)}this.di.db.DpmSlowSampleDAO.create(e).catch(e=>{this.logger.log("warn","Dpm cannot save sample ",e)})}executeAction(){const e=this.getAction(),[t,r]=e;switch(this.logger.log("info","do "+t+" "+r),t){case u.ConfigDownload:return this.executeDownloadConfig();case u.ConfigUplaod:return this.executeUploadConfig();case u.ConfigDownloadUpload:return this.executeDownloadUploadConfig();case u.DownloadData:return this.executeEventAction();case u.DataStream:return this.executeDataStream();case u.Idle:return this.executeDownloadStats()}return Promise.reject(new Error("Unknown task: "+t))}getAction(){this.activeTask=null;const e=this.getConfigAction();if(null!==e)return e;if(this.tasks&&this.tasks.length>0&&"stream"===this.tasks[0].command)return[u.DataStream,d.Default];const t=this.getEventAction();return null!==t?t:[u.Idle,d.Default]}getConfigAction(){const e=this.advert,t=this.dpm.config,r=this.tasks,i=255&t.primary.configNumber,o=e.configNumber;if(this.logger.log("info","configuraton",JSON.stringify(t)),null===t.timestamp)return[u.ConfigDownload,d.NewDevice];if(255===e.configNumber)return[u.ConfigUplaod,d.NewFirmware];if(254===e.configNumber)return[u.ConfigDownloadUpload,d.NewFirmware];if(i!==o)return[u.ConfigDownload,d.ConfigNumber];if(r.length)switch(this.activeTask=r[0],r[0].command){case"upload":return[u.ConfigUplaod,d.UserRequest];case"download":return[u.ConfigDownload,d.UserRequest]}return null}getEventAction(){return 0!==this.advert.value?[u.DownloadData,d.Default]:null}emitConfigNumericAction(e){this.sioEmitDpm("config-state",e,this.dpm.config)}executeDownloadConfig(){return this.logger.log("info","Download"),this.runConnection(()=>(this.logger.info("Download accelerometer data"),this.connection._config.read().then(e=>{this.logger.log("info","Configuration downloaded"),this.configDownloadHandleAsync(e)}))).catch(e=>{throw this.sioEmitDpm("config-state","download-error",e),e})}configDownloadHandleAsync(e){this.logger.log("info","Handle downloaded configuration"),o.extend(this.dpm.config,e),this.di.db.DpmDAO.save(this.dpm).then(e=>(this.dpm=e,this.emitConfigNumericAction("download"),this.removeActiveTask())).catch(e=>{this.logger.error("config-state",e),this.sioEmitDpm("config-state","download-error",e)})}executeUploadConfig(){return null!==this.activeTask?this.upload(this.activeTask.options):(this.logger.log("info","Copy config (actual->edit)"),this.upload(o.clone(this.dpm.config)))}upload(e){return this.logger.log("info","Download"),this.runConnection(()=>(this.logger.info("Download accelerometer data"),this.connection._config.write(e).then(()=>(this.logger.log("info","Configuration uploaded"),this.connection._command.storeConfiguration())).then(()=>{this.configUploadHandleAsync(e)}))).catch(e=>{throw this.sioEmitDpm("config-state","upload-error",e),e})}configUploadHandleAsync(e){this.logger.log("info","Handle uploaded configuration"),e.primary.configNumber=this.dpm.advertisement.configNumber,++e.primary.configNumber>=254&&(e.primary.configNumber=0),o.extend(this.dpm.config,e),this.di.db.DpmDAO.save(this.dpm).then(e=>(this.dpm=e,this.emitConfigNumericAction("upload"),this.logger.log("info","Configuration upload handled"),this.removeActiveTask())).catch(e=>{this.logger.error("config-state",e),this.sioEmitDpm("config-state","upload-error",e)})}executeDownloadUploadConfig(){return this.logger.log("info","Download"),this.runConnection(()=>(this.logger.info("Download accelerometer data"),this.connection._config.read().then(e=>(this.logger.log("info","Configuration downloaded"),this.connection._config.write(e).then(()=>e))).then(e=>this.connection._command.storeConfiguration().then(()=>e)).then(e=>{this.configUploadHandleAsync(e)}))).catch(e=>{throw this.sioEmitDpm("config-state","download-error",e),e})}executeEventAction(){this.logger.log("info","Event");let e={event:{content:null,raw:null},header:{content:null,raw:null},time:{content:null,raw:null},stats:{stats:null,data:null},dummy:{content:null,raw:null}};return this.runConnection(()=>i(this,void 0,void 0,(function*(){yield this.connection.setNotifications(!0),yield this.connection.setTime(new Date),e.event=yield this.connection.downloadEventData(),e.header=yield this.connection.downloadHeader(),e.time=yield this.connection.downloadEventTime(),e.stats=yield this.connection.downloadStats(),e.dummy=yield this.connection.downloadEventDummyData(),this._eventData=e.event,this._actionResult.eventDownloaded=!0,yield this.connection.complete(),yield this.connection.watchdogKick()})))}executeDataStream(){const e=new c.StreamHandler({adapter:this.adapter,connection:this.connection,taskDAO:this.di.db.TaskDAO,ping:()=>this.connection._command.ping(),sioEmit:(e,...t)=>this.sioEmitDpm(e,...t)});return this.runConnection(()=>i(this,void 0,void 0,(function*(){yield this.connection.setNotifications(!0),yield this.connection.setTime(new Date),yield this.connection.watchdogKick(),yield e.start({config:this.dpm.config.primary,device:this.peripheral,activeTask:this.activeTask}).then(()=>e.taskRunner()).then(()=>e.stop()),this.logger.info("stream completed")})))}executeDownloadStats(){this.logger.log("info","Stats");let e={stats:{stats:null,data:null}};return this.runConnection(()=>i(this,void 0,void 0,(function*(){yield this.connection.setNotifications(!0),yield this.connection.setTime(new Date),e.stats=yield this.connection.downloadStats(),yield this.connection.watchdogKick(),console.log("stats",e.stats)})))}buildSample(){const e=this.advert;this.dpm.config.primary;return{uuid:e.uuid,timestamp:e.timestamp,rssi:e.rssi,packetCounter:e.packetCounter,configNumber:e.configNumber,delta:e.value,temperature:e.temperature,batteryVoltage:e.batteryVoltage,restartsUnknown:e.restartsUnknown,restartsSoftware:e.restartsSoftware,restartsWatchdog:e.restartsWatchdog,offsetCh1:e.offsetCh1,offsetCh2:e.offsetCh2}}runConnection(e){return new Promise((t,r)=>{this.markStatus("Connecting..."),this.connection.connect().then(()=>{this.logger.log("info","Connected"),this.connection.discover().then(()=>(this.markStatus("Connected"),this.logger.log("info","Discovered"),e())).then(()=>this.stopConnection().then(()=>t()).catch(e=>r(e)),e=>this.stopConnection().then(()=>r(e)).catch(()=>r(e)))},e=>r(e))})}stopConnection(){return this.markStatus("Disconnecting..."),this.connection.disconnect().then(()=>{this.markStatus("Disconnected"),this.logger.log("info","Disconnected")})}sioEmitDpm(e,...t){this.dpm&&this.dpm.uuid&&l.TdEvent.emitDpm(e,this.dpm.uuid,...t)}sioEmitApp(e,...t){this.dpm&&this.dpm.uuid&&l.TdEvent.emitApp(e,this.dpm.uuid,...t)}}t.DpmHandler=p},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(19),n=r(18),s=r(21),a=r(308),l=r(309),c=r(310),u=r(312);class d extends n.Connection{constructor(e,t){super(e,t),this.ACCELERATION={VRef:3,AdcResolution:1024,MVPerV:1e3,MVPerG:57},this.downloadEvent=null,this.servicesList=["000015231212efde1523785fdabcd123","000016231212efde1523785fdabcd123","000017231212efde1523785fdabcd123"],this.clearCharacteristics()}discover(){const e=this;return new Promise((t,r)=>{super.discover(e.servicesList).then(i=>{if(this.logger.info("Validate services/characteristics"),e.clearCharacteristics(),Object.keys(i).forEach(t=>{Object.keys(i[t]).forEach(r=>{e.discoverCharacteristic(t,i[t][r])})}),!e.validateCharacteristics()){const e=new Error("Invalid characteristics discovered");return this.logger.info(e.message),void r(e)}e.onCharacteristicsDiscover(),this.logger.info("Services/characteristics valid"),t(i)}).catch(e=>{this.logger.info("Error during validating services/characteristics"+e),r(e)})})}clearCharacteristics(){this.indexChar=null,this.valueChar=null,this.controlPointChar=null,this.packetChar=null,this.accel13Char=null,this.accel24Char=null,this.vmonChar=null}discoverCharacteristic(e,t){switch(e.toLowerCase()){case"000015231212efde1523785fdabcd123":this.discoverMeasurementCharacteristic(t);break;case"000016231212efde1523785fdabcd123":this.discoverConfigurationCharacteristic(t);break;case"000017231212efde1523785fdabcd123":this.discoverDataCharacteristic(t)}}discoverMeasurementCharacteristic(e){switch(e.uuid.toLowerCase()){case"000015241212efde1523785fdabcd123":this.vmonChar=e;break;case"000015341212efde1523785fdabcd123":this.accel13Char=e;break;case"000015351212efde1523785fdabcd123":this.accel24Char=e}}discoverConfigurationCharacteristic(e){switch(e.uuid.toLowerCase()){case"000016241212efde1523785fdabcd123":this.indexChar=e;break;case"000016251212efde1523785fdabcd123":this.valueChar=e}}discoverDataCharacteristic(e){switch(e.uuid.toLowerCase()){case"000017241212efde1523785fdabcd123":this.controlPointChar=e;break;case"000017251212efde1523785fdabcd123":this.packetChar=e}}validateCharacteristics(){return null!==this.indexChar&&null!==this.valueChar&&null!==this.controlPointChar&&null!==this.packetChar&&null!==this.vmonChar&&null!==this.accel13Char&&null!==this.accel24Char}onCharacteristicsDiscover(){let e=new s.ConfigMessageDpmBcmMt(this.adapter,this.indexChar,this.valueChar);this._config=new a.ConfigDpm(e),this._command=new o.CommandV1(this.adapter,this.indexChar,this.valueChar),this._stream=new l.Stream(this.adapter,this.peripheral,this.accel13Char),this.downloadEvent=new c.DownloadEvent(this.adapter,this.peripheral,this.controlPointChar,this.packetChar,void 0)}memoryTest(){return this._command.memoryTest()}restart(){return this._command.restart()}setTime(e){return this.downloadEvent.setTime(e)}watchdogKick(){return this.downloadEvent.watchdogKick()}downloadEventTime(){return this.logger.info("Download event time"),new Promise((e,t)=>{this.downloadEvent.downloadEvent(3).then(r=>{if(4!==r.length){const e=new Error("Incorrect length of event time data");return this.logger.info(""+e.message),void t(e)}const i={content:{timestamp:null,timediff:r.readUInt32LE(0)},raw:null};this.logger.info("Event time downloaded"),e(i)}).catch(e=>{this.logger.info("Error during downloading event"),t(e)})})}downloadHeader(){const e=this;return this.logger.info("Download event header"),new Promise((t,r)=>{this.downloadEvent.downloadEvent(0).then(r=>{const i={content:e.parseHeader(r),raw:null};this.logger.info("Event header downloaded"),t(i)}).catch(e=>{this.logger.info("Error during downloading event header"),r(e)})})}parseHeader(e){const t=this;return u.parse(e).word8("memoryVersion").word16lu("deviceType").word16lu("firmwareVersion").word16lu("configNumber").word16lu("advertisementWindow").word16lu("samplingInterval").word16lu("dischargeInterval").word16lu("advertInterval").word16lu("analogOffInterval").word16lu("triggerFlags").word16lu("filterFlags").word16lu("offsetCh1").word16lu("offsetCh2").word16lu("offsetCh3").word16lu("offsetCh4").tap((function(e){this.vars.offsets=[],this.vars.offsets.push(e.offsetCh1),this.vars.offsets.push(e.offsetCh2),this.vars.offsets.push(e.offsetCh3),this.vars.offsets.push(e.offsetCh4)})).word16lu("minimumDelta").tap((function(e){this.vars.minimumDeltaG=t.adcToAcceleration(e.minimumDelta,0)})).word16lu("filterS1Coef1").word16lu("filterS1Coef2").word16lu("filterS1Coef3").word16lu("filterS1Coef4").word16lu("filterS1Coef5").word16lu("filterS1Coef6").word16lu("filterS1Gain").tap((function(e){this.vars.filterS1Coefs=[],this.vars.filterS1Coefs.push(e.filterS1Coef1),this.vars.filterS1Coefs.push(e.filterS1Coef2),this.vars.filterS1Coefs.push(e.filterS1Coef3),this.vars.filterS1Coefs.push(e.filterS1Coef4),this.vars.filterS1Coefs.push(e.filterS1Coef5),this.vars.filterS1Coefs.push(e.filterS1Coef6),delete this.vars.filterS1Coef1,delete this.vars.filterS1Coef2,delete this.vars.filterS1Coef3,delete this.vars.filterS1Coef4,delete this.vars.filterS1Coef5,delete this.vars.filterS1Coef6})).word16lu("filterS2Coef1").word16lu("filterS2Coef2").word16lu("filterS2Coef3").word16lu("filterS2Coef4").word16lu("filterS2Coef5").word16lu("filterS2Coef6").word16lu("filterS2Gain").tap((function(e){this.vars.filterS2Coefs=[],this.vars.filterS2Coefs.push(e.filterS2Coef1),this.vars.filterS2Coefs.push(e.filterS2Coef2),this.vars.filterS2Coefs.push(e.filterS2Coef3),this.vars.filterS2Coefs.push(e.filterS2Coef4),this.vars.filterS2Coefs.push(e.filterS2Coef5),this.vars.filterS2Coefs.push(e.filterS2Coef6),delete this.vars.filterS2Coef1,delete this.vars.filterS2Coef2,delete this.vars.filterS2Coef3,delete this.vars.filterS2Coef4,delete this.vars.filterS2Coef5,delete this.vars.filterS2Coef6})).word16lu("filterS3Coef1").word16lu("filterS3Coef2").word16lu("filterS3Coef3").word16lu("filterS3Coef4").word16lu("filterS3Coef5").word16lu("filterS3Coef6").word16lu("filterS3Gain").tap((function(e){this.vars.filterS3Coefs=[],this.vars.filterS3Coefs.push(e.filterS3Coef1),this.vars.filterS3Coefs.push(e.filterS3Coef2),this.vars.filterS3Coefs.push(e.filterS3Coef3),this.vars.filterS3Coefs.push(e.filterS3Coef4),this.vars.filterS3Coefs.push(e.filterS3Coef5),this.vars.filterS3Coefs.push(e.filterS3Coef6),delete this.vars.filterS3Coef1,delete this.vars.filterS3Coef2,delete this.vars.filterS3Coef3,delete this.vars.filterS3Coef4,delete this.vars.filterS3Coef5,delete this.vars.filterS3Coef6})).word16lu("filterSectionFlags").word16lu("loggingChannelFlags").skip(32).buffer("name",22).tap((function(e){this.vars.name=e.name.toString("ascii").replace(/\0/g,"")})).skip(32).word16lu("batteryVoltage").tap((function(e){this.vars.batteryVoltageV=t.adcToBatteryVoltage(e.batteryVoltage)})).word16ls("temperature").tap((function(e){this.vars.temperatureCdeg=t.adcToTemperature(e.temperature)})).buffer("address",6).tap((function(e){var t=e.address.toString("hex").match(/.{2}/g);this.vars.address=null===t?"Unknown":t.reverse().join("")})).word32lu("time").tap((function(e){this.vars.time=new Date(1e3*e.time)})).word16lu("restartsUnknown").word16lu("restartsSoftware").word16lu("restartsWatchdog").word8("triggerChannel").word16lu("triggerDelta").tap((function(e){this.vars.triggerDeltaG=t.adcToAcceleration(e.triggerDelta,0)})).word16lu("eventId").vars}adcToVolts(e){return this.ACCELERATION.VRef*e/(this.ACCELERATION.AdcResolution-1)}voltsToAdc(e){return e*(this.ACCELERATION.AdcResolution-1)/this.ACCELERATION.VRef}adcToAcceleration(e,t){return this.adcToVolts(e-t)*this.ACCELERATION.MVPerV/this.ACCELERATION.MVPerG}accelerationToAdc(e,t){return this.voltsToAdc(e*this.ACCELERATION.MVPerG/this.ACCELERATION.MVPerV)+t}downloadEventData(){const e=this;return new Promise((t,r)=>{this.downloadEvent.downloadEvent(1).then(r=>{const i={content:e.parseEvent(r),raw:null};t(i)}).catch(e=>{r(e)})})}parseEvent(e){return u.parse(e).loop((function(e){this.word16lu("ch1").word16lu("ch2"),void 0===this.vars.data&&(this.vars.data=[]),this.vars.data.push([this.vars.ch1,this.vars.ch2]),this.eof()&&e()})).vars.data}downloadEventDummyData(){const e=this;return new Promise((t,r)=>{this.downloadEvent.downloadEvent(4).then(r=>{const i={content:e.parseEventDummyData(r),raw:null};this.logger.info("Event dummy downloaded"),t(i)}).catch(e=>{r(e)})})}parseEventDummyData(e){var t=0;return u.parse(e).loop((function(e){this.word16lu("value"),void 0===this.vars.data&&(this.vars.data=[]);var r=this.vars.data,i=this.vars.value;if(++t<=20)r.push([i,0]);else{var o=t-21;r[o]&&(r[o][1]=i)}(t>=40||this.eof())&&e()})).vars.data}downloadStats(){const e=this;return new Promise((t,r)=>{this.downloadEvent.downloadEvent(2).then(r=>{console.log("Raw",r);const i={stats:e.parseStats(r),data:null};t(i)}).catch(e=>{r(e)})})}parseStats(e){const t=this;return u.parse(e).loop((function(e,r){this.word32lu("timestamp").word16lu("current").word16ls("temperature").word16lu("batteryVoltage").skip(2),void 0===this.vars.data&&(this.vars.data=[]),this.vars.data.push({timestamp:t.parseUnixTime(r.timestamp),current:t.adcToAverageCurrentConsumption(r.current),temperature:t.adcToTemperature(r.temperature),batteryVoltage:t.adcToBatteryVoltage(r.batteryVoltage),currentRaw:r.current,temperatureRaw:r.temperature,batteryVoltageRaw:r.batteryVoltage}),this.eof()&&e()})).vars.data}complete(){return this.downloadEvent.complete()}setNotifications(e){return i(this,void 0,void 0,(function*(){yield this.downloadEvent.setNotifications(e)}))}parseUnixTime(e){return new Date(1e3*e)}adcToBatteryVoltage(e){return.0032*e+.1665}adcToTemperature(e){return e/4}adcToAverageCurrentConsumption(e){return 0===e?0:2.4005*e+3.991}}t.ConnectionDpm=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(20);class o extends i.Config{constructor(e){super(e,[["deviceType","uint16","r",0,2],["firmwareVersion","uint16","r",1,2],["configNumber","uint16","r",2,2],["advertisementWindow","uint16","rw",3,2],["samplingInterval","uint16","rw",4,2],["dischargeInterval","uint16","rw",5,2],["advertInterval","uint16","rw",6,2],["analogOffInterval","uint16","rw",7,2],["triggerFlags","uint16","rw",8,2],["filterFlags","uint16","rw",9,2],["offsetCh1","uint16","rw",10,2],["offsetCh2","uint16","rw",11,2],["offsetCh3","uint16","rw",12,2],["offsetCh4","uint16","rw",13,2],["minimumDelta","uint16","rw",14,2],["filterS1Coef1","uint16","rw",15,2],["filterS1Coef2","uint16","rw",16,2],["filterS1Coef3","uint16","rw",17,2],["filterS1Coef4","uint16","rw",18,2],["filterS1Coef5","uint16","rw",19,2],["filterS1Coef6","uint16","rw",20,2],["filterS1Gain","uint16","rw",21,2],["filterS2Coef1","uint16","rw",22,2],["filterS2Coef2","uint16","rw",23,2],["filterS2Coef3","uint16","rw",24,2],["filterS2Coef4","uint16","rw",25,2],["filterS2Coef5","uint16","rw",26,2],["filterS2Coef6","uint16","rw",27,2],["filterS2Gain","uint16","rw",28,2],["filterS3Coef1","uint16","rw",29,2],["filterS3Coef2","uint16","rw",30,2],["filterS3Coef3","uint16","rw",31,2],["filterS3Coef4","uint16","rw",32,2],["filterS3Coef5","uint16","rw",33,2],["filterS3Coef6","uint16","rw",34,2],["filterS3Gain","uint16","rw",35,2],["filterSectionFlags","uint16","rw",36,2],["loggingChannelFlags","uint16","rw",37,2]])}read(){return this.readPrimary().then(e=>{const t={timestamp:new Date,primary:{}};for(const r of this.fields){const i=r[0];t.primary[i]=this.getNumber(e[i])}return t.primary.name=this.getString(e.name),t})}getNumber(e){return"number"==typeof e?e:0}getString(e){return"string"==typeof e?e:""}write(e){return Promise.resolve().then(()=>this.writePrimary(e.primary)).then(()=>{e.timestamp=new Date})}}t.ConfigDpm=o,o.VERSION=1},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4),o=r(1);t.Stream=class{constructor(e,t,r){this.adapter=e,this.device=t,this.accel13=r,this.logger=o.Logger.getLogger("dpm-stream"),this.onDataCallback=null,this.onNotificationReference=null,this.onDisconnectedReference=null}start(e,t){return this.onDataCallback=t,this.startAllNotifications().then(()=>this.startStream(e.freq)).then(()=>this.adapter.gapStartRSSI(this.device)).then(()=>{this.setupNotificationHandler()})}startAllNotifications(){return this.adapter.startCharacteristicsNotifications(this.accel13)}startStream(e=10){const t=Buffer.from([1,0,0]);return t.writeUInt16LE(e,1),this.sendAndReceive(t)}setupNotificationHandler(){this.onNotificationReference=this.onNotification.bind(this),this.adapter.on("characteristicValueChanged",this.onNotificationReference),this.onDisconnectedReference=this.onDisconnected.bind(this),this.adapter.on("deviceDisconnected",this.onDisconnectedReference)}stop(){return this.cleanupNotificationHandler(),this.logger.info("gapStopRSSI"),this.adapter.gapStopRSSI(this.device).then(()=>this.delay(1e3)).then(()=>this.stopStream()).then(()=>this.stopAllNotifications())}delay(e){return new Promise(t=>setTimeout(t,e))}cleanupNotificationHandler(){this.onNotificationReference&&(this.adapter.removeListener("characteristicValueChanged",this.onNotificationReference),this.onNotificationReference=null),this.onDisconnectedReference&&(this.adapter.removeListener("deviceDisconnected",this.onDisconnectedReference),this.onDisconnectedReference=null)}stopStream(){return this.sendAndReceive(Buffer.from([0]))}stopAllNotifications(){return this.adapter.stopCharacteristicsNotifications(this.accel13)}onDisconnected(){this.cleanupNotificationHandler()}onNotification(e){try{if(e.instanceId!==this.accel13.instanceId)return;const t=Buffer.from(e.value);console.log("Stream buffer: ",t,t.length);let r=0;const o=t.readUInt16LE(r);r+=2;const n=t.readInt16LE(r);r+=2;const s=t.readUInt16LE(r);r+=2;let a=t.readInt16LE(r);r+=2;let l=t.readInt16LE(r);r+=2;let c=t.readInt16LE(r);r+=2;const u=t.readInt8(r);r+=1;const d={packetCounter:o,remoteRssi:u,localRssi:this.device.rssi,temperatureRaw:n,temperature:this.intTempToDegC(n),batteryVoltageRaw:s,batteryVoltage:this.vbatToVolts(s),sensorAccelXRaw:a,sensorAccelX:this.sensAccelToG(a),sensorAccelYRaw:l,sensorAccelY:this.sensAccelToG(l),sensorAccelZRaw:c,sensorAccelZ:this.sensAccelToG(c)};this.onDataCallback&&this.onDataCallback(i.clone(d))}catch(e){this.logger.warn(e)}}sendAndReceive(e){return new Promise((e,t)=>{if(null===this.accel13)return t(new Error("Cannot send and receive data"));const r=()=>{this.adapter.removeListener("deviceDisconnected",i)},i=e=>{e.instanceId===this.device.instanceId&&(r(),t(new Error("Device disconnected during data download")))};this.adapter.on("deviceDisconnected",i)})}sensAccelToG(e){return e/10}intTempToDegC(e){return e/4}vbatToVolts(e){return e/1024*3.6}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(311),n=r(170);class s extends o.DownloadEventMessage{constructor(e,t,r,i,o){super(e,t,r,i,o)}downloadEvent(e){return i(this,void 0,void 0,(function*(){return yield this.runEventDownload(e)}))}runEventDownload(e){return i(this,void 0,void 0,(function*(){const t=yield this.requestEventSize(e),r=yield this.requestEventData(0,t);if((yield this.requestCRC(e))!==n.crc16ccitt(r,0))throw new Error("Invalid event CRC");return r}))}setNotifications(e){return i(this,void 0,void 0,(function*(){yield this.setControlPointNotification(e),yield this.setDataNotification(e)}))}setTime(e){return this.setTimeMessage(e)}complete(){return this.completeMessage()}watchdogKick(){return this.watchdogKickMessage()}}t.DownloadEvent=s},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(167);var n,s;!function(e){e[e.Header=0]="Header",e[e.Data=1]="Data"}(n||(n={})),function(e){e[e.ACK=0]="ACK",e[e.NACK=1]="NACK"}(s||(s={}));class a extends o.DownloadDataMessage{constructor(e,t,r,i,o){super(e,t,r,i,o)}sendAndReceiveACK(e){return new Promise((t,r)=>{if(null===this.controlPoint||null===this.packet)return r(new Error("Cannot send and receive data"));const i=()=>{this.adapter.removeListener("deviceDisconnected",o),this.adapter.removeListener("characteristicValueChanged",n)},o=e=>{e.instanceId===this.device.instanceId&&(i(),r(new Error("Device disconnected during data download")))},n=e=>{e.instanceId===this.controlPoint.instanceId&&(e=>{e.readUInt8(0)!==s.ACK&&(i(),r(new Error("Cannot download header: no ack"))),t()})(new Buffer(e.value))};this.adapter.on("deviceDisconnected",o),this.adapter.on("characteristicValueChanged",n),this.adapter.writeCharacteristicValue(this.controlPoint,e).catch(e=>{i(),r(e)})})}requestEventData(e,t,r=6e4){return new Promise((i,o)=>{if(null===this.controlPoint||null===this.packet)return o(new Error("Cannot download data"));const n=()=>{this.adapter.removeListener("deviceDisconnected",a),this.adapter.removeListener("characteristicValueChanged",p),clearInterval(h),clearTimeout(l)},a=e=>{e.instanceId===this.device.instanceId&&(n(),o(new Error("Device disconnected during data download")))},l=setTimeout(()=>{n(),o(new Error("Timeout during data download."))},r),c=Buffer.alloc(t);let u=0,d=0;const g=e=>{let r=e.length;u+r<t?u=this.addDataChunk(c,u,e,r):(u+r>t&&(r=t-u),u=this.addDataChunk(c,u,e,r),this.logger.info(`data size: ${c.length}`),n(),i(c)),d!==r&&(d=r,this.logger.info(`Chunk size: ${r}`))},p=e=>{e.instanceId===this.controlPoint.instanceId&&(e=>{e.readUInt8(0)!==s.ACK&&(n(),o(new Error("Cannot download data: no ack")))})(new Buffer(e.value)),e.instanceId===this.packet.instanceId&&g(new Buffer(e.value))};this.adapter.on("deviceDisconnected",a),this.adapter.on("characteristicValueChanged",p);const h=setInterval(()=>{this.logger.info(`Progress: ${u} / ${t}`)},5e3);this.adapter.writeCharacteristicValue(this.controlPoint,this.buildRequestEventData(e,t)).catch(e=>{n(),o(e)})})}buildRequestEventData(e,t){var r=new Buffer(7);return r.writeUInt8(1,0),r.writeUInt8(1,1),r.writeUInt8(1,2),r.writeUInt16LE(e,3),r.writeUInt16LE(t,5),r}requestEventSize(e){return this.sendAndReceive(this.buildEventHeader(e)).then(e=>e.readUInt16LE(0))}buildEventHeader(e){const t=new Buffer(3);return t.writeUInt8(1,0),t.writeUInt8(e,1),t.writeUInt8(0,2),t}requestCRC(e){return this.sendAndReceive(this.buildCRCMessage(e)).then(e=>e.readUInt16LE(0))}buildCRCMessage(e){const t=new Buffer(3);return t.writeUInt8(1,0),t.writeUInt8(e,1),t.writeUInt8(2,2),t}completeMessage(){return i(this,void 0,void 0,(function*(){return this.sendAndReceiveACK(this.buildCompleteMessage())}))}buildCompleteMessage(){const e=new Buffer(1);return e.writeUInt8(2,0),e}setTimeMessage(e){return i(this,void 0,void 0,(function*(){const t=Math.round(e.getTime()/1e3);return this.sendAndReceiveACK(this.buildSetTimeMessage(t))}))}buildSetTimeMessage(e){const t=new Buffer(5);return t.writeUInt8(0,0),t.writeUInt32LE(e,1),t}watchdogKickMessage(){return i(this,void 0,void 0,(function*(){return this.sendAndReceiveACK(this.buildWatchdogKickMessage())}))}buildWatchdogKickMessage(){const e=new Buffer(1);return e.writeUInt8(4,0),e}}t.DownloadEventMessage=a},function(e,t,r){var i=r(313),o=r(28).EventEmitter,n=r(315),s=r(316),a=r(317).Stream;function l(e){for(var t=0,r=0;r<e.length;r++)t+=Math.pow(256,r)*e[r];return t}function c(e){for(var t=0,r=0;r<e.length;r++)t+=Math.pow(256,e.length-r-1)*e[r];return t}function u(e){var t=c(e);return 128==(128&e[0])&&(t-=Math.pow(256,e.length)),t}function d(e){var t=l(e);return 128==(128&e[e.length-1])&&(t-=Math.pow(256,e.length)),t}function g(e){var t={};return[1,2,4,8].forEach((function(r){var i=8*r;t["word"+i+"le"]=t["word"+i+"lu"]=e(r,l),t["word"+i+"ls"]=e(r,d),t["word"+i+"be"]=t["word"+i+"bu"]=e(r,c),t["word"+i+"bs"]=e(r,u)})),t.word8=t.word8u=t.word8be,t.word8s=t.word8bs,t}(t=e.exports=function(e,r){if(Buffer.isBuffer(e))return t.parse(e);var i=t.stream();return e&&e.pipe?e.pipe(i):e&&(e.on(r||"data",(function(e){i.write(e)})),e.on("end",(function(){i.end()}))),i}).stream=function(e){if(e)return t.apply(null,arguments);var r=null;function l(e,t,i){r={bytes:e,skip:i,cb:function(e){r=null,t(e)}},u()}var c=null;function u(){if(r)if("function"==typeof r)r();else{var e,t=c+r.bytes;if(h.length>=t)null==c?(e=h.splice(0,t),r.skip||(e=e.slice())):(r.skip||(e=h.slice(c,t)),c=t),r.skip?r.cb():r.cb(e)}else y&&(f=!0)}function d(e){function t(){f||e.next()}var i=g((function(e,r){return function(i){l(e,(function(e){m.set(i,r(e)),t()}))}}));return i.tap=function(t){e.nest(t,m.store)},i.into=function(t,r){m.get(t)||m.set(t,{});var i=m;m=s(i.get(t)),e.nest((function(){r.apply(this,arguments),this.tap((function(){m=i}))}),m.store)},i.flush=function(){m.store={},t()},i.loop=function(r){var i=!1;e.nest(!1,(function o(){this.vars=m.store,r.call(this,(function(){i=!0,t()}),m.store),this.tap(function(){i?e.next():o.call(this)}.bind(this))}),m.store)},i.buffer=function(e,r){"string"==typeof r&&(r=m.get(r)),l(r,(function(r){m.set(e,r),t()}))},i.skip=function(e){"string"==typeof e&&(e=m.get(e)),l(e,(function(){t()}))},i.scan=function(e,i){if("string"==typeof i)i=new Buffer(i);else if(!Buffer.isBuffer(i))throw new Error("search must be a Buffer or a string");var o=0;r=function(){var n=h.indexOf(i,c+o),s=n-c-o;-1!==n?(r=null,null!=c?(m.set(e,h.slice(c,c+o+s)),c+=o+s+i.length):(m.set(e,h.slice(0,o+s)),h.splice(0,o+s+i.length)),t(),u()):s=Math.max(h.length-i.length-c-o,0),o+=s},u()},i.peek=function(t){c=0,e.nest((function(){t.call(this,m.store),this.tap((function(){c=null}))}))},i}var p=i.light(d);p.writable=!0;var h=n();p.write=function(e){h.push(e),u()};var m=s(),f=!1,y=!1;return p.end=function(){y=!0},p.pipe=a.prototype.pipe,Object.getOwnPropertyNames(o.prototype).forEach((function(e){p[e]=o.prototype[e]})),p},t.parse=function(e){var t=g((function(o,n){return function(s){if(r+o<=e.length){var a=e.slice(r,r+o);r+=o,i.set(s,n(a))}else i.set(s,null);return t}})),r=0,i=s();return t.vars=i.store,t.tap=function(e){return e.call(t,i.store),t},t.into=function(e,r){i.get(e)||i.set(e,{});var o=i;return i=s(o.get(e)),r.call(t,i.store),i=o,t},t.loop=function(e){for(var r=!1,o=function(){r=!0};!1===r;)e.call(t,o,i.store);return t},t.buffer=function(o,n){"string"==typeof n&&(n=i.get(n));var s=e.slice(r,Math.min(e.length,r+n));return r+=n,i.set(o,s),t},t.skip=function(e){return"string"==typeof e&&(e=i.get(e)),r+=e,t},t.scan=function(o,n){if("string"==typeof n)n=new Buffer(n);else if(!Buffer.isBuffer(n))throw new Error("search must be a Buffer or a string");i.set(o,null);for(var s=0;s+r<=e.length-n.length+1;s++){for(var a=0;a<n.length&&e[r+s+a]===n[a];a++);if(a===n.length)break}return i.set(o,e.slice(r,r+s)),r+=s+n.length,t},t.peek=function(e){var o=r;return e.call(t,i.store),r=o,t},t.flush=function(){return i.store={},t},t.eof=function(){return r>=e.length},t}},function(e,t,r){var i=r(314),o=r(28).EventEmitter;function n(e){var t=n.saw(e,{}),r=e.call(t.handlers,t);return void 0!==r&&(t.handlers=r),t.record(),t.chain()}e.exports=n,n.light=function(e){var t=n.saw(e,{}),r=e.call(t.handlers,t);return void 0!==r&&(t.handlers=r),t.chain()},n.saw=function(e,t){var r=new o;return r.handlers=t,r.actions=[],r.chain=function(){var e=i(r.handlers).map((function(t){if(this.isRoot)return t;var i=this.path;"function"==typeof t&&this.update((function(){return r.actions.push({path:i,args:[].slice.call(arguments)}),e}))}));return process.nextTick((function(){r.emit("begin"),r.next()})),e},r.pop=function(){return r.actions.shift()},r.next=function(){var e=r.pop();if(e){if(!e.trap){var t=r.handlers;e.path.forEach((function(e){t=t[e]})),t.apply(r.handlers,e.args)}}else r.emit("end")},r.nest=function(t){var i=[].slice.call(arguments,1),o=!0;if("boolean"==typeof t){o=t;t=i.shift()}var s=n.saw(e,{}),a=e.call(s.handlers,s);void 0!==a&&(s.handlers=a),void 0!==r.step&&s.record(),t.apply(s.chain(),i),!1!==o&&s.on("end",r.next)},r.record=function(){!function(e){e.step=0,e.pop=function(){return e.actions[e.step++]},e.trap=function(t,r){var i=Array.isArray(t)?t:[t];e.actions.push({path:i,step:e.step,cb:r,trap:!0})},e.down=function(t){var r=(Array.isArray(t)?t:[t]).join("/"),i=e.actions.slice(e.step).map((function(t){return!(t.trap&&t.step<=e.step)&&t.path.join("/")==r})).indexOf(!0);i>=0?e.step+=i:e.step=e.actions.length;var o=e.actions[e.step-1];o&&o.trap?(e.step=o.step,o.cb()):e.next()},e.jump=function(t){e.step=t,e.next()}}(r)},["trap","down","jump"].forEach((function(e){r[e]=function(){throw new Error("To use the trap, down and jump features, please call record() first to start recording actions.")}})),r}},function(e,t){function r(e){if(!(this instanceof r))return new r(e);this.value=e}function i(e,t,r){var i=[],n=[],s=!0;return function e(a){var l=r?o(a):a,c={},u={node:l,node_:a,path:[].concat(i),parent:n.slice(-1)[0],key:i.slice(-1)[0],isRoot:0===i.length,level:i.length,circular:null,update:function(e){u.isRoot||(u.parent.node[u.key]=e),u.node=e},delete:function(){delete u.parent.node[u.key]},remove:function(){Array.isArray(u.parent.node)?u.parent.node.splice(u.key,1):delete u.parent.node[u.key]},before:function(e){c.before=e},after:function(e){c.after=e},pre:function(e){c.pre=e},post:function(e){c.post=e},stop:function(){s=!1}};if(!s)return u;if("object"==typeof l&&null!==l){u.isLeaf=0==Object.keys(l).length;for(var d=0;d<n.length;d++)if(n[d].node_===a){u.circular=n[d];break}}else u.isLeaf=!0;u.notLeaf=!u.isLeaf,u.notRoot=!u.isRoot;var g=t.call(u,u.node);if(void 0!==g&&u.update&&u.update(g),c.before&&c.before.call(u,u.node),"object"==typeof u.node&&null!==u.node&&!u.circular){n.push(u);var p=Object.keys(u.node);p.forEach((function(t,o){i.push(t),c.pre&&c.pre.call(u,u.node[t],t);var n=e(u.node[t]);r&&Object.hasOwnProperty.call(u.node,t)&&(u.node[t]=n.node),n.isLast=o==p.length-1,n.isFirst=0==o,c.post&&c.post.call(u,n),i.pop()})),n.pop()}return c.after&&c.after.call(u,u.node),u}(e).node}function o(e){var t;return"object"==typeof e&&null!==e?(t=Array.isArray(e)?[]:e instanceof Date?new Date(e):e instanceof Boolean?new Boolean(e):e instanceof Number?new Number(e):e instanceof String?new String(e):Object.create(Object.getPrototypeOf(e)),Object.keys(e).forEach((function(r){t[r]=e[r]})),t):e}e.exports=r,r.prototype.get=function(e){for(var t=this.value,r=0;r<e.length;r++){var i=e[r];if(!Object.hasOwnProperty.call(t,i)){t=void 0;break}t=t[i]}return t},r.prototype.set=function(e,t){for(var r=this.value,i=0;i<e.length-1;i++){var o=e[i];Object.hasOwnProperty.call(r,o)||(r[o]={}),r=r[o]}return r[e[i]]=t,t},r.prototype.map=function(e){return i(this.value,e,!0)},r.prototype.forEach=function(e){return this.value=i(this.value,e,!1),this.value},r.prototype.reduce=function(e,t){var r=1===arguments.length,i=r?this.value:t;return this.forEach((function(t){this.isRoot&&r||(i=e.call(this,i,t))})),i},r.prototype.deepEqual=function(e){if(1!==arguments.length)throw new Error("deepEqual requires exactly one object to compare against");var t=!0,i=e;return this.forEach((function(o){var n=function(){t=!1}.bind(this);if(!this.isRoot){if("object"!=typeof i)return n();i=i[this.key]}var s=i;this.post((function(){i=s}));var a=function(e){return Object.prototype.toString.call(e)};if(this.circular)r(e).get(this.circular.path)!==s&&n();else if(typeof s!=typeof o)n();else if(null===s||null===o||void 0===s||void 0===o)s!==o&&n();else if(s.__proto__!==o.__proto__)n();else if(s===o);else if("function"==typeof s)s instanceof RegExp?s.toString()!=o.toString()&&n():s!==o&&n();else if("object"==typeof s)if("[object Arguments]"===a(o)||"[object Arguments]"===a(s))a(s)!==a(o)&&n();else if(s instanceof Date||o instanceof Date)s instanceof Date&&o instanceof Date&&s.getTime()===o.getTime()||n();else{var l=Object.keys(s),c=Object.keys(o);if(l.length!==c.length)return n();for(var u=0;u<l.length;u++){var d=l[u];Object.hasOwnProperty.call(o,d)||n()}}})),t},r.prototype.paths=function(){var e=[];return this.forEach((function(t){e.push(this.path)})),e},r.prototype.nodes=function(){var e=[];return this.forEach((function(t){e.push(this.node)})),e},r.prototype.clone=function(){var e=[],t=[];return function r(i){for(var n=0;n<e.length;n++)if(e[n]===i)return t[n];if("object"==typeof i&&null!==i){var s=o(i);return e.push(i),t.push(s),Object.keys(i).forEach((function(e){s[e]=r(i[e])})),e.pop(),t.pop(),s}return i}(this.value)},Object.keys(r.prototype).forEach((function(e){r[e]=function(t){var i=[].slice.call(arguments,1),o=r(t);return o[e].apply(o,i)}}))},function(e,t){function r(e){if(!(this instanceof r))return new r(e);this.buffers=e||[],this.length=this.buffers.reduce((function(e,t){return e+t.length}),0)}e.exports=r,r.prototype.push=function(){for(var e=0;e<arguments.length;e++)if(!Buffer.isBuffer(arguments[e]))throw new TypeError("Tried to push a non-buffer");for(e=0;e<arguments.length;e++){var t=arguments[e];this.buffers.push(t),this.length+=t.length}return this.length},r.prototype.unshift=function(){for(var e=0;e<arguments.length;e++)if(!Buffer.isBuffer(arguments[e]))throw new TypeError("Tried to unshift a non-buffer");for(e=0;e<arguments.length;e++){var t=arguments[e];this.buffers.unshift(t),this.length+=t.length}return this.length},r.prototype.copy=function(e,t,r,i){return this.slice(r,i).copy(e,t,0,i-r)},r.prototype.splice=function(e,t){var i=this.buffers,o=e>=0?e:this.length-e,n=[].slice.call(arguments,2);void 0===t?t=this.length-o:t>this.length-o&&(t=this.length-o);for(e=0;e<n.length;e++)this.length+=n[e].length;for(var s=new r,a=0,l=0;l<i.length&&a+i[l].length<o;l++)a+=i[l].length;if(o-a>0){var c=o-a;if(c+t<i[l].length){s.push(i[l].slice(c,c+t));var u=i[l],d=new Buffer(c);for(e=0;e<c;e++)d[e]=u[e];var g=new Buffer(u.length-c-t);for(e=c+t;e<u.length;e++)g[e-t-c]=u[e];if(n.length>0){var p=n.slice();p.unshift(d),p.push(g),i.splice.apply(i,[l,1].concat(p)),l+=p.length,n=[]}else i.splice(l,1,d,g),l+=2}else s.push(i[l].slice(c)),i[l]=i[l].slice(0,c),l++}for(n.length>0&&(i.splice.apply(i,[l,0].concat(n)),l+=n.length);s.length<t;){var h=i[l],m=h.length,f=Math.min(m,t-s.length);f===m?(s.push(h),i.splice(l,1)):(s.push(h.slice(0,f)),i[l]=i[l].slice(f))}return this.length-=s.length,s},r.prototype.slice=function(e,t){var r=this.buffers;void 0===t&&(t=this.length),void 0===e&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=0;o<r.length&&i+r[o].length<=e;o++)i+=r[o].length;for(var n=new Buffer(t-e),s=0,a=o;s<t-e&&a<r.length;a++){var l=r[a].length,c=0===s?e-i:0,u=s+l>=t-e?Math.min(c+(t-e)-s,l):l;r[a].copy(n,s,c,u),s+=u-c}return n},r.prototype.pos=function(e){if(e<0||e>=this.length)throw new Error("oob");for(var t=e,r=0,i=null;;){if(t<(i=this.buffers[r]).length)return{buf:r,offset:t};t-=i.length,r++}},r.prototype.get=function(e){var t=this.pos(e);return this.buffers[t.buf].get(t.offset)},r.prototype.set=function(e,t){var r=this.pos(e);return this.buffers[r.buf].set(r.offset,t)},r.prototype.indexOf=function(e,t){if("string"==typeof e)e=new Buffer(e);else if(!(e instanceof Buffer))throw new Error("Invalid type for a search string");if(!e.length)return 0;if(!this.length)return-1;var r,i=0,o=0,n=0,s=0;if(t){var a=this.pos(t);i=a.buf,o=a.offset,s=t}for(;;){for(;o>=this.buffers[i].length;)if(o=0,++i>=this.buffers.length)return-1;if(this.buffers[i][o]==e[n]){if(0==n&&(r={i:i,j:o,pos:s}),++n==e.length)return r.pos}else 0!=n&&(i=r.i,o=r.j,s=r.pos,n=0);o++,s++}},r.prototype.toBuffer=function(){return this.slice()},r.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)}},function(e,t){e.exports=function(e){function t(e,t){var i=r.store,o=e.split(".");o.slice(0,-1).forEach((function(e){void 0===i[e]&&(i[e]={}),i=i[e]}));var n=o[o.length-1];return 1==arguments.length?i[n]:i[n]=t}var r={get:function(e){return t(e)},set:function(e,r){return t(e,r)},store:e||{}};return r}},function(e,t){e.exports=require("stream")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(1);t.StreamHandler=class{constructor(e){this.di=e,this.PING_INTERVAL=5,this.logger=i.Logger.getLogger("dpm-stream"),this.streamValue=null,this.streamCounter=0,this.device=null,this.activeTask=null,this.pingTimer=0,this.completeTaskRunner=null}start(e){this.device=e.device,this.activeTask=e.activeTask;const t=this.di.connection._stream,r=this.getFrequency(this.activeTask);return t.start({freq:r},this.onData.bind(this)).then(()=>{this.logger.info("started")})}getFrequency(e){const t=e.options.freq;return t<0||t>100?10:t}stop(){return this.di.connection._stream.stop()}onData(e){this.streamValue=e,this.streamCounter++,this.di.sioEmit("stream-sample",e)}taskRunner(){return new Promise((e,t)=>{if(null===this.device||null===this.activeTask)return t(new Error("Invalid device or active task"));this.completeTaskRunner=o=>{try{this.completeTaskRunner=null,clearInterval(i),this.di.adapter.removeListener("deviceDisconnected",r),o?(this.logger.warn(o.message),this.di.sioEmit("stream-state","stopped",o.message),t(o)):(this.di.sioEmit("stream-state","stopped"),e())}catch(e){this.logger.error(e.message),t(e)}};const r=this.onDisconnected.bind(this),i=setInterval(this.doPeriodicCheck.bind(this),1e3);this.di.sioEmit("stream-state","started"),this.di.adapter.on("deviceDisconnected",r)})}onDisconnected(e){e.address===this.device.address&&this.completeTaskRunner(new Error("Remote device disconnected unexpectedly during data stream."))}doPeriodicCheck(){this.pingHandler().then(()=>{this.logger.info("Ping")}).catch(e=>{this.logger.error(`Cannot ping remote device: ${e.message}`)}),this.printLatestSample(),this.streamCounter=0,this.streamValue=null,this.findTasks(this.activeTask.uuid).then(e=>{0===e.length?this.completeTaskRunner&&this.completeTaskRunner():(this.activeTask=e[0],this.checkActiveTask())}).catch(e=>{this.logger.info("find task error"),this.completeTaskRunner&&this.completeTaskRunner(e)})}checkActiveTask(){if(!this.completeTaskRunner)return;const e=this.activeTask.createdOn;Date.now()-e.getTime()<=6e4||(this.logger.warn("no ping, data stream timeout"),this.di.taskDAO.remove(this.activeTask).then(()=>{this.completeTaskRunner&&this.completeTaskRunner()}).catch(e=>{this.completeTaskRunner&&this.completeTaskRunner(new Error("Cannot remove active task."))}))}pingHandler(){return Promise.resolve().then(()=>{if(!(++this.pingTimer<this.PING_INTERVAL))return this.pingTimer=0,this.di.ping()})}printLatestSample(){null!==this.streamValue&&(this.logger.log("info",JSON.stringify(this.streamValue,(e,t)=>t&&t.toFixed?parseFloat(t.toFixed(6)):t)),this.logger.log("info",`Frequency: ${this.streamCounter} Hz`))}findTasks(e){return this.di.taskDAO.find({order:"-createdOn",skip:0,limit:1,criteria:{uuid:e,command:"stream"}})}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(16),n=r(24),s=r(27),a=r(10),l=r(0),c=r(23),u=r(4),d=r(17),g=r(320),p=r(1),h=r(11),m=r(324),f=r(325);var y,_,S;!function(e){e[e.ConfigDownload=0]="ConfigDownload",e[e.ConfigUplaod=1]="ConfigUplaod",e[e.ConfigDownloadUpload=2]="ConfigDownloadUpload",e[e.DownloadData=3]="DownloadData",e[e.DataStream=4]="DataStream",e[e.Idle=5]="Idle"}(y||(y={})),function(e){e[e.Default=0]="Default",e[e.NewDevice=1]="NewDevice",e[e.NewFirmware=2]="NewFirmware",e[e.ConfigNumber=3]="ConfigNumber",e[e.UserRequest=4]="UserRequest"}(_||(_={})),function(e){e[e.Idle=0]="Idle",e[e.Acceleration=1]="Acceleration",e[e.Temperature=2]="Temperature",e[e.Maintenance=3]="Maintenance",e[e.Reset=4]="Reset"}(S||(S={}));class v extends d.DeviceHandler{constructor(e,t){super(e,t),this.logger=p.Logger.getLogger("jrd-hdl-atl"),this.TX_GDN_ACTION_URL="http://10.8.0.1/api/atl-data-add.php",this.uploadFileScriptUrl="http://10.8.0.1/api/file-gzdecode-add.php",this.TX_IDENTIFIER="",this.TX_SOFTWARE_VERSION=3,this.atl=null,this.tasks=null,this.activeTask=null,this.devAdvert=null,this.sampleUploaded=!1,this.connection=new g.ConnectionAtl(e.adapter,t.peripheral),this.TX_IDENTIFIER=e.config.Transceiver.Identifier,this.TX_SOFTWARE_VERSION=e.config.Transceiver.Version,this.devAdvert=t.advert}handleConnection(){return i(this,void 0,void 0,(function*(){this.logger.log("info","ATL handler started"),yield this.pullDatabase(),yield this.execute()}))}pullDatabase(){return i(this,void 0,void 0,(function*(){const e=yield this.findAtl();this.atl=null===e?yield this.createAtl():e,this.tasks=yield this.findTasks(this.atl.uuid)}))}findAtl(){return this.di.db.AtlDAO.findByUuid(this.advert.uuid)}createAtl(){const e=this.advert;return this.di.db.AtlDAO.create({uuid:e.uuid,address:e.address,enabled:!0,hidden:!1})}findTasks(e){return this.di.db.TaskDAO.find({order:"-createdOn",skip:0,limit:1,criteria:{uuid:e}})}removeActiveTask(){return i(this,void 0,void 0,(function*(){if(null===this.activeTask)return;const e=this.activeTask;this.activeTask=null,yield this.di.db.TaskDAO.remove(e)}))}execute(){return i(this,void 0,void 0,(function*(){if(this.logger.log("info","execute action"),this.updateAdvertisement(),this.isDisabled())this.markStatus("Disabled");else{this.markStatus("Wake Up");try{yield this.executeAction(),this.markStatus("Success"),this.logger.log("info","ATL action successfully completed")}catch(e){if(this.markStatus("Failure",e.message),this.logger.log("error","Cannot execute action",e.message),"Connect timed out."===e.message)return;throw e}}}))}updateAdvertisement(){return i(this,void 0,void 0,(function*(){const e=this.devAdvert;this.atl.advertisement||(this.atl.advertisement={});const t=this.atl.advertisement;t.timestamp=e.timestamp,t.rssi=e.rssi,t.packetCounter=e.packetCounter,t.configNumber=e.configNumber,t.restartsUnknown=e.restartsUnknown,t.temperatureInternal=e.temperatureInternal,t.temperature=e.temperature,t.batteryVoltage=e.batteryVoltage,t.eventType=e.eventType,t.accx=e.accx,t.accy=e.accy,t.accz=e.accz,t.errors=e.errors;try{const t=f.Serializer.advert(e);this.sioEmitApp("advert",t.serializeBinary().buffer)}catch(e){this.logger.log("warn",e)}try{yield this.di.db.AdvertDAO.create(e)}catch(e){this.logger.log("warn","ATL cannot store advert",e)}this.atl=yield this.di.db.AtlDAO.save(this.atl),this.logger.log("info","ATL advertisement updated")}))}isDisabled(){return!this.atl.enabled}markStatus(e,t){return i(this,void 0,void 0,(function*(){this.atl.connection||(this.atl.connection={}),this.atl.connection.status||(this.atl.connection.status={});const r=this.atl.connection.status;r.timestamp=new Date,r.label=e,r.message=t||"",this.sioEmitAtl("status",r),this.logger.log("info","Status",e),this.atl=yield this.di.db.AtlDAO.save(this.atl),this.logger.log("info","ATL status updated "+e)}))}addSample(e){return i(this,void 0,void 0,(function*(){try{const t=f.Serializer.sample(e).serializeBinary().buffer;this.sioEmitAtl("sample",t)}catch(e){this.logger.log("warn",e)}this.logger.info(JSON.stringify(e,null,2));try{yield this.di.db.AtlSampleDAO.create(e)}catch(e){this.logger.log("warn","ATL cannot save sample ",e)}}))}executeAction(){const e=this.getAction(),{task:t,reason:r}=e;this.logger.log("info",`do ${t} ${r}`);const i=this.buildSample();switch(this.addSample(i),t){case y.ConfigDownload:return this.executeDownloadConfig();case y.ConfigUplaod:return this.executeUploadConfig();case y.ConfigDownloadUpload:return this.executeDownloadUploadConfig();case y.DownloadData:return this.executeDownloadData();case y.DataStream:return this.executeDataStream();case y.Idle:return Promise.resolve()}return Promise.reject(new Error("Unknown task: "+t))}getAction(){this.activeTask=null;const e=this.getConfigAction();return null!==e?e:this.tasks&&this.tasks.length>0&&"stream"===this.tasks[0].command?{task:y.DataStream,reason:_.Default}:0===this.atl.config.primary.measMode?{task:y.Idle,reason:_.Default}:this.devAdvert.eventType===S.Acceleration?{task:y.DownloadData,reason:_.Default}:{task:y.Idle,reason:_.Default}}getConfigAction(){const e=this.advert,t=this.atl.config,r=this.tasks,i=255&t.primary.configNumber,o=255&e.configNumber;if(this.logger.log("info","configuraton",JSON.stringify(t)),null===t.timestamp)return{task:y.ConfigDownload,reason:_.NewDevice};if(254===o||255===o)return this.activeTask=this.getActiveUploadTask(),{task:y.ConfigUplaod,reason:_.NewFirmware};if(i!==o)return{task:y.ConfigDownload,reason:_.ConfigNumber};if(r.length)switch(this.activeTask=r[0],r[0].command){case"upload":return{task:y.ConfigUplaod,reason:_.UserRequest};case"download":return{task:y.ConfigDownload,reason:_.UserRequest}}return null}getActiveUploadTask(){const e=this.tasks;if(e.length>0)for(const t of e)if("upload"===t.command)return t;return null}executeDownloadConfig(){return this.logger.log("info","Download"),this.runConnection(()=>i(this,void 0,void 0,(function*(){this.logger.info("Download configuration");const e=yield this.connection.Config.read();this.logger.log("info","Configuration downloaded"),this.configDownloadHandleAsync(e)}))).catch(e=>{throw this.sioEmitAtl("config-state","download-error",e),e})}configDownloadHandleAsync(e){return i(this,void 0,void 0,(function*(){try{return this.logger.log("info","Handle downloaded configuration"),u.extend(this.atl.config,e),this.atl=yield this.di.db.AtlDAO.save(this.atl),this.emitConfigNumericAction("download"),this.removeActiveTask()}catch(e){this.logger.error("config-state",e),this.sioEmitAtl("config-state","download-error",e)}}))}executeUploadConfig(){return i(this,void 0,void 0,(function*(){null!==this.activeTask?(this.logger.info("active task"),yield this.upload(this.activeTask.options)):(this.logger.log("info","Copy config (actual->edit)"),yield this.upload(u.clone(this.atl.config)))}))}upload(e){return this.logger.log("info","Upload"),this.runConnection(()=>i(this,void 0,void 0,(function*(){this.logger.info("Upload configuration"),yield this.connection.Config.write(e),this.logger.info("Configuration uploaded"),yield this.connection.Command.storeConfiguration(),this.configUploadHandleAsync(e)}))).catch(e=>{throw this.sioEmitAtl("config-state","upload-error",e),e})}configUploadHandleAsync(e){return i(this,void 0,void 0,(function*(){try{return this.logger.log("info","Handle uploaded configuration"),e.primary.configNumber=this.atl.advertisement.configNumber,++e.primary.configNumber>=254&&(e.primary.configNumber=0),u.extend(this.atl.config,e),this.atl=yield this.di.db.AtlDAO.save(this.atl),this.emitConfigNumericAction("upload"),this.logger.log("info","Configuration upload handled"),this.removeActiveTask()}catch(e){this.logger.error("config-state",e),this.sioEmitAtl("config-state","upload-error",e)}}))}executeDownloadUploadConfig(){return this.logger.log("info","Download"),this.runConnection(()=>i(this,void 0,void 0,(function*(){this.logger.info("Download / Upload configuration");const e=yield this.connection.Config.read();this.logger.log("info","Configuration downloaded"),yield this.connection.Config.write(e),yield this.connection.Command.storeConfiguration(),this.configUploadHandleAsync(e)}))).catch(e=>{throw this.sioEmitAtl("config-state","download-error",e),e})}executeDataStream(){return i(this,void 0,void 0,(function*(){const e=new m.StreamHandler({adapter:this.adapter,connection:this.connection,taskDAO:this.di.db.TaskDAO,ping:()=>this.connection.Command.ping(),sioEmit:(e,...t)=>this.sioEmitAtl(e,...t)});yield this.runConnection(()=>i(this,void 0,void 0,(function*(){yield e.start({config:this.atl.config.primary,device:this.peripheral,activeTask:this.activeTask}),yield e.taskRunner(),yield e.stop()}))),this.logger.info("stream completed")}))}executeDownloadData(){return i(this,void 0,void 0,(function*(){try{yield this.runConnection(()=>i(this,void 0,void 0,(function*(){this.logger.info("Download accelerometer data");const e=yield this.connection.DataDownload.download();this.logger.info(`Data downloaded: ${e.length}`),this.processDataAsync(e)})))}catch(e){this.uploadSample(0,0)}}))}processDataAsync(e){return i(this,void 0,void 0,(function*(){try{if(!e)throw new Error("Invalid data downloaded");this.logger.info("Data downloaded");const t=this.processAccelData(e),r=this.di.config.Transceiver.DataStoragePath,i=this.buildFileName(r,this.atl.uuid);yield this.ensureDirectoryExits(a.dirname(i)),yield this.uploadSample(0,0),yield this.saveAndUploadFile(i,t)}catch(e){this.logger.error("Cannot process data",e.message)}}))}uploadSample(e,t){return i(this,void 0,void 0,(function*(){try{if(this.sampleUploaded)return;this.sampleUploaded=!0,yield this.addGdnAction(this.buildGetParams(e,t))}catch(e){this.logger.error("Cannot process data",e.message)}}))}addGdnAction(e){return i(this,void 0,void 0,(function*(){if(this.atl.sendToGdn)try{const t=this.TX_IDENTIFIER;yield this.di.db.GdnActionDAO.create({_id:void 0,centralUuid:t,requestType:"GET",scriptUrl:this.TX_GDN_ACTION_URL,getParams:e}),this.logger.info("Gdn action added"),this.sioEmitApp("newGdnAction")}catch(e){this.logger.warn("Cannot add GDN action: ",e)}}))}buildGetParams(e,t){const r=this.devAdvert,i=this.atl.config.primary;return{uuid:r.uuid,timestamp:Math.round(r.timestamp.getTime()/1e3),rssi:r.rssi,packetCounter:r.packetCounter,batteryVoltage:r.batteryVoltage,temperatureInternal:r.temperatureInternal,temperature:r.temperatureInternal,acceleration:r.accx,centralIdent:this.TX_IDENTIFIER,centralVersion:this.TX_SOFTWARE_VERSION,firmwareVersion:i.firmwareVersion}}saveAndUploadFile(e,t){return i(this,void 0,void 0,(function*(){try{const r=this.prepareData(t),i=yield this.saveFile(e,r);this.logger.info(`saved: ${i}`),yield this.uploadFileToGdn(i)}catch(e){this.logger.error("Cannot process data",e.message)}}))}processAccelData(e){if(e.length<199200)throw new Error("Invalid data, not enough");let t=0;const r=[[],[],[]],i=[[],[],[]];for(;t<e.length;){for(let i=0;i<3;i++)r[i].push(e.readInt16LE(t)),t+=2;for(let r=0;r<3;r++)i[r].push(e.readInt16LE(t)),t+=2}return{accel:r,gyro:i}}ensureDirectoryExits(e){return new Promise((t,r)=>{c(e,e=>e?r(e):t())})}saveFile(e,t){return i(this,void 0,void 0,(function*(){e=`${e}.gz`;const r=yield this.compress(t);return yield this.writeFile(e,r),e}))}prepareData(e){const t=this.atl,r=this.devAdvert,i=t.config.primary.measSamplingRate,o=f.Serializer.file({timestamp:r.timestamp,remoteDevice:f.Serializer.remoteDevice(t),remoteStatus:f.Serializer.remoteStatus(r),remoteConfig:f.Serializer.remoteConfig(t),localDevice:f.Serializer.localDevice({identifier:this.TX_IDENTIFIER,firmwareVersion:this.TX_SOFTWARE_VERSION}),localStatus:f.Serializer.localStatus({uptime:n.uptime()}),localConfig:f.Serializer.localConfig(),acceleration:f.Serializer.acceleration(e.accel,i),angularRate:f.Serializer.angularRate(e.gyro,i)});return Buffer.from(o.serializeBinary().buffer)}compress(e){return new Promise((t,r)=>{s.gzip(e,(e,i)=>{e?r(e):t(i)})})}buildFileName(e,t){const r=l().format("YYYYMMDD"),i=l().format("YYYYMMDDHHmmss"),o=a.join(e,t,r);return a.join(o,`${i}.atd`)}writeFile(e,t){return new Promise((r,i)=>{o.writeFile(e,t,e=>{e?i(e):r()})})}uploadFileToGdn(e){return i(this,void 0,void 0,(function*(){if(this.atl.sendToGdn)try{const t=this.TX_IDENTIFIER;yield this.di.db.GdnActionDAO.create({_id:void 0,centralUuid:t,requestType:"POST",scriptUrl:this.uploadFileScriptUrl,filename:e}),this.logger.info("Gdn action added"),this.sioEmitApp("newGdnAction")}catch(e){this.logger.warn("Cannot add GDN action: ",e)}}))}handleData(){return Promise.resolve()}runConnection(e){return i(this,void 0,void 0,(function*(){try{this.markStatus("Connecting..."),yield this.connection.connect(),this.logger.log("info","Connected"),yield this.connection.discover(),this.logger.log("info","Discovered"),this.markStatus("Connected"),yield this.connection.Command.syncTime(),yield e(),yield this.stopConnection()}catch(e){throw yield this.stopConnection(),e}}))}stopConnection(){return i(this,void 0,void 0,(function*(){this.markStatus("Disconnecting..."),yield this.connection.disconnect(),this.markStatus("Disconnected"),this.logger.log("info","Disconnected")}))}emitConfigNumericAction(e){this.sioEmitAtl("config-state",e,this.atl.config)}buildSample(){const e=this.devAdvert,t=this.atl.config.primary;return{uuid:e.uuid,timestamp:e.timestamp,rssi:e.rssi,packetCounter:e.packetCounter,configNumber:e.configNumber,restartsUnknown:e.restartsUnknown,temperatureInternal:e.temperatureInternal,temperature:e.temperature,batteryVoltage:e.batteryVoltage,eventType:e.eventType,accx:e.accx,accy:e.accy,accz:e.accz,firmwareVersion:t.firmwareVersion,errors:e.errors}}sioEmitAtl(e,...t){this.atl&&this.atl.uuid&&h.TdEvent.emitAtl(e,this.atl.uuid,...t)}sioEmitApp(e,...t){this.atl&&this.atl.uuid&&h.TdEvent.emitApp(e,this.atl.uuid,...t)}}t.AtlHandler=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(18),o=r(21),n=r(26),s=r(321),a=r(322),l=r(323);class c{constructor(e,t,r){this.serviceUUID=e,this.controlPointUUID=t,this.packetUUID=r,this.controlPoint=null,this.packet=null}discover(e,t){if(e.toLowerCase()===this.serviceUUID)switch(t.uuid.toLowerCase()){case this.controlPointUUID:this.controlPoint=t;break;case this.packetUUID:this.packet=t}}isValid(){return null!==this.controlPoint&&null!==this.packet}}class u extends i.Connection{constructor(e,t){super(e,t),this.config=null,this.command=null,this.downloadData=null,this.stream=null,this.configService=new c("000016231212efde1523785fdabcd123","000016341212efde1523785fdabcd123","000016351212efde1523785fdabcd123"),this.streamService=new c("000015231212efde1523785fdabcd123","000015241212efde1523785fdabcd123","000015251212efde1523785fdabcd123"),this.downloadService=new c("000017231212efde1523785fdabcd123","000017241212efde1523785fdabcd123","000017251212efde1523785fdabcd123"),this.commandChar=null,this.commandUUID="000016361212efde1523785fdabcd123"}discover(){return super.discover([],!0).then(e=>{if(this.logger.info("Validate services/characteristics"),Object.keys(e).forEach(t=>{Object.keys(e[t]).forEach(r=>{this.discoverCharacteristic(t,e[t][r])})}),!this.validateCharacteristics())throw new Error("Invalid characteristics discovered");return this.onCharacteristicsDiscover(),this.logger.info("Services/characteristics valid"),e}).catch(e=>{throw this.logger.info("Error during validating services/characteristics"+e),e})}discoverCharacteristic(e,t){this.configService.discover(e,t),this.downloadService.discover(e,t),this.streamService.discover(e,t),t.uuid.toLowerCase()===this.commandUUID&&(this.commandChar=t)}validateCharacteristics(){return this.configService.isValid()&&this.downloadService.isValid()&&this.streamService.isValid()&&null!==this.commandChar}onCharacteristicsDiscover(){const e=this.adapter,t=this.peripheral;this.config=new s.ConfigAtl(new o.ConfigMessageV2(e,this.configService.controlPoint,this.configService.packet)),this.command=new a.CommandAtl(e,this.commandChar),this.downloadData=new n.DownloadData(e,t,this.downloadService.controlPoint,this.downloadService.packet,this.command.ping.bind(this.command)),this.stream=new l.Stream(e,t,this.streamService.controlPoint,this.streamService.packet)}get Config(){return this.config}get Command(){return this.command}get DataDownload(){return this.downloadData}get Stream(){return this.stream}}t.ConnectionAtl=u},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(20),n=r(31);class s extends o.Config{constructor(e){super(e,[["configNumber","uint32","r",0,4],["deviceType","uint32","r",4,4],["firmwareVersion","uint32","r",8,4],["wakeupTime","uint32","rw",12,4],["wakeupWindow","uint32","rw",16,4],["measMode","uint32","rw",20,4],["measSamplingRate","uint32","rw",24,4],["accRange","uint32","rw",28,4],["gyrRange","uint32","rw",32,4],["measNumberOfSamples","uint32","rw",36,4],["checkInterval","uint32","rw",40,4],["checkSamplingRate","uint32","rw",44,4],["checkNumberOfSamples","uint32","rw",48,4],["checkThreshold","uint32","rw",52,4],["wakeupsToSendCount","uint32","rw",56,4],["sleepAfterAcq","uint32","rw",60,4],["accelerationInterval","uint32","rw",64,4],["temperatureInterval","uint32","rw",68,4],["name","string","rw",72,20]])}read(){return i(this,void 0,void 0,(function*(){const e=yield this.readPrimary(),t={timestamp:new Date,primary:{}};for(const r of this.fields){const i=r[n.EFieldDescriptor.Name],o=r[n.EFieldDescriptor.Type];"uint32"===o&&(t.primary[i]=this.getNumber(e[i])),"string"===o&&(t.primary[i]=this.getString(e[i]))}return t}))}getNumber(e){return"number"==typeof e?e:0}getString(e){return"string"==typeof e?e:""}write(e){return i(this,void 0,void 0,(function*(){yield this.writePrimary(e.primary),e.timestamp=new Date}))}}t.ConfigAtl=s},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(19),n=r(1);var s;!function(e){e[e.ConfigCommit=0]="ConfigCommit",e[e.ConfigRestoreDefaults=1]="ConfigRestoreDefaults",e[e.SystemReset=2]="SystemReset",e[e.SystemHeartbeat=3]="SystemHeartbeat",e[e.SystemSetTime=4]="SystemSetTime",e[e.SystemGetTime=5]="SystemGetTime",e[e.SystemGetLastError=6]="SystemGetLastError",e[e.SystemEnableTimeSync=7]="SystemEnableTimeSync",e[e.DeviceEventRequestStart=128]="DeviceEventRequestStart",e[e.DeviceEventRequestComplete=129]="DeviceEventRequestComplete"}(s||(s={}));class a extends o.Command{constructor(e,t){super(e),this.tdAdapter=e,this.commandChar=t,this.logger=n.Logger.getLogger("atl-cmd")}storeConfiguration(){return i(this,void 0,void 0,(function*(){yield this.command(Buffer.alloc(1,s.ConfigCommit))}))}restoreConfiguration(){return i(this,void 0,void 0,(function*(){yield this.command(Buffer.alloc(1,s.ConfigRestoreDefaults))}))}restart(){return i(this,void 0,void 0,(function*(){this.logger.warn("reset command"),yield this.command(Buffer.alloc(1,s.SystemReset))}))}ping(){return i(this,void 0,void 0,(function*(){yield this.command(Buffer.alloc(1,s.SystemHeartbeat))}))}requestLastError(){return i(this,void 0,void 0,(function*(){yield this.command(Buffer.alloc(1,s.SystemGetLastError))}))}command(e){return i(this,void 0,void 0,(function*(){let t;t=!0;try{t=!1,yield this.startNotifications(this.commandChar),t=!0;const r=yield this.sendCommand(e);return t=!1,yield this.stopNotifications(this.commandChar),r}catch(e){throw!0===t&&(yield this.tryStopNotifications()),e}}))}tryStopNotifications(){return i(this,void 0,void 0,(function*(){try{yield this.stopNotifications(this.commandChar)}catch(e){}}))}sendCommand(e){return new Promise((t,r)=>{const i=e=>{if(e.instanceId!==this.commandChar.instanceId)return;this.adapter.removeListener("characteristicValueChanged",i);const n=new Buffer(e.value);n.readUInt8(0)!==o.CommandResult.ACK?r(new Error("Command not acknowledged.")):t(n.slice(1))};this.adapter.on("characteristicValueChanged",i),this.writeChar(this.commandChar,e).catch(e=>{this.adapter.removeListener("characteristicValueChanged",i),r(e)})})}syncTimeBluetooth(){return i(this,void 0,void 0,(function*(){const e=Buffer.alloc(12);e.writeUInt8(s.SystemSetTime,0),e.writeUIntLE(Date.now(),3,6),e.writeUInt16LE(0,9),yield this.startNotifications(this.commandChar),yield this.writeChar(this.commandChar,e),yield this.stopNotifications(this.commandChar)}))}syncTime(){return i(this,void 0,void 0,(function*(){return this.syncTimeBluetooth()}))}}t.CommandAtl=a},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(4),n=r(36),s=r(1);t.Stream=class{constructor(e,t,r,i){this.adapter=e,this.device=t,this.controlPoint=r,this.packet=i,this.logger=s.Logger.getLogger("atl-stream"),this.onDataCallback=null,this.onNotificationReference=null,this.onDisconnectedReference=null}start(e,t){return i(this,void 0,void 0,(function*(){this.onDataCallback=t,yield this.startAllNotifications(),yield this.startStream(e.freq),yield this.adapter.gapStartRSSI(this.device),this.setupNotificationHandler()}))}startAllNotifications(){return i(this,void 0,void 0,(function*(){yield this.adapter.startCharacteristicsNotifications(this.controlPoint),yield this.adapter.startCharacteristicsNotifications(this.packet)}))}startStream(e=10){const t=Buffer.from([1,0,0]);return t.writeUInt16LE(e,1),this.sendAndReceive(t)}setupNotificationHandler(){this.onNotificationReference=this.onNotification.bind(this),this.adapter.on("characteristicValueChanged",this.onNotificationReference),this.onDisconnectedReference=this.onDisconnected.bind(this),this.adapter.on("deviceDisconnected",this.onDisconnectedReference)}stop(){return i(this,void 0,void 0,(function*(){this.cleanupNotificationHandler(),this.logger.info("gapStopRSSI"),yield this.adapter.gapStopRSSI(this.device),yield this.delay(1e3),yield this.stopStream(),yield this.stopAllNotifications()}))}delay(e){return new Promise(t=>setTimeout(t,e))}cleanupNotificationHandler(){this.onNotificationReference&&(this.adapter.removeListener("characteristicValueChanged",this.onNotificationReference),this.onNotificationReference=null),this.onDisconnectedReference&&(this.adapter.removeListener("deviceDisconnected",this.onDisconnectedReference),this.onDisconnectedReference=null)}stopStream(){return this.sendAndReceive(Buffer.from([0]))}stopAllNotifications(){return i(this,void 0,void 0,(function*(){yield this.adapter.stopCharacteristicsNotifications(this.controlPoint),yield this.adapter.stopCharacteristicsNotifications(this.packet)}))}onDisconnected(){this.cleanupNotificationHandler()}onNotification(e){try{if(e.instanceId!==this.packet.instanceId)return;const t=Buffer.from(e.value);let r=0;const i=t.readUInt16LE(r);r+=2;const s=t.readInt16LE(r);r+=2;const a=t.readUInt16LE(r);r+=2;const l=t.readInt16LE(r);r+=2;const c=t.readInt16LE(r);r+=2;const u=t.readInt16LE(r);r+=2;const d=t.readInt16LE(r);r+=2;const g=t.readInt16LE(r);r+=2;const p=t.readInt16LE(r);r+=2;const h=t.readInt8(r);r+=1;const m=this.device.rssi,f=new n.Converter(2,125),y={packetCounter:i,remoteRssi:h,localRssi:m,temperatureRaw:s,temperature:f.sensTempToDegC(s),batteryVoltageRaw:a,batteryVoltage:f.vbatToVolts(a),sensorGyroXRaw:l,sensorGyroX:f.sensGyroToDps(l),sensorGyroYRaw:c,sensorGyroY:f.sensGyroToDps(c),sensorGyroZRaw:u,sensorGyroZ:f.sensGyroToDps(u),sensorAccelXRaw:d,sensorAccelX:f.sensAccelToG(d),sensorAccelYRaw:g,sensorAccelY:f.sensAccelToG(g),sensorAccelZRaw:p,sensorAccelZ:f.sensAccelToG(p)};this.onDataCallback&&this.onDataCallback(o.clone(y))}catch(e){this.logger.warn(e)}}sendAndReceive(e){return new Promise((t,r)=>{if(null===this.controlPoint||null===this.packet)return r(new Error("Cannot send and receive data"));const i=()=>{this.adapter.removeListener("deviceDisconnected",o),this.adapter.removeListener("characteristicValueChanged",n)},o=e=>{e.instanceId===this.device.instanceId&&(i(),r(new Error("Device disconnected during data download")))},n=e=>{e.instanceId===this.controlPoint.instanceId&&(e=>{0!==e.readUInt8(0)?(i(),r(new Error("Cannot download header: no ack"))):t()})(new Buffer(e.value))};this.adapter.on("deviceDisconnected",o),this.adapter.on("characteristicValueChanged",n),this.adapter.writeCharacteristicValue(this.controlPoint,e).catch(e=>{i(),r(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(1);t.StreamHandler=class{constructor(e){this.di=e,this.PING_INTERVAL=5,this.logger=i.Logger.getLogger("atl-stream"),this.streamValue=null,this.streamCounter=0,this.device=null,this.activeTask=null,this.pingTimer=0,this.completeTaskRunner=null}start(e){this.device=e.device,this.activeTask=e.activeTask;const t=this.di.connection.Stream,r=this.getFrequency(this.activeTask);return t.start({freq:r},this.onData.bind(this)).then(()=>{this.logger.info("started")})}getFrequency(e){const t=e.options.freq;return t<0||t>100?10:t}stop(){return this.di.connection.Stream.stop()}onData(e){this.streamValue=e,this.streamCounter++,this.di.sioEmit("stream-sample",e)}taskRunner(){return new Promise((e,t)=>{if(null===this.device||null===this.activeTask)return t(new Error("Invalid device or active task"));this.completeTaskRunner=o=>{try{this.completeTaskRunner=null,clearInterval(i),this.di.adapter.removeListener("deviceDisconnected",r),o?(this.logger.warn(o.message),this.di.sioEmit("stream-state","stopped",o.message),t(o)):(this.di.sioEmit("stream-state","stopped"),e())}catch(e){this.logger.error(e.message),t(e)}};const r=this.onDisconnected.bind(this),i=setInterval(this.doPeriodicCheck.bind(this),1e3);this.di.sioEmit("stream-state","started"),this.di.adapter.on("deviceDisconnected",r)})}onDisconnected(e){e.address===this.device.address&&this.completeTaskRunner(new Error("Remote device disconnected unexpectedly during data stream."))}doPeriodicCheck(){this.pingHandler().then(()=>{this.logger.info("Ping")}).catch(e=>{this.logger.error(`Cannot ping remote device: ${e.message}`)}),this.printLatestSample(),this.streamCounter=0,this.streamValue=null,this.findTasks(this.activeTask.uuid).then(e=>{0===e.length?this.completeTaskRunner&&this.completeTaskRunner():(this.activeTask=e[0],this.checkActiveTask())}).catch(e=>{this.logger.info("find task error"),this.completeTaskRunner&&this.completeTaskRunner(e)})}checkActiveTask(){if(!this.completeTaskRunner)return;const e=this.activeTask.createdOn;Date.now()-e.getTime()<=6e4||(this.logger.warn("no ping, data stream timeout"),this.di.taskDAO.remove(this.activeTask).then(()=>{this.completeTaskRunner&&this.completeTaskRunner()}).catch(e=>{this.completeTaskRunner&&this.completeTaskRunner(new Error("Cannot remove active task."))}))}pingHandler(){return Promise.resolve().then(()=>{if(!(++this.pingTimer<this.PING_INTERVAL))return this.pingTimer=0,this.di.ping()})}printLatestSample(){null!==this.streamValue&&(this.logger.log("info",JSON.stringify(this.streamValue,(e,t)=>t&&t.toFixed?parseFloat(t.toFixed(6)):t)),this.logger.log("info",`Frequency: ${this.streamCounter} Hz`))}findTasks(e){return this.di.taskDAO.find({order:"-createdOn",skip:0,limit:1,criteria:{uuid:e,command:"stream"}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(22),o=r(326),n=r(14),s=r(14),a=r(14),l=r(14),c=r(14),u=r(14),d=r(14),g=r(14),p=r(14),h=r(14);t.Serializer=class{static advert(e){const t=new i.Data;return t.setTimestamp(e.timestamp.getTime()),t.setRssi(e.rssi),t.setPacketCounter(e.packetCounter),t.setConfigNumber(e.configNumber),t.setTemperature(e.temperature),t.setBatteryVoltage(e.batteryVoltage),t.setRestartsUnknown(e.restartsUnknown),t.setRestartsSoftware(e.restartsSoftware),t.setRestartsWatchdog(e.restartsWatchdog),t.setShallowSleepTimeout(0),t}static sample(e){const t=new o.Data;return t.setUuid(e.uuid),t.setTimestamp(e.timestamp.getTime()),t.setRssi(e.rssi),t.setPacketCounter(e.packetCounter),t.setConfigNumber(e.configNumber),t.setRestartsUnknown(e.restartsUnknown),t.setTemperatureInternal(e.temperatureInternal),t.setTemperature(e.temperature),t.setBatteryVoltage(e.batteryVoltage),t.setEventType(e.eventType),t.setAccx(e.accx),t.setAccy(e.accy),t.setAccz(e.accz),t.setErrors(e.errors),t}static file(e){const t=new n.File;return t.setTimestamp(e.timestamp.getTime()),t.setRemoteDevice(e.remoteDevice),t.setRemoteStatus(e.remoteStatus),t.setRemoteConfig(e.remoteConfig),t.setLocalDevice(e.localDevice),t.setLocalStatus(e.localStatus),t.setLocalConfig(e.localConfig),t.setAcceleration(e.acceleration),t.setAngularRate(e.angularRate),t}static remoteDevice(e){const t=new s.RemoteDevice;return t.setAddress(e.address),t.setUuid(e.uuid),t.setType(e.type),t.setName(e.type),t.setFirmwareVersion(e.config.primary.firmwareVersion),t}static remoteStatus(e){const t=new a.RemoteStatus;return t.setPacketCounter(e.packetCounter),t.setConfigNumber(e.configNumber),t.setRssi(e.rssi),t.setRestartsUnknown(e.restartsUnknown),t.setTemperatureInternal(e.temperatureInternal),t.setTemperature(e.temperature),t.setBatteryVoltage(e.batteryVoltage),t.setEventType(e.eventType),t.setAccx(e.accx),t.setAccy(e.accy),t.setAccz(e.accz),t.setErrors(e.errors),t}static remoteConfig(e){const t=new l.RemoteConfig,r=e.config.primary;return t.setWakeupTime(r.wakeupTime),t.setWakeupWindow(r.wakeupWindow),t.setMeasMode(r.measMode),t.setMeasSamplingRate(r.measSamplingRate),t.setAccRange(r.accRange),t.setGyrRange(r.gyrRange),t.setMeasNumberOfSamples(r.measNumberOfSamples),t.setCheckInterval(r.checkInterval),t.setCheckSamplingRate(r.checkSamplingRate),t.setCheckNumberOfSamples(r.checkNumberOfSamples),t.setCheckThreshold(r.checkThreshold),t.setWakeupsToSendCnt(r.wakeupsToSendCount),t.setSleepAfterAcq(r.sleepAfterAcq),t.setAccelerationInterval(r.accelerationInterval),t.setTemperatureInterval(r.temperatureInterval),t}static localDevice(e){const t=new c.LocalDevice;return t.setIdentifier(e.identifier),t.setFirmwareVersion(e.firmwareVersion),t}static localStatus(e){const t=new u.LocalStatus;return t.setUptime(e.uptime),t}static localConfig(){return new d.LocalConfig}static acceleration(e,t){const r=[];for(const t of e){const e=new h.Data;e.setValuesList(t),r.push(e)}const i=new g.Acceleration;return i.setSamplesList(r),i.setSamplingRate(t),i}static angularRate(e,t){const r=[];for(const t of e){const e=new h.Data;e.setValuesList(t),r.push(e)}const i=new p.AngularRate;return i.setSamplesList(r),i.setSamplingRate(t),i}}},function(e,t,r){var i=r(5),o=i,n=Function("return this")();o.exportSymbol("proto.AtlSample.Data",null,n),o.exportSymbol("proto.AtlSample.DataArray",null,n),proto.AtlSample.Data=function(e){i.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.AtlSample.Data,i.Message),o.DEBUG&&!COMPILED&&(proto.AtlSample.Data.displayName="proto.AtlSample.Data"),i.Message.GENERATE_TO_OBJECT&&(proto.AtlSample.Data.prototype.toObject=function(e){return proto.AtlSample.Data.toObject(e,this)},proto.AtlSample.Data.toObject=function(e,t){var r={uuid:t.getUuid(),timestamp:t.getTimestamp(),rssi:t.getRssi(),packetCounter:t.getPacketCounter(),configNumber:t.getConfigNumber(),restartsUnknown:t.getRestartsUnknown(),temperatureInternal:t.getTemperatureInternal(),temperature:t.getTemperature(),batteryVoltage:t.getBatteryVoltage(),eventType:t.getEventType(),accx:t.getAccx(),accy:t.getAccy(),accz:t.getAccz(),errors:t.getErrors()};return e&&(r.$jspbMessageInstance=t),r}),proto.AtlSample.Data.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AtlSample.Data;return proto.AtlSample.Data.deserializeBinaryFromReader(r,t)},proto.AtlSample.Data.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setUuid(r);break;case 2:r=t.readInt64();e.setTimestamp(r);break;case 3:r=t.readSint32();e.setRssi(r);break;case 4:r=t.readUint32();e.setPacketCounter(r);break;case 5:r=t.readUint32();e.setConfigNumber(r);break;case 6:r=t.readUint32();e.setRestartsUnknown(r);break;case 7:r=t.readFloat();e.setTemperatureInternal(r);break;case 8:r=t.readFloat();e.setTemperature(r);break;case 9:r=t.readFloat();e.setBatteryVoltage(r);break;case 10:r=t.readFloat();e.setEventType(r);break;case 11:r=t.readFloat();e.setAccx(r);break;case 12:r=t.readFloat();e.setAccy(r);break;case 13:r=t.readFloat();e.setAccz(r);break;case 14:r=t.readUint32();e.setErrors(r);break;default:t.skipField()}}return e},proto.AtlSample.Data.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AtlSample.Data.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AtlSample.Data.prototype.serializeBinaryToWriter=function(e){var t=void 0;(t=this.getUuid()).length>0&&e.writeString(1,t),0!==(t=this.getTimestamp())&&e.writeInt64(2,t),0!==(t=this.getRssi())&&e.writeSint32(3,t),0!==(t=this.getPacketCounter())&&e.writeUint32(4,t),0!==(t=this.getConfigNumber())&&e.writeUint32(5,t),0!==(t=this.getRestartsUnknown())&&e.writeUint32(6,t),0!==(t=this.getTemperatureInternal())&&e.writeFloat(7,t),0!==(t=this.getTemperature())&&e.writeFloat(8,t),0!==(t=this.getBatteryVoltage())&&e.writeFloat(9,t),0!==(t=this.getEventType())&&e.writeFloat(10,t),0!==(t=this.getAccx())&&e.writeFloat(11,t),0!==(t=this.getAccy())&&e.writeFloat(12,t),0!==(t=this.getAccz())&&e.writeFloat(13,t),0!==(t=this.getErrors())&&e.writeUint32(14,t)},proto.AtlSample.Data.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AtlSample.Data.prototype.getUuid=function(){return i.Message.getFieldProto3(this,1,"")},proto.AtlSample.Data.prototype.setUuid=function(e){i.Message.setField(this,1,e)},proto.AtlSample.Data.prototype.getTimestamp=function(){return i.Message.getFieldProto3(this,2,0)},proto.AtlSample.Data.prototype.setTimestamp=function(e){i.Message.setField(this,2,e)},proto.AtlSample.Data.prototype.getRssi=function(){return i.Message.getFieldProto3(this,3,0)},proto.AtlSample.Data.prototype.setRssi=function(e){i.Message.setField(this,3,e)},proto.AtlSample.Data.prototype.getPacketCounter=function(){return i.Message.getFieldProto3(this,4,0)},proto.AtlSample.Data.prototype.setPacketCounter=function(e){i.Message.setField(this,4,e)},proto.AtlSample.Data.prototype.getConfigNumber=function(){return i.Message.getFieldProto3(this,5,0)},proto.AtlSample.Data.prototype.setConfigNumber=function(e){i.Message.setField(this,5,e)},proto.AtlSample.Data.prototype.getRestartsUnknown=function(){return i.Message.getFieldProto3(this,6,0)},proto.AtlSample.Data.prototype.setRestartsUnknown=function(e){i.Message.setField(this,6,e)},proto.AtlSample.Data.prototype.getTemperatureInternal=function(){return i.Message.getFieldProto3(this,7,0)},proto.AtlSample.Data.prototype.setTemperatureInternal=function(e){i.Message.setField(this,7,e)},proto.AtlSample.Data.prototype.getTemperature=function(){return i.Message.getFieldProto3(this,8,0)},proto.AtlSample.Data.prototype.setTemperature=function(e){i.Message.setField(this,8,e)},proto.AtlSample.Data.prototype.getBatteryVoltage=function(){return i.Message.getFieldProto3(this,9,0)},proto.AtlSample.Data.prototype.setBatteryVoltage=function(e){i.Message.setField(this,9,e)},proto.AtlSample.Data.prototype.getEventType=function(){return i.Message.getFieldProto3(this,10,0)},proto.AtlSample.Data.prototype.setEventType=function(e){i.Message.setField(this,10,e)},proto.AtlSample.Data.prototype.getAccx=function(){return i.Message.getFieldProto3(this,11,0)},proto.AtlSample.Data.prototype.setAccx=function(e){i.Message.setField(this,11,e)},proto.AtlSample.Data.prototype.getAccy=function(){return i.Message.getFieldProto3(this,12,0)},proto.AtlSample.Data.prototype.setAccy=function(e){i.Message.setField(this,12,e)},proto.AtlSample.Data.prototype.getAccz=function(){return i.Message.getFieldProto3(this,13,0)},proto.AtlSample.Data.prototype.setAccz=function(e){i.Message.setField(this,13,e)},proto.AtlSample.Data.prototype.getErrors=function(){return i.Message.getFieldProto3(this,14,0)},proto.AtlSample.Data.prototype.setErrors=function(e){i.Message.setField(this,14,e)},proto.AtlSample.DataArray=function(e){i.Message.initialize(this,e,0,-1,proto.AtlSample.DataArray.repeatedFields_,null)},o.inherits(proto.AtlSample.DataArray,i.Message),o.DEBUG&&!COMPILED&&(proto.AtlSample.DataArray.displayName="proto.AtlSample.DataArray"),proto.AtlSample.DataArray.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.AtlSample.DataArray.prototype.toObject=function(e){return proto.AtlSample.DataArray.toObject(e,this)},proto.AtlSample.DataArray.toObject=function(e,t){var r={samplesList:i.Message.toObjectList(t.getSamplesList(),proto.AtlSample.Data.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.AtlSample.DataArray.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.AtlSample.DataArray;return proto.AtlSample.DataArray.deserializeBinaryFromReader(r,t)},proto.AtlSample.DataArray.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.AtlSample.Data;t.readMessage(r,proto.AtlSample.Data.deserializeBinaryFromReader),e.getSamplesList().push(r),e.setSamplesList(e.getSamplesList());break;default:t.skipField()}}return e},proto.AtlSample.DataArray.serializeBinaryToWriter=function(e,t){e.serializeBinaryToWriter(t)},proto.AtlSample.DataArray.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()},proto.AtlSample.DataArray.prototype.serializeBinaryToWriter=function(e){var t;(t=this.getSamplesList()).length>0&&e.writeRepeatedMessage(1,t,proto.AtlSample.Data.serializeBinaryToWriter)},proto.AtlSample.DataArray.prototype.cloneMessage=function(){return i.Message.cloneMessage(this)},proto.AtlSample.DataArray.prototype.getSamplesList=function(){return i.Message.getRepeatedWrapperField(this,proto.AtlSample.Data,1)},proto.AtlSample.DataArray.prototype.setSamplesList=function(e){i.Message.setRepeatedWrapperField(this,1,e)},proto.AtlSample.DataArray.prototype.clearSamplesList=function(){this.setSamplesList([])},o.object.extend(t,proto.AtlSample)}]);